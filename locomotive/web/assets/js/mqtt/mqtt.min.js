/** https://cdnjs.cloudflare.com/ajax/libs/mqtt/5.14.1/mqtt.esm.min.js */
var as=Object.defineProperty,Yb=Object.getOwnPropertyDescriptor,Jb=Object.getOwnPropertyNames,Xb=Object.prototype.hasOwnProperty,ze=(e,t)=>()=>t=e?e(e=0):t,D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kr=(e,t)=>{for(var r in t)as(e,r,{get:t[r],enumerable:!0})},Zb=(t,r,n,i)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let e of Jb(r))Xb.call(t,e)||e===n||as(t,e,{get:()=>r[e],enumerable:!(i=Yb(r,e))||i.enumerable});return t},me=e=>Zb(as({},"__esModule",{value:!0}),e),A=ze(()=>{}),M={};function cs(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ew(){Qr&&wr&&(Qr=!1,wr.length?Mt=wr.concat(Mt):Pi=-1,Mt.length&&ic())}function ic(){if(!Qr){var e=setTimeout(ew,0);Qr=!0;for(var t=Mt.length;t;){for(wr=Mt,Mt=[];++Pi<t;)wr&&wr[Pi].run();Pi=-1,t=Mt.length}wr=null,Qr=!1,clearTimeout(e)}}function oc(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Mt.push(new sc(e,t)),1!==Mt.length||Qr||setTimeout(ic,0)}function sc(e,t){this.fun=e,this.array=t}function Ue(){}function Ac(e){cs("_linkedBinding")}function Pc(e){cs("dlopen")}function Oc(){return[]}function Rc(){return[]}function Dc(e,t){if(!e)throw new Error(t||"assertion error")}function $c(){return!1}function af(){return Jt.now()/1e3}function Oi(e){var t=Math.floor(.001*(Date.now()-Jt.now())),r=.001*Jt.now(),t=Math.floor(r)+t,r=Math.floor(r%1*1e9);return e&&(t-=e[0],(r-=e[1])<0&&(t--,r+=ls)),[t,r]}function Nt(){return _f}function mf(e){return[]}Kr(M,{_debugEnd:()=>Gc,_debugProcess:()=>Vc,_events:()=>lf,_eventsCount:()=>cf,_exiting:()=>xc,_fatalExceptions:()=>Fc,_getActiveHandles:()=>Rc,_getActiveRequests:()=>Oc,_kill:()=>Cc,_linkedBinding:()=>Ac,_maxListeners:()=>uf,_preload_modules:()=>of,_rawDebug:()=>Sc,_startProfilerIdleNotifier:()=>zc,_stopProfilerIdleNotifier:()=>Kc,_tickCallback:()=>Hc,abort:()=>Xc,addListener:()=>ff,allowedNodeEnvironmentFlags:()=>Uc,arch:()=>uc,argv:()=>fc,argv0:()=>nf,assert:()=>Dc,binding:()=>gc,browser:()=>vc,chdir:()=>mc,config:()=>Tc,cpuUsage:()=>Ri,cwd:()=>wc,debugPort:()=>rf,default:()=>_f,dlopen:()=>Pc,domain:()=>Ic,emit:()=>gf,emitWarning:()=>yc,env:()=>cc,execArgv:()=>hc,execPath:()=>tf,exit:()=>qc,features:()=>jc,hasUncaughtExceptionCaptureCallback:()=>$c,hrtime:()=>Oi,kill:()=>Nc,listeners:()=>mf,memoryUsage:()=>Mc,moduleLoadList:()=>Ec,nextTick:()=>oc,off:()=>df,on:()=>Nt,once:()=>hf,openStdin:()=>Lc,pid:()=>Zc,platform:()=>lc,ppid:()=>ef,prependListener:()=>bf,prependOnceListener:()=>wf,reallyExit:()=>kc,release:()=>_c,removeAllListeners:()=>yf,removeListener:()=>pf,resourceUsage:()=>Bc,setSourceMapsEnabled:()=>sf,setUncaughtExceptionCaptureCallback:()=>Wc,stderr:()=>Yc,stdin:()=>Jc,stdout:()=>Qc,title:()=>ac,umask:()=>bc,uptime:()=>af,version:()=>dc,versions:()=>pc});var Mt,Qr,wr,Pi,ac,uc,lc,cc,fc,hc,dc,pc,yc,gc,bc,wc,mc,_c,vc,Sc,Ec,Ic,xc,Tc,kc,Cc,Ri,Bc,Mc,Nc,qc,Lc,Uc,jc,Fc,Wc,Hc,Vc,Gc,zc,Kc,Qc,Yc,Jc,Xc,Zc,ef,tf,rf,nf,of,sf,Jt,us,ls,uf,lf,cf,ff,hf,df,pf,yf,gf,bf,wf,_f,vf=ze(()=>{A(),x(),I(),Qr=!(Mt=[]),Pi=-1,sc.prototype.run=function(){this.fun.apply(null,this.array)},uc="x64",lc=ac="browser",cc={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},fc=["/usr/bin/node"],hc=[],dc="v16.8.0",pc={},yc=function(e,t){console.warn((t?t+": ":"")+e)},gc=function(e){cs("binding")},bc=function(e){return 0},Mc=Bc=Ri=function(){return{}},jc={inspector:!(Uc={}),debug:!(Tc={}),uv:xc=!(Ic={}),ipv6:!(Ec=[]),tls_alpn:!(vc=!0),tls_sni:!(_c={name:"node",sourceUrl:"",headersUrl:"",libUrl:""}),tls_ocsp:!(mc=function(e){}),tls:!(wc=function(){return"/"}),cached_builtins:!0},Zc=2,ef=1,tf="/bin/usr/node",rf=9229,nf="node",of=[],sf=Xc=Kc=zc=Gc=Vc=Hc=Wc=Fc=Lc=qc=Nc=Cc=kc=Sc=Ue,(Jc=Yc=Qc=void 0)===(Jt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(us=Date.now(),Jt.timing&&Jt.timing.navigationStart&&(us=Jt.timing.navigationStart),Jt.now=()=>Date.now()-us),ls=1e9,Oi.bigint=function(e){e=Oi(e);return"u"<typeof BigInt?e[0]*ls+e[1]:BigInt(e[0]*ls)+BigInt(e[1])},_f={version:dc,versions:pc,arch:uc,platform:lc,browser:vc,release:_c,_rawDebug:Sc,moduleLoadList:Ec,binding:gc,_linkedBinding:Ac,_events:lf={},_eventsCount:cf=0,_maxListeners:uf=10,on:wf=bf=yf=pf=df=hf=ff=Nt,addListener:ff,once:hf,off:df,removeListener:pf,removeAllListeners:yf,emit:gf=Ue,prependListener:bf,prependOnceListener:wf,listeners:mf,domain:Ic,_exiting:xc,config:Tc,dlopen:Pc,uptime:af,_getActiveRequests:Oc,_getActiveHandles:Rc,reallyExit:kc,_kill:Cc,cpuUsage:Ri,resourceUsage:Bc,memoryUsage:Mc,kill:Nc,exit:qc,openStdin:Lc,allowedNodeEnvironmentFlags:Uc,assert:Dc,features:jc,_fatalExceptions:Fc,setUncaughtExceptionCaptureCallback:Wc,hasUncaughtExceptionCaptureCallback:$c,emitWarning:yc,nextTick:oc,_tickCallback:Hc,_debugProcess:Vc,_debugEnd:Gc,_startProfilerIdleNotifier:zc,_stopProfilerIdleNotifier:Kc,stdout:Qc,stdin:Jc,stderr:Yc,abort:Xc,umask:bc,chdir:mc,cwd:wc,env:cc,title:ac,argv:fc,execArgv:hc,pid:Zc,ppid:ef,execPath:tf,debugPort:rf,hrtime:Oi,argv0:nf,_preload_modules:of,setSourceMapsEnabled:sf}}),I=ze(()=>{vf()});function tw(){if(Sf)return On;Sf=!0,On.byteLength=function(e){var e=c(e),t=e[0],e=e[1];return 3*(t+e)/4-e},On.toByteArray=function(e){var t,r,n=c(e),i=n[0],n=n[1],o=new u(function(e,t){return 3*(e+t)/4-t}(i,n)),s=0,a=0<n?i-4:i;for(r=0;r<a;r+=4)t=l[e.charCodeAt(r)]<<18|l[e.charCodeAt(r+1)]<<12|l[e.charCodeAt(r+2)]<<6|l[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===n&&(t=l[e.charCodeAt(r)]<<2|l[e.charCodeAt(r+1)]>>4,o[s++]=255&t),1===n&&(t=l[e.charCodeAt(r)]<<10|l[e.charCodeAt(r+1)]<<4|l[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},On.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}(n));return i.join("")}(e,o,s<o+16383?s:o+16383));return 1==n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),i.join("")};for(var a=[],l=[],u=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)a[t]=e[t],l[e.charCodeAt(t)]=t;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}return l[45]=62,l[95]=63,On}function rw(){return Ef||(Ef=!0,ki.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,i=e[t+h];for(h+=f,o=i&(1<<-c)-1,i>>=-c,c+=a;0<c;o=256*o+e[t+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;0<c;s=256*s+e[t+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,n),o-=u}return(i?-1:1)*s*Math.pow(2,o-n)},ki.write=function(e,t,r,n,i,o){var s,a,l=8*o-i-1,u=(1<<l)-1,c=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-s))<1&&(s--,n*=2),2<=(t+=1<=s+c?h/n:h*Math.pow(2,1-c))*n&&(s++,n/=2),u<=s+c?(a=0,s=u):1<=s+c?(a=(t*n-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));8<=i;e[r+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;0<l;e[r+f]=255&s,f+=p,s/=256,l-=8);e[r+f-p]|=128*o}),ki}function If(){if(Af)return mr;Af=!0;let g=tw(),o=rw(),e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,t=(mr.Buffer=c,mr.SlowBuffer=function(e){return c.alloc(+(e=+e!=e?0:e))},mr.INSPECT_MAX_BYTES=50,2147483647);function a(e){if(e>t)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return Object.setPrototypeOf(e,c.prototype),e}function c(e,t,r){if("number"!=typeof e)return n(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function n(n,i,e){if("string"==typeof n){var o=n,s=i;if(!c.isEncoding(s="string"!=typeof s||""===s?"utf8":s))throw new TypeError("Unknown encoding: "+s);let e=0|h(o,s),t=a(e),r=t.write(o,s);return t=r!==e?t.slice(0,r):t}if(ArrayBuffer.isView(n))return M(o=n,Uint8Array)?r((s=new Uint8Array(o)).buffer,s.byteOffset,s.byteLength):l(o);if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(M(n,ArrayBuffer)||n&&M(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(M(n,SharedArrayBuffer)||n&&M(n.buffer,SharedArrayBuffer)))return r(n,i,e);if("number"==typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');var t=n.valueOf&&n.valueOf();if(null!=t&&t!==n)return c.from(t,i,e);t=function(e){{var t,r;if(c.isBuffer(e))return t=0|u(e.length),0!==(r=a(t)).length&&e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||j(e.length)?a(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(n);if(t)return t;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof n[Symbol.toPrimitive])return c.from(n[Symbol.toPrimitive]("string"),i,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return i(e),a(e<0?0:0|u(e))}function l(t){let r=t.length<0?0:0|u(t.length),n=a(r);for(let e=0;e<r;e+=1)n[e]=255&t[e];return n}function r(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function u(e){if(e>=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function N(e,n,i){let t=!1;if((n=void 0===n||n<0?0:n)>this.length||(i=void 0===i||i>this.length?this.length:i)<=0||(i>>>=0)<=(n>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":{var r=this;var o=n;var s=i;let e=r.length,t=((!o||o<0)&&(o=0),(!s||s<0||e<s)&&(s=e),"");for(let e=o;e<s;++e)t+=W[r[e]];return t;return}case"utf8":case"utf-8":return y(this,n,i);case"ascii":{var a=this;o=n;var l=i;let t="";l=Math.min(a.length,l);for(let e=o;e<l;++e)t+=String.fromCharCode(127&a[e]);return t;return}case"latin1":case"binary":{var u=this;var c=n;var h=i;let t="";h=Math.min(u.length,h);for(let e=c;e<h;++e)t+=String.fromCharCode(u[e]);return t;return}case"base64":return c=this,d=i,0===(p=n)&&d===c.length?g.fromByteArray(c):g.fromByteArray(c.slice(p,d));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":{p=this;d=n;var f=i;let t=p.slice(d,f),r="";for(let e=0;e<t.length-1;e+=2)r+=String.fromCharCode(t[e]+256*t[e+1]);return r;return}default:if(t)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),t=!0}var p,d}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function p(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=j(r=+r)?i?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:d(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):d(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function d(r,n,t,e,i){let o=1,s=r.length,a=n.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||n.length<2)return-1;o=2,s/=2,a/=2,t/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}let u;if(i){let e=-1;for(u=t;u<s;u++)if(l(r,u)===l(n,-1===e?0:u-e)){if(-1===e&&(e=u),u-e+1===a)return e*o}else-1!==e&&(u-=u-e),e=-1}else for(t+a>s&&(t=s-a),u=t;0<=u;u--){let t=!0;for(let e=0;e<a;e++)if(l(r,u+e)!==l(n,e)){t=!1;break}if(t)return u}return-1}function D(e,t,r,n){return C(function(t){let r=[];for(let e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(t),e,r,n)}function U(e,t,r,n){return C(function(t,r){let n,i,o,s=[];for(let e=0;e<t.length&&!((r-=2)<0);++e)n=t.charCodeAt(e),i=n>>8,o=n%256,s.push(o),s.push(i);return s}(t,e.length-r),e,r,n)}function y(a,e,t){t=Math.min(a.length,t);let r=[],l=e;for(;l<t;){let i=a[l],o=null,s=239<i?4:223<i?3:191<i?2:1;if(l+s<=t){let e,t,r,n;switch(s){case 1:i<128&&(o=i);break;case 2:128==(192&(e=a[l+1]))&&(127<(n=(31&i)<<6|63&e)&&(o=n));break;case 3:e=a[l+1],t=a[l+2],128==(192&e)&&128==(192&t)&&(2047<(n=(15&i)<<12|(63&e)<<6|63&t)&&(n<55296||57343<n)&&(o=n));break;case 4:e=a[l+1],t=a[l+2],r=a[l+3],128==(192&e)&&128==(192&t)&&128==(192&r)&&(65535<(n=(15&i)<<18|(63&e)<<12|(63&t)<<6|63&r)&&n<1114112&&(o=n))}}null===o?(o=65533,s=1):65535<o&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),l+=s}{var n=r,i=n.length;if(i<=b)return String.fromCharCode.apply(String,n);let e="",t=0;for(;t<i;)e+=String.fromCharCode.apply(String,n.slice(t,t+=b));return e}}mr.kMaxLength=t,!(c.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=n,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return t=t,r=r,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},c.allocUnsafe=s,c.allocUnsafeSlow=s,c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(r,n){if(M(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),M(n,Uint8Array)&&(n=c.from(n,n.offset,n.byteLength)),!c.isBuffer(r)||!c.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let i=r.length,o=n.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(r[e]!==n[e]){i=r[e],o=n[e];break}return i<o?-1:o<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;let n=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){let e=t[r];if(M(e,Uint8Array))i+e.length>n.length?(e=c.isBuffer(e)?e:c.from(e)).copy(n,i):Uint8Array.prototype.set.call(n,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)f(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?y(this,0,e):N.apply(this,arguments)},c.prototype.equals=function(e){if(c.isBuffer(e))return this===e||0===c.compare(this,e);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){let e="",t=mr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},e&&(c.prototype[e]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(M(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<a;++e)if(l[e]!==u[e]){o=l[e],s=u[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return p(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return p(this,e,t,r,!1)},c.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(n)?(n>>>=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i,o,s,a=this.length-r;if((void 0===n||a<n)&&(n=a),0<t.length&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");e=e||"utf8";let l=!1;for(;;)switch(e){case"hex":{var u=this;var c=t;var h=r;var f=n;h=Number(h)||0;var p=u.length-h;f?p<(f=Number(f))&&(f=p):f=p,(p=c.length)/2<f&&(f=p/2);let e;for(e=0;e<f;++e){var d=parseInt(c.substr(2*e,2),16);if(j(d))return e;u[h+e]=d}return e;return}case"utf8":case"utf-8":return p=r,s=n,C(R(t,(o=this).length-p),o,p,s);case"ascii":case"latin1":case"binary":return D(this,t,r,n);case"base64":return o=this,s=r,i=n,C(F(t),o,s,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,n);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),l=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let b=4096;function m(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function w(e,t,r,n,i){O(t,n,i,e,r,7);n=Number(t&BigInt(4294967295)),e[r++]=n,e[r++]=n>>=8,e[r++]=n>>=8,e[r++]=n>>=8,i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=i,e[r++]=i>>=8,e[r++]=i>>=8,e[r++]=i>>=8,r}function _(e,t,r,n,i){O(t,n,i,e,r,7);n=Number(t&BigInt(4294967295)),e[r+7]=n,e[r+6]=n>>=8,e[r+5]=n>>=8,e[r+4]=n>>=8,i=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=i,e[r+2]=i>>=8,e[r+1]=i>>=8,e[r]=i>>=8,r+8}function S(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function E(e,t,r,n,i){return t=+t,r>>>=0,i||S(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,i){return t=+t,r>>>=0,i||S(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length,r=((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),this.subarray(e,t));return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||m(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||m(e,t,this.length);let n=this[e+--t],i=1;for(;0<t&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||m(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||m(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||m(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||m(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||m(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=B(function(e){P(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||T(e,this.length-8),t+256*this[++e]+65536*this[++e]+this[++e]*2**24),e=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(t)+(BigInt(e)<<BigInt(32))}),c.prototype.readBigUInt64BE=B(function(e){P(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||T(e,this.length-8),t*2**24+65536*this[++e]+256*this[++e]+this[++e]),e=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(t)<<BigInt(32))+BigInt(e)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||m(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||m(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;0<n&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||m(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||m(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(e,t){e>>>=0,t||m(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||m(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||m(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=B(function(e){P(e>>>=0,"offset");var t=this[e],r=this[e+7],r=(void 0!==t&&void 0!==r||T(e,this.length-8),this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24));return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=B(function(e){P(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||T(e,this.length-8),(t<<24)+65536*this[++e]+256*this[++e]+this[++e]);return(BigInt(t)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||m(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||m(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||m(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||m(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||v(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||v(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=B(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=B(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||v(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||v(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);let i=r-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=B(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=B(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r||0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i=(n=e.length-t<n-r?e.length-t+r:n)-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===n&&i<128||"latin1"===n)&&(e=i))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0;let o;if("number"==typeof(e=e||0))for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};let I={};function x(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=this.name+` [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return this.name+` [${e}]: `+this.message}}}function k(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=4+n;r-=3)t="_"+e.slice(r-3,r)+t;return""+e.slice(0,r)+t}function O(r,n,e,t,i,o){if(e<r||r<n){let e="bigint"==typeof n?"n":"",t;throw t=0===n||n===BigInt(0)?`>= 0${e} and < 2${e} ** `+8*(o+1)+e:`>= -(2${e} ** ${8*(o+1)-1}${e}) and < 2 ** `+(8*(o+1)-1)+e,new I.ERR_OUT_OF_RANGE("value",t,r)}e=t,n=o,P(r=i,"offset"),void 0!==e[r]&&void 0!==e[r+n]||T(r,e.length-(n+1))}function P(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function T(e,t,r){throw Math.floor(e)!==e?(P(e,r),new I.ERR_OUT_OF_RANGE("offset","an integer",e)):t<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",">= 0 and <= "+t,e)}x("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"},RangeError),x("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type `+typeof t},TypeError),x("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=k(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=k(i)),i+="n"),n+=` It must be ${t}. Received `+i},RangeError);let L=/[^+/0-9A-Za-z-_]/g;function R(t,r){r=r||1/0;let n,i=t.length,o=null,s=[];for(let e=0;e<i;++e){if(55295<(n=t.charCodeAt(e))&&n<57344){if(!o){if(56319<n){-1<(r-=3)&&s.push(239,191,189);continue}if(e+1===i){-1<(r-=3)&&s.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(r-=3)&&s.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(r-=3)&&s.push(239,191,189);if(o=null,n<128){if(--r<0)break;s.push(n)}else if(n<2048){if((r-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function F(e){return g.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}let W=function(){let r="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){var i=16*t;for(let e=0;e<16;++e)n[i+e]=r[t]+r[e]}return n}();function B(e){return"u"<typeof BigInt?q:e}function q(){throw new Error("BigInt not supported")}return mr}var On,Sf,ki,Ef,mr,Af,xf=ze(()=>{A(),x(),I(),Sf=!(On={}),Ef=!(ki={}),Af=!(mr={})}),qe={};Kr(qe,{Buffer:()=>U,INSPECT_MAX_BYTES:()=>nw,default:()=>Xt,kMaxLength:()=>iw});var Xt,U,nw,iw,ke=ze(()=>{A(),x(),I(),xf(),(Xt=If()).Buffer,Xt.SlowBuffer,Xt.INSPECT_MAX_BYTES,Xt.kMaxLength,U=Xt.Buffer,nw=Xt.INSPECT_MAX_BYTES,iw=Xt.kMaxLength}),x=ze(()=>{ke()}),Ee=D((e,t)=>{"use strict";A(),x(),I();var r=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let r="";for(let e=0;e<t.length;e++)r+=`    ${t[e].stack}
`;super(r),this.name="AggregateError",this.errors=t}};t.exports={AggregateError:r,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error:Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise:Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String:String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean:Boolean,Uint8Array:Uint8Array}}),hs=D((e,t)=>{"use strict";A(),x(),I(),t.exports={format(e,...r){return e.replace(/%([sdifj])/g,function(...[,e]){let t=r.shift();return"f"===e?t.toFixed(6):"j"===e?JSON.stringify(t):"s"===e&&"object"==typeof t?`${t.constructor!==Object?t.constructor.name:""} {}`.trim():t.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return String(e)+"n";case"boolean":case"undefined":return String(e);case"object":return"{}"}}}}),De=D((e,t)=>{"use strict";A(),x(),I();var{format:i,inspect:h}=hs(),r=Ee()["AggregateError"],n=globalThis.AggregateError||r,o=Symbol("kIsNodeError"),f=["string","function","number","object","Function","Object","boolean","bigint","symbol"],p=/^([A-Z][a-z0-9]*)+$/,s={};function d(e,t){if(!e)throw new s.ERR_INTERNAL_ASSERTION(t)}function a(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=4+n;r-=3)t="_"+e.slice(r-3,r)+t;return""+e.slice(0,r)+t}function l(t,r,e){class n extends(e=e||Error){constructor(...e){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);var n=(t.match(/%[dfijoOs]/g)||[]).length;return d(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),0===r.length?t:i(t,...r)}(t,r,e))}toString(){return this.name+` [${t}]: `+this.message}}Object.defineProperties(n.prototype,{name:{value:e.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return this.name+` [${t}]: `+this.message},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[o]=!0,s[t]=n}function u(e){var t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}r=class extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new s.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};l("ERR_ASSERTION","%s",Error),l("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ",i=(e.endsWith(" argument")?n+=e+" ":n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ",[]),o=[],s=[];for(var a of t)d("string"==typeof a,"All expected entries have to be of type string"),f.includes(a)?i.push(a.toLowerCase()):p.test(a)?o.push(a):(d("object"!==a,'The value "object" should be written as "Object"'),s.push(a));if(0<o.length&&(-1!==(e=i.indexOf("object"))&&(i.splice(i,e,1),o.push("Object"))),0<i.length){switch(i.length){case 1:n+="of type "+i[0];break;case 2:n+=`one of type ${i[0]} or `+i[1];break;default:var l=i.pop();n+=`one of type ${i.join(", ")}, or `+l}(0<o.length||0<s.length)&&(n+=" or ")}if(0<o.length){switch(o.length){case 1:n+="an instance of "+o[0];break;case 2:n+=`an instance of ${o[0]} or `+o[1];break;default:var u=o.pop();n+=`an instance of ${o.join(", ")}, or `+u}0<s.length&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=""+s[0];break;case 2:n+=`one of ${s[0]} or `+s[1];break;default:var c=s.pop();n+=`one of ${s.join(", ")}, or `+c}if(null==r)n+=". Received "+r;else if("function"==typeof r&&r.name)n+=". Received function "+r.name;else if("object"==typeof r)null!=(t=r.constructor)&&t.name?n+=". Received an instance of "+r.constructor.name:(e=h(r,{depth:-1}),n+=". Received "+e);else{let e=h(r,{colors:!1});25<e.length&&(e=e.slice(0,25)+"..."),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),l("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=h(t);return 128<n.length&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received `+n},TypeError),l("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!=(e=r.constructor)&&e.name?"instance of "+r.constructor.name:"type "+typeof r}.`},TypeError),l("ERR_MISSING_ARGS",(...e)=>{d(0<e.length,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:var n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}return t+" must be specified"},TypeError),l("ERR_OUT_OF_RANGE",(e,t,r)=>{d(t,'Missing "range" argument');let n;var i;return Number.isInteger(r)&&Math.abs(r)>2**32?n=a(String(r)):"bigint"==typeof r?(n=String(r),((i=BigInt(2)**BigInt(32))<r||r<-i)&&(n=a(n)),n+="n"):n=h(r),`The value of "${e}" is out of range. It must be ${t}. Received `+n},RangeError),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),l("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),l("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),l("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),l("ERR_STREAM_WRITE_AFTER_END","write after end",Error),l("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:r,aggregateTwoErrors:u(function(t,r){if(t&&r&&t!==r){if(Array.isArray(r.errors))return r.errors.push(t),r;let e=new n([r,t],r.message);return e.code=r.code,e}return t||r}),hideStackFrames:u,codes:s}}),Yr=D((e,t)=>{"use strict";A(),x(),I();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r}),Zt={};function yw(){if(Bf)return Ni;Bf=!0;var e="object"==typeof Reflect?Reflect:null,l=e&&"function"==typeof e.apply?e.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};var t=e&&"function"==typeof e.ownKeys?e.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},r=Number.isNaN||function(e){return e!=e};function n(){n.init.call(this)}(Ni=n).once=function(a,l){return new Promise(function(e,t){function r(e){a.removeListener(l,n),t(e)}function n(){"function"==typeof a.removeListener&&a.removeListener("error",r),e([].slice.call(arguments))}var i,o,s;p(a,l,n,{once:!0}),"error"!==l&&(o=r,s={once:!0},"function"==typeof(i=a).on&&p(i,"error",o,s))})},(n.EventEmitter=n).prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var i=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function o(e,t,r,n){var i,o;return u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=s(e))&&o.length>i&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,r=n,console&&console.warn&&console.warn(r))),e}function a(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function c(e,t,r){e=e._events;if(void 0===e)return[];e=e[t];{if(void 0===e)return[];if("function"==typeof e)return r?[e.listener||e]:[e];if(r){for(var n=e,i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}return f(e,e.length)}}function h(e){var t=this._events;if(void 0!==t){t=t[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(r,n,i,o){if("function"==typeof r.on)o.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(n,function e(t){o.once&&r.removeEventListener(n,e),i(t)})}}return Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return s(this)},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if((o=0<t.length?t[0]:o)instanceof Error)throw o;n=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw n.context=o,n}var o=i[e];if(void 0===o)return!1;if("function"==typeof o)l(o,this,t);else for(var s=o.length,a=f(o,s),r=0;r<s;++r)l(a[r],this,t);return!0},n.prototype.on=n.prototype.addListener=function(e,t){return o(this,e,t,!1)},n.prototype.prependListener=function(e,t){return o(this,e,t,!0)},n.prototype.once=function(e,t){return u(t),this.on(e,a(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,a(this,e,t)),this},n.prototype.off=n.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(0===i)r.shift();else{var a=r;var l=i;for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},n.prototype.removeAllListeners=function(e){var t,r=this._events;if(void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},n.prototype.listeners=function(e){return c(this,e,!0)},n.prototype.rawListeners=function(e){return c(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},n.prototype.listenerCount=h,n.prototype.eventNames=function(){return 0<this._eventsCount?t(this._events):[]},Ni}Kr(Zt,{EventEmitter:()=>gw,default:()=>Rn,defaultMaxListeners:()=>bw,init:()=>ww,listenerCount:()=>mw,on:()=>_w,once:()=>vw});var Ni,Bf,Rn,gw,bw,ww,mw,_w,vw,er=ze(()=>{A(),x(),I(),Bf=!(Ni={}),(Rn=yw()).once,Rn.once=function(o,e){return new Promise((t,r)=>{function n(...e){void 0!==i&&o.removeListener("error",i),t(e)}let i;"error"!==e&&(i=e=>{o.removeListener(name,n),r(e)},o.once("error",i)),o.once(e,n)})},Rn.on=function(t,r){let n=[],i=[],o=null,s=!1,a={async next(){var e=n.shift();return e?createIterResult(e,!1):o?(e=Promise.reject(o),o=null,e):s?createIterResult(void 0,!0):new Promise((e,t)=>i.push({resolve:e,reject:t}))},async return(){t.removeListener(r,l),t.removeListener("error",u),s=!0;for(var e of i)e.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(e){o=e,t.removeListener(r,l),t.removeListener("error",u)},[Symbol.asyncIterator](){return this}};return t.on(r,l),t.on("error",u),a;function l(...e){let t=i.shift();t?t.resolve(createIterResult(e,!1)):n.push(e)}function u(e){s=!0;let t=i.shift();t?t.reject(e):o=e,a.return()}},{EventEmitter:gw,defaultMaxListeners:bw,init:ww,listenerCount:mw,on:_w,once:vw}=Rn}),$e=D((e,t)=>{"use strict";A(),x(),I();ke();var r=me(qe),{format:n,inspect:i}=hs(),o=De()["codes"]["ERR_INVALID_ARG_TYPE"],{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=Ee(),u=globalThis.AbortSignal||Yr().AbortSignal,c=globalThis.AbortController||Yr().AbortController,h=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||r.Blob,r=typeof f<"u"?function(e){return e instanceof f}:function(e){return!1},p=(e,t)=>{if(!(void 0===e||null!==e&&"object"==typeof e&&"aborted"in e))throw new o(t,"AbortSignal",e)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(t){let r=!1;return function(...e){r||(r=!0,t.apply(this,e))}},createDeferredPromise:function(){let r,n;return{promise:new Promise((e,t)=>{r=e,n=t}),resolve:r,reject:n}},promisify(e){return new Promise((r,n)=>{e((e,...t)=>e?n(e):r(...t))})},debuglog(){return function(){}},format:n,inspect:i,types:{isAsyncFunction(e){return e instanceof h},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:r,deprecate(e,t){return e},addAbortListener:(er(),me(Zt).addAbortListener||function(e,t){if(void 0===e)throw new o("signal","AbortSignal",e);p(e,"signal");var r=t,n="listener";if("function"!=typeof r)throw new o(n,"Function",r);let i;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),i=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null!=(e=i)&&e()}}}),AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];let t=new c,r=()=>t.abort();return e.forEach(e=>{p(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Xr=D((L,e)=>{"use strict";A(),x(),I();var{ArrayIsArray:o,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:h,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:d,StringPrototypeToUpperCase:r,StringPrototypeTrim:g}=Ee(),{hideStackFrames:t,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:w}}=De(),_=$e()["normalizeEncoding"],{isAsyncFunction:S,isArrayBufferView:E}=$e().types,k={};var O=/^[0-7]+$/;var c=t((e,t,r=c,n=u)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!a(e))throw new v(t,"an integer",e);if(e<r||n<e)throw new v(t,`>= ${r} && <= `+n,e)}),u=t((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!a(e))throw new v(t,"an integer",e);if(e<r||n<e)throw new v(t,`>= ${r} && <= `+n,e)}),P=t((e,t,r=!1)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!a(e))throw new v(t,"an integer",e);var r=r?1:0,n=4294967295;if(e<r||n<e)throw new v(t,`>= ${r} && <= `+n,e)});function T(e,t){if("string"!=typeof e)throw new b(t,"string",e)}var R=t((e,t,r)=>{if(!n(r,e))throw r="must be one of: "+i(s(r,e=>"string"==typeof e?`'${e}'`:d(e)),", "),new m(t,e,r)});function C(e,t){if("boolean"!=typeof e)throw new b(t,"boolean",e)}function M(e,t,r){return null!=e&&f(e,t)?e[t]:r}var j=t((e,t,r=null)=>{var n=M(r,"allowArray",!1),i=M(r,"allowFunction",!1);if(!M(r,"nullable",!1)&&null===e||!n&&o(e)||"object"!=typeof e&&(!i||"function"!=typeof e))throw new b(t,"Object",e)}),B=t((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new b(t,"a dictionary",e)}),N=t((e,t,r=0)=>{if(!o(e))throw new b(t,"Array",e);if(e.length<r)throw new m(t,e,"must be longer than "+r)});var F=t((e,t="buffer")=>{if(!E(e))throw new b(t,["Buffer","TypedArray","DataView"],e)});var D=t((e,t)=>{if(!(void 0===e||null!==e&&"object"==typeof e&&"aborted"in e))throw new b(t,"AbortSignal",e)}),W=t((e,t)=>{if("function"!=typeof e)throw new b(t,"Function",e)}),q=t((e,t)=>{if("function"!=typeof e||S(e))throw new b(t,"Function",e)}),t=t((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)});var H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function U(e,t){if("u"<typeof e||!p(H,e))throw new m(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if("string"==typeof(e="u"<typeof e?r:e)){if(null===p(O,e))throw new m(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return P(e,t),e},validateArray:N,validateStringArray:function(t,r){N(t,r);for(let e=0;e<t.length;e++)T(t[e],`${r}[${e}]`)},validateBooleanArray:function(t,r){N(t,r);for(let e=0;e<t.length;e++)C(t[e],`${r}[${e}]`)},validateAbortSignalArray:function(t,r){N(t,r);for(let e=0;e<t.length;e++){var n=t[e],i=`${r}[${e}]`;if(null==n)throw new b(i,"AbortSignal",n);D(n,i)}},validateBoolean:C,validateBuffer:F,validateDictionary:B,validateEncoding:function(e,t){var r=_(t),e=e.length;if("hex"===r&&e%2!=0)throw new m("encoding",t,"is invalid for data of length "+e)},validateFunction:W,validateInt32:u,validateInteger:c,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&n<e||(null!=r||null!=n)&&l(e))throw new v(t,(null!=r?">= "+r:"")+(null!=r&&null!=n?" && ":"")+(null!=n?"<= "+n:""),e)},validateObject:j,validateOneOf:R,validatePlainFunction:q,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||65535<e||0===e&&!r)throw new y(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(T(e,t),void 0===k[e])throw void 0!==k[r(e)]?new w(e+" (signals must use all capital letters)"):new w(e)},validateString:T,validateUint32:P,validateUndefined:t,validateUnion:function(e,t,r){if(!n(r,e))throw new b(t,`('${i(r,"|")}')`,e)},validateAbortSignal:D,validateLinkHeaderValue:function(n){if("string"==typeof n)return U(n,"hints"),n;if(o(n)){let t=n.length,r="";if(0===t)return r;for(let e=0;e<t;e++){var i=n[e];U(i,"hints"),r+=i,e!==t-1&&(r+=", ")}return r}throw new m("hints",n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}}),tr=D((e,t)=>{A(),x(),I();var r,n,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch{r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch{n=o}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch{try{return r.call(null,e,0)}catch{return r.call(this,e,0)}}}var a,l=[],u=!1,c=-1;function h(){u&&a&&(u=!1,a.length?l=a.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return(n=clearTimeout)(e);try{n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function d(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}),mt=D((e,t)=>{"use strict";A(),x(),I();var{SymbolAsyncIterator:r,SymbolIterator:n,SymbolFor:i}=Ee(),o=i("nodejs.stream.destroyed"),s=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),u=i("nodejs.stream.disturbed"),c=i("nodejs.webstream.isClosedPromise"),i=i("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null==(t=e._readableState)?void 0:t.readable)||e._writableState&&!e._readableState)}function f(e){return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null==(e=e._writableState)?void 0:e.writable))}function p(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function d(e){return!(!e||p(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function g(e){return!(!e||p(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function y(e){return!(!e||p(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function b(e){if(!p(e))return null;var t=e._writableState,r=e._readableState,t=t||r;return!!(e.destroyed||e[o]||null!=t&&t.destroyed)}function m(e){if(!f(e))return null;if(!0===e.writableEnded)return!0;e=e._writableState;return(null==e||!e.errored)&&("boolean"!=typeof e?.ended?null:e.ended)}function v(e,t){if(!h(e))return null;e=e._readableState;return(null==e||!e.errored)&&("boolean"!=typeof e?.endEmitted?null:!!(e.endEmitted||!1===t&&!0===e.ended&&0===e.length))}function w(e){return e&&null!=e[a]?e[a]:"boolean"!=typeof e?.readable?null:!b(e)&&(h(e)&&e.readable&&!v(e))}function _(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof e?.writable?null:!b(e)&&(f(e)&&e.writable&&!m(e))}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function E(e){return"boolean"==typeof e._sent100&&S(e)}t.exports={isDestroyed:b,kIsDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!=(t=e[u])?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t;return!!(e&&(null!=(t=null!=(t=null!=(t=null!=(t=null!=(t=null!=(t=e[s])?t:e.readableErrored)?t:e.writableErrored)?t:null==(t=e._readableState)?void 0:t.errorEmitted)?t:null==(t=e._writableState)?void 0:t.errorEmitted)?t:null==(t=e._readableState)?void 0:t.errored)?t:null!=(t=e._writableState)&&t.errored))},kIsErrored:s,isReadable:w,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:i,kIsWritable:l,isClosed:function(e){if(!p(e))return null;if("boolean"==typeof e.closed)return e.closed;var t=e._writableState,r=e._readableState;return"boolean"==typeof t?.closed||"boolean"==typeof r?.closed?t?.closed||r?.closed:"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return p(e)?!!b(e)||!(!1!==t?.readable&&w(e)||!1!==t?.writable&&_(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[r]:!1!==t&&"function"==typeof e[r]||"function"==typeof e[n])},isReadableNodeStream:h,isReadableStream:d,isReadableEnded:function(e){return h(e)?!0===e.readableEnded||!(!(e=e._readableState)||e.errored)&&("boolean"!=typeof e?.ended?null:e.ended):null},isReadableFinished:v,isReadableErrored:function(e){return p(e)?e.readableErrored||(null!=(e=null==(e=e._readableState)?void 0:e.errored)?e:null):null},isNodeStream:p,isWebStream:function(e){return d(e)||g(e)||y(e)},isWritable:_,isWritableNodeStream:f,isWritableStream:g,isWritableEnded:m,isWritableFinished:function(e,t){return f(e)?!0===e.writableFinished||(null==(e=e._writableState)||!e.errored)&&("boolean"!=typeof e?.finished?null:!!(e.finished||!1===t&&!0===e.ended&&0===e.length)):null},isWritableErrored:function(e){return p(e)?e.writableErrored||(null!=(e=null==(e=e._writableState)?void 0:e.errored)?e:null):null},isServerRequest:function(e){return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null==(e=e.req)?void 0:e.upgradeOrConnect)},isServerResponse:E,willEmitClose:function(e){if(!p(e))return null;var t=e._writableState,r=e._readableState;return!(t=t||r)&&E(e)||!!(t&&t.autoDestroy&&t.emitClose&&!1===t.closed)},isTransformStream:y}}),Ut=D((e,t)=>{"use strict";A(),x(),I();var k,O=tr(),{AbortError:P,codes:r}=De(),{ERR_INVALID_ARG_TYPE:T,ERR_STREAM_PREMATURE_CLOSE:R}=r,{kEmptyObject:C,once:M}=$e(),{validateAbortSignal:j,validateFunction:B,validateObject:N,validateBoolean:n}=Xr(),{Promise:s,PromisePrototypeThen:D,SymbolDispose:U}=Ee(),{isClosed:L,isReadable:F,isReadableNodeStream:W,isReadableStream:q,isReadableFinished:H,isReadableErrored:V,isWritable:z,isWritableNodeStream:G,isWritableStream:K,isWritableFinished:$,isWritableErrored:Q,isNodeStream:Y,willEmitClose:J,kIsClosedPromise:X}=mt();var Z=()=>{};function a(n,i,o){if(2===arguments.length?(o=i,i=C):null==i?i=C:N(i,"options"),B(o,"callback"),j(i.signal,"options.signal"),o=M(o),q(n)||K(n)){var s=n;var a=i;var l=o;let t=!1,e=Z;if(a.signal)if(e=()=>{t=!0,l.call(s,new P(void 0,{cause:a.signal.reason}))},a.signal.aborted)O.nextTick(e);else{let t=(k=k||$e().addAbortListener)(a.signal,e),r=l;l=M((...e)=>{t[U](),r.apply(s,e)})}var r=(...e)=>{t||O.nextTick(()=>l.apply(s,e))};return D(s[X].promise,r,r),Z;return}if(!Y(n))throw new T("stream",["ReadableStream","WritableStream","Stream"],n);let t=null!=(r=i.readable)?r:W(n),u=null!=(E=i.writable)?E:G(n),e=n._writableState,c=n._readableState,h=()=>{n.writable||d()},f=J(n)&&W(n)===t&&G(n)===u,p=$(n,!1),d=()=>{p=!0,(f=n.destroyed?!1:f)&&(!n.readable||t)||t&&!g||o.call(n)},g=H(n,!1),y=()=>{g=!0,(f=n.destroyed?!1:f)&&(!n.writable||u)||u&&!p||o.call(n)},b=e=>{o.call(n,e)},m=L(n),v=()=>{m=!0;var e=Q(n)||V(n);return e&&"boolean"!=typeof e?o.call(n,e):(!t||g||!W(n,!0)||H(n,!1))&&(!u||p||$(n,!1))?void o.call(n):o.call(n,new R)},w=()=>{m=!0;var e=Q(n)||V(n);if(e&&"boolean"!=typeof e)return o.call(n,e);o.call(n)},_=()=>{n.req.on("finish",d)},S=((E=n).setHeader&&"function"==typeof E.abort?(n.on("complete",d),f||n.on("abort",v),n.req?_():n.on("request",_)):u&&!e&&(n.on("end",h),n.on("close",h)),f||"boolean"!=typeof n.aborted||n.on("aborted",v),n.on("end",y),n.on("finish",d),!1!==i.error&&n.on("error",b),n.on("close",v),m?O.nextTick(v):null!=e&&e.errorEmitted||null!=c&&c.errorEmitted?f||O.nextTick(w):(t||f&&!F(n)||!p&&!1!==z(n))&&(u||f&&!z(n)||!g&&!1!==F(n))&&!(c&&n.req&&n.aborted)||O.nextTick(w),()=>{o=Z,n.removeListener("aborted",v),n.removeListener("complete",d),n.removeListener("abort",v),n.removeListener("request",_),n.req&&n.req.removeListener("finish",d),n.removeListener("end",h),n.removeListener("close",h),n.removeListener("finish",d),n.removeListener("end",y),n.removeListener("error",b),n.removeListener("close",v)});if(i.signal&&!m){var E=()=>{let e=o;S(),e.call(n,new P(void 0,{cause:i.signal.reason}))};if(i.signal.aborted)O.nextTick(E);else{let t=(k=k||$e().addAbortListener)(i.signal,E),r=o;o=M((...e)=>{t[U](),r.apply(n,e)})}}return S}t.exports=a,t.exports.finished=function(e,i){var t;let o=!1;return null!=(t=i=null===i?C:i)&&t.cleanup&&(n(i.cleanup,"cleanup"),o=i.cleanup),new s((t,r)=>{let n=a(e,i,e=>{o&&n(),e?r(e):t()})})}}),Ar=D((e,t)=>{"use strict";A(),x(),I();var s=tr(),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=De(),i=Ee()["Symbol"],{kIsDestroyed:a,isDestroyed:l,isFinished:u,isServerRequest:c}=mt(),h=i("kDestroy"),f=i("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function d(n,e,i){let o=!1;function t(r){if(!o){o=!0;let e=n._readableState,t=n._writableState;p(r,t,e),t&&(t.closed=!0),e&&(e.closed=!0),"function"==typeof i&&i(r),r?s.nextTick(g,n,r):s.nextTick(y,n)}}try{n._destroy(e||null,t)}catch(e){t(e)}}function g(e,t){b(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function m(e,t,r){let n=e._readableState,i=e._writableState;if(null!=i&&i.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?s.nextTick(b,e,t):b(e,t))}function v(i){let o=!1;function t(n){if(o)m(i,n??new r);else{o=!0;let e=i._readableState,t=i._writableState,r=t||e;e&&(e.constructed=!0),t&&(t.constructed=!0),r.destroyed?i.emit(h,n):n?m(i,n,!0):s.nextTick(w,i)}}try{i._construct(e=>{s.nextTick(t,e)})}catch(e){s.nextTick(t,e)}}function w(e){e.emit(f)}function _(e){return e?.setHeader&&"function"==typeof e.abort}function S(e){e.emit("close")}function E(e,t){e.emit("error",t),s.nextTick(S,e)}t.exports={construct:function(r,n){if("function"==typeof r._construct){let e=r._readableState,t=r._writableState;e&&(e.constructed=!1),t&&(t.constructed=!1),r.once(f,n),1<r.listenerCount(f)||s.nextTick(v,r)}},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new n),c(e)?(e.socket=null,e.destroy(t)):_(e)?e.abort():_(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?s.nextTick(E,e,t):s.nextTick(S,e),e.destroyed||(e[a]=!0))},destroy:function(t,r){let e=this._readableState,n=this._writableState,i=n||e;return null!=n&&n.destroyed||null!=e&&e.destroyed?"function"==typeof r&&r():(p(t,n,e),n&&(n.destroyed=!0),e&&(e.destroyed=!0),i.constructed?d(this,t,r):this.once(h,function(e){d(this,o(e,t),r)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:m}}),$i=D((e,t)=>{"use strict";A(),x(),I();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=Ee(),c=(er(),me(Zt))["EventEmitter"];function i(e){c.call(this,e)}function h(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}r(i.prototype,c.prototype),r(i,c),i.prototype.pipe=function(t,e){let r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(e){u(),0===c.listenerCount(this,"error")&&this.emit("error",e)}function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return h(r,"error",l),h(t,"error",l),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t},t.exports={Stream:i,prependListener:h}}),kn=D((e,i)=>{"use strict";A(),x(),I();var o,s=Ee()["SymbolDispose"],{AbortError:a,codes:t}=De(),{isNodeStream:l,isWebStream:u,kControllerErrorFunction:c}=mt(),h=Ut(),f=t["ERR_INVALID_ARG_TYPE"];i.exports.addAbortSignal=function(e,t){var r=e,n="signal";if("object"!=typeof r||!("aborted"in r))throw new f(n,"AbortSignal",r);if(l(t)||u(t))return i.exports.addAbortSignalNoValidate(e,t);throw new f("stream",["ReadableStream","WritableStream","Stream"],t)},i.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let r=l(t)?()=>{t.destroy(new a(void 0,{cause:e.reason}))}:()=>{t[c](new a(void 0,{cause:e.reason}))};var n;return e.aborted?r():(n=(o=o||$e().addAbortListener)(e,r),h(t,n[s])),t}}),Lh=D((e,t)=>{"use strict";A(),x(),I();var{StringPrototypeSlice:o,SymbolIterator:r,TypedArrayPrototypeSet:s,Uint8Array:a}=Ee(),l=(ke(),me(qe))["Buffer"],n=$e()["inspect"];t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return l.alloc(0);let t=l.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)s(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;var n;return e<r.length?(n=r.slice(0,e),this.head.data=r.slice(e),n):e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[r](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,n=0;do{var i=r.data;if(!(e>i.length)){e===i.length?(t+=i,++n,r.next?this.head=r.next:this.head=this.tail=null):(t+=o(i,0,e),(this.head=r).data=o(i,e));break}t+=i,e-=i.length,++n}while(null!==(r=r.next));return this.length-=n,t}_getBuffer(t){let r=l.allocUnsafe(t),n=t,i=this.head,o=0;do{let e=i.data;if(!(t>e.length)){t===e.length?(s(r,e,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(s(r,new a(e.buffer,e.byteOffset,t),n-t),(this.head=i).data=e.slice(t));break}s(r,e,n-t),t-=e.length,++o}while(null!==(i=i.next));return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,t){return n(this,{...t,depth:0,customInspect:!1})}}}),Cn=D((e,t)=>{"use strict";A(),x(),I();var{MathFloor:s,NumberIsInteger:a}=Ee(),r=Xr()["validateInteger"],l=De().codes["ERR_INVALID_ARG_VALUE"],n=16384,i=16;function u(e){return e?i:n}t.exports={getHighWaterMark:function(e,t,r,n){o=n,i=r;var i,o=null!=(t=t).highWaterMark?t.highWaterMark:o?t[i]:null;if(null==o)return u(e.objectMode);if(!a(o)||o<0)throw new l(n?"options."+r:"options.highWaterMark",o);return s(o)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){r(t,"value",0),e?i=t:n=t}}}),Hh=D((e,t)=>{A(),x(),I();ke();var r=me(qe),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=n(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}),zh=D(e=>{"use strict";A(),x(),I();var r=Hh().Buffer,n=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||r.isEncoding!==n&&n(e))return t||e;throw new Error("Unknown encoding: "+e)}function t(e){var t;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=a,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=c,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t,r=this.lastTotal-this.lastNeed,n=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,""):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,""):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,""):void 0:void 0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var r=t.charCodeAt(t.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function l(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function u(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}(e.StringDecoder=t).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},t.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"":e},t.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--n<r||-2===i?0:0<=(i=o(t[n]))?(0<i&&(e.lastNeed=i-2),i):!(--n<r||-2===i)&&0<=(i=o(t[n]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},t.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),Us=D((e,t)=>{"use strict";A(),x(),I();var a=tr(),{PromisePrototypeThen:l,SymbolAsyncIterator:u,SymbolIterator:c}=Ee(),h=(ke(),me(qe))["Buffer"],{ERR_INVALID_ARG_TYPE:f,ERR_STREAM_NULL_VALUES:p}=De().codes;t.exports=function(e,t,r){let n;if("string"==typeof t||t instanceof h)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[u])i=!0,n=t[u]();else{if(!t||!t[c])throw new f("iterable",["Iterable"],t);i=!1,n=t[c]()}let o=new e({objectMode:!0,highWaterMark:1,...r}),s=!1;return o._read=function(){s||(s=!0,async function(){for(;;){try{var{value:e,done:t}=i?await n.next():n.next();if(t)o.push(null);else{var r=e&&"function"==typeof e.then?await e:e;if(null===r)throw s=!1,new p;if(o.push(r))continue;s=!1}}catch(e){o.destroy(e)}break}}())},o._destroy=function(t,r){l(async function(e){var t=null!=e,r="function"==typeof n.throw;if(t&&r){var{value:t,done:r}=await n.throw(e);if(await t,r)return}"function"==typeof n.return&&(e=(await n.return())["value"],await e)}(t),()=>a.nextTick(r,t),e=>a.nextTick(r,e||t))},o}}),Nn=D((L,e)=>{"use strict";A(),x(),I();var d=tr(),{ArrayPrototypeIndexOf:F,NumberIsInteger:W,NumberIsNaN:q,NumberParseInt:H,ObjectDefineProperties:t,ObjectKeys:V,ObjectSetPrototypeOf:r,Promise:a,SafeSet:z,SymbolAsyncDispose:G,SymbolAsyncIterator:K,Symbol:$}=Ee(),e=((e.exports=k).ReadableState=E,er(),me(Zt))["EventEmitter"],{Stream:u,prependListener:Q}=$i(),c=(ke(),me(qe))["Buffer"],Y=kn()["addAbortSignal"],l=Ut(),g=$e().debuglog("stream",e=>{g=e}),J=Lh(),h=Ar(),{getHighWaterMark:X,getDefaultHighWaterMark:Z}=Cn(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_METHOD_NOT_IMPLEMENTED:te,ERR_OUT_OF_RANGE:re,ERR_STREAM_PUSH_AFTER_EOF:ne,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ie},AbortError:oe}=De(),se=Xr()["validateObject"],n=$("kPaused"),o=zh()["StringDecoder"],ae=Us(),p=(r(k.prototype,u.prototype),r(k,u),()=>{}),y=h["errorOrDestroy"],b=1,i=16,s=32,m=64,v=2048,w=4096,_=65536;function S(t){return{enumerable:!1,get(){return 0!=(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function E(e,t,r){"boolean"!=typeof r&&(r=t instanceof St()),this.state=v|w|i|s,e&&e.objectMode&&(this.state|=b),r&&e&&e.readableObjectMode&&(this.state|=b),this.highWaterMark=e?X(this,e,"readableHighWaterMark",r):Z(!1),this.buffer=new J,this.length=0,this.pipes=[],this.flowing=null,this[n]=null,e&&!1===e.emitClose&&(this.state&=~v),e&&!1===e.autoDestroy&&(this.state&=~w),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new o(e.encoding),this.encoding=e.encoding)}function k(e){if(!(this instanceof k))return new k(e);var t=this instanceof St();this._readableState=new E(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&Y(e.signal,this)),u.call(this,e),h.construct(this,()=>{this._readableState.needReadable&&j(this,this._readableState)})}function O(e,t,r,n){g("readableAddChunk",t);let i=e._readableState,o;if(0==(i.state&b)&&("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=c.from(t,r).toString(i.encoding):(t=c.from(t,r),r=""))):t instanceof c?r="":u._isUint8Array(t)?(t=u._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new ee("chunk",["string","Buffer","Uint8Array"],t))),o)y(e,o);else if(null===t){i.state&=-9;{var s=e;var a=i;{var l;g("onEofChunk"),a.ended||(a.decoder&&(l=a.decoder.end())&&l.length&&(a.buffer.push(l),a.length+=a.objectMode?1:l.length),a.ended=!0,a.sync?C(s):(a.needReadable=!1,a.emittedReadable=!0,M(s)))}}}else if(0!=(i.state&b)||t&&0<t.length)if(n)if(0!=(4&i.state))y(e,new ie);else{if(i.destroyed||i.errored)return!1;P(e,i,t,!0)}else if(i.ended)y(e,new ne);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?P(e,i,t,!1):j(e,i)):P(e,i,t,!1)}else n||(i.state&=-9,j(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function P(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&0<e.listenerCount("data")?(0!=(t.state&_)?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),0!=(t.state&m)&&C(e)),j(e,t)}t(E.prototype,{objectMode:S(b),ended:S(2),endEmitted:S(4),reading:S(8),constructed:S(i),sync:S(s),needReadable:S(m),emittedReadable:S(128),readableListening:S(256),resumeScheduled:S(512),errorEmitted:S(1024),emitClose:S(v),autoDestroy:S(w),destroyed:S(8192),closed:S(16384),closeEmitted:S(32768),multiAwaitDrain:S(_),readingMore:S(1<<17),dataEmitted:S(1<<18)}),k.prototype.destroy=h.destroy,k.prototype._undestroy=h.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype[e.captureRejectionSymbol]=function(e){this.destroy(e)},k.prototype[G]=function(){let n;return this.destroyed||(n=this.readableEnded?null:new oe,this.destroy(n)),new a((t,r)=>l(this,e=>e&&e!==n?r(e):t(null)))},k.prototype.push=function(e,t){return O(this,e,t,!1)},k.prototype.unshift=function(e,t){return O(this,e,t,!0)},k.prototype.isPaused=function(){var e=this._readableState;return!0===e[n]||!1===e.flowing},k.prototype.setEncoding=function(e){let t=new o(e),r=(this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer),n="";for(var i of r)n+=t.write(i);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};var T;function R(e,t){return e<=0||0===t.length&&t.ended?0:0!=(t.state&b)?1:q(e)?(t.flowing&&t.length?t.buffer.first():t).length:e<=t.length?e:t.ended?t.length:0}function C(e){let t=e._readableState;g("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,d.nextTick(M,e))}function M(e){let t=e._readableState;g("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function j(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,d.nextTick(le,e,t))}function le(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(g("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){let t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!1===t[n]?t.flowing=!0:0<e.listenerCount("data")?e.resume():t.readableListening||(t.flowing=null)}function ue(e){g("readable nexttick read 0"),e.read(0)}function ce(e,t){g("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){let r=async function*(t,e){let r=p;function n(e){r=this===t?(r(),p):e}t.on("readable",n);let i,o=l(t,{writable:!1},e=>{i=e?f(i,e):null,r(),r=p});try{for(;;){var s=t.destroyed?null:t.read();if(null!==s)yield s;else{if(i)throw i;if(null===i)return;await new a(n)}}}catch(e){throw i=f(i,e)}finally{!i&&!1===e?.destroyOnReturn||void 0!==i&&!t._readableState.autoDestroy?(t.off("readable",n),o()):h.destroyer(t,null)}}(e="function"!=typeof e.read?k.wrap(e,{objectMode:!0}):e,t);return r.stream=e,r}function he(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function U(e){let t=e._readableState;g("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,d.nextTick(fe,t,e))}function fe(e,t){g("endReadableNT",e.endEmitted,e.length),e.errored||e.closeEmitted||e.endEmitted||0!==e.length||(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen?d.nextTick(pe,t):e.autoDestroy&&(!(e=t._writableState)||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy())}function pe(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function de(){return T=void 0===T?{}:T}k.prototype.read=function(e){g("read",e),void 0===e?e=NaN:W(e)||(e=H(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(1073741824<e)throw new re("size","<= 1GiB",e);return e--,e=(e=(e=(e=(e|=e>>>1)|e>>>2)|e>>>4)|e>>>8)|e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:0<t.length)||t.ended))return g("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?U:C)(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&U(this),null;let n=0!=(t.state&m);if(g("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,g("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,g("reading, ended or constructing",n);else if(n){g("do read"),t.state|=8|s,0===t.length&&(t.state|=m);try{this._read(t.highWaterMark)}catch(e){y(this,e)}t.state&=~s,t.reading||(e=R(r,t))}let i;return null===(i=0<e?he(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null===i||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",i)),i},k.prototype._read=function(e){throw new te("_read()")},k.prototype.pipe=function(n,e){let i=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new z(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(n),g("pipe count=%d opts=%j",o.pipes.length,e);e=e&&!1===e.end||n===d.stdout||n===d.stderr?p:s;function r(e,t){g("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,g("cleanup"),n.removeListener("close",h),n.removeListener("finish",f),a&&n.removeListener("drain",a),n.removeListener("error",c),n.removeListener("unpipe",r),i.removeListener("end",s),i.removeListener("end",p),i.removeListener("data",u),l=!0,a&&o.awaitDrainWriters&&(!n._writableState||n._writableState.needDrain)&&a())}function s(){g("onend"),n.end()}o.endEmitted?d.nextTick(e):i.once("end",e),n.on("unpipe",r);let a,l=!1;function t(){var t,r;l||(1===o.pipes.length&&o.pipes[0]===n?(g("false write response, pause",0),o.awaitDrainWriters=n,o.multiAwaitDrain=!1):1<o.pipes.length&&o.pipes.includes(n)&&(g("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(n)),i.pause()),a||(a=(t=i,function(){let e=t._readableState;e.awaitDrainWriters===r?(g("pipeOnDrain",1),e.awaitDrainWriters=null):e.multiAwaitDrain&&(g("pipeOnDrain",e.awaitDrainWriters.size),e.awaitDrainWriters.delete(r)),e.awaitDrainWriters&&0!==e.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}),(r=n).on("drain",a))}function u(e){g("ondata");e=n.write(e);g("dest.write",e),!1===e&&t()}function c(e){var t;g("onerror",e),p(),n.removeListener("error",c),0===n.listenerCount("error")&&((t=n._writableState||n._readableState)&&!t.errorEmitted?y(n,e):n.emit("error",e))}function h(){n.removeListener("finish",f),p()}function f(){g("onfinish"),n.removeListener("close",h),p()}function p(){g("unpipe"),i.unpipe(n)}return i.on("data",u),Q(n,"error",c),n.once("close",h),n.once("finish",f),n.emit("pipe",i),!0===n.writableNeedDrain?t():o.flowing||(g("pipe resume"),i.resume()),n},k.prototype.unpipe=function(e){let r=this._readableState;if(0===r.pipes.length)return this;if(!e){let t=r.pipes;r.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}var t=F(r.pipes,e);return-1===t||(r.pipes.splice(t,1),0===r.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},k.prototype.addListener=k.prototype.on=function(e,t){let r=u.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=0<this.listenerCount("readable"),!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,g("on readable",n.length,n.reading),n.length?C(this):n.reading||d.nextTick(ue,this)),r},k.prototype.off=k.prototype.removeListener=function(e,t){t=u.prototype.removeListener.call(this,e,t);return"readable"===e&&d.nextTick(B,this),t},k.prototype.removeAllListeners=function(e){var t=u.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||d.nextTick(B,this),t},k.prototype.resume=function(){let e=this._readableState;return e.flowing||(g("resume"),e.flowing=!e.readableListening,t=this,(r=e).resumeScheduled||(r.resumeScheduled=!0,d.nextTick(ce,t,r))),e[n]=!1,this;var t,r},k.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[n]=!0,this},k.prototype.wrap=function(t){let r=!1;t.on("data",e=>{!this.push(e)&&t.pause&&(r=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",e=>{y(this,e)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{r&&t.resume&&(r=!1,t.resume())};var n=V(t);for(let e=1;e<n.length;e++){var i=n[e];void 0===this[i]&&"function"==typeof t[i]&&(this[i]=t[i].bind(t))}return this},k.prototype[K]=function(){return D(this)},k.prototype.iterator=function(e){return void 0!==e&&se(e,"options"),D(this,e)},t(k.prototype,{readable:{__proto__:null,get(){var e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),t(E.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[n]},set(e){this[n]=!!e}}}),k._fromList=he,k.from=function(e,t){return ae(k,e,t)},k.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},k.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},k.wrap=function(r,e){var t;return new k({objectMode:null==(t=null!=(t=r.readableObjectMode)?t:r.objectMode)||t,...e,destroy(e,t){h.destroyer(r,e),t(e)}}).wrap(r)}}),ro=D((L,e)=>{"use strict";A(),x(),I();var u=tr(),{ArrayPrototypeSlice:h,Error:o,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:t,ObjectDefineProperties:n,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:s,Symbol:a,SymbolHasInstance:l}=Ee(),e=((e.exports=k).WritableState=S,er(),me(Zt))["EventEmitter"],c=$i().Stream,f=(ke(),me(qe))["Buffer"],p=Ar(),d=kn()["addAbortSignal"],{getHighWaterMark:g,getDefaultHighWaterMark:F}=Cn(),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:H,ERR_STREAM_DESTROYED:b,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:z,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:m}=De().codes,v=p["errorOrDestroy"];function w(){}i(k.prototype,c.prototype),i(k,c);var _=a("kOnFinished");function S(e,t,r){"boolean"!=typeof r&&(r=t instanceof St()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?g(this,e,"writableHighWaterMark",r):F(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;r=!(!e||!1!==e.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e,t){let r=e._writableState,n=r.sync,i=r.writecb;"function"!=typeof i?v(e,new y):(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?u.nextTick(T,e,r,t,i):T(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&M(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},u.nextTick(K,r.afterWriteTickInfo)):R(e,r,1,i)))}.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,E(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[_]=[]}function E(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function k(e){var t=this instanceof St();if(!t&&!r(k,this))return new k(e);this._writableState=new S(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&d(e.signal,this)),c.call(this,e),p.construct(this,()=>{var e=this._writableState;e.writing||M(this,e),B(this,e)})}function O(e,t,r,n){let i=e._writableState;if("function"==typeof r)n=r,r=i.defaultEncoding;else{if(r){if("buffer"!==r&&!f.isEncoding(r))throw new m(r)}else r=i.defaultEncoding;"function"!=typeof n&&(n=w)}if(null===t)throw new z;if(!i.objectMode)if("string"==typeof t)!1!==i.decodeStrings&&(t=f.from(t,r),r="buffer");else if(t instanceof f)r="buffer";else{if(!c._isUint8Array(t))throw new W("chunk",["string","Buffer","Uint8Array"],t);t=c._uint8ArrayToBuffer(t),r="buffer"}let o;return i.ending?o=new G:i.destroyed&&(o=new b("write")),o?(u.nextTick(n,o),v(e,o,!0),o):(i.pendingcb++,e=e,s=i,t=t,r=r,n=n,a=s.objectMode?1:t.length,s.length+=a,(l=s.length<s.highWaterMark)||(s.needDrain=!0),s.writing||s.corked||s.errored||!s.constructed?(s.buffered.push({chunk:t,encoding:r,callback:n}),s.allBuffers&&"buffer"!==r&&(s.allBuffers=!1),s.allNoop&&n!==w&&(s.allNoop=!1)):(s.writelen=a,s.writecb=n,s.writing=!0,s.sync=!0,e._write(t,r,s.onwrite),s.sync=!1),l&&!s.errored&&!s.destroyed);var s,a,l}function P(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){--t.pendingcb,n(r),C(t),v(e,r)}function K({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,R(e,t,r,n)}function R(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));0<r--;)t.pendingcb--,n();t.destroyed&&C(t),B(e,t)}function C(i){if(!i.writing){for(let n=i.bufferedIndex;n<i.buffered.length;++n){var o;let{chunk:e,callback:t}=i.buffered[n],r=i.objectMode?1:e.length;i.length-=r,t(null!=(o=i.errored)?o:new b("write"))}let t=i[_].splice(0);for(let e=0;e<t.length;e++){var r;t[e](null!=(r=i.errored)?r:new b("end"))}E(i)}}function M(o,s){if(!(s.corked||s.bufferProcessing||s.destroyed)&&s.constructed){let{buffered:n,bufferedIndex:e,objectMode:t}=s,i=n.length-e;if(i){let r=e;if(s.bufferProcessing=!0,1<i&&o._writev){s.pendingcb-=i-1;let e=s.allNoop?w:t=>{for(let e=r;e<n.length;++e)n[e].callback(t)},t=s.allNoop&&0===r?n:h(n,r);t.allBuffers=s.allBuffers,P(o,s,!0,s.length,t,"",e),E(s)}else{do{var{chunk:a,encoding:l,callback:u}=n[r],c=(n[r++]=null,t?1:a.length);P(o,s,!1,c,a,l,u)}while(r<n.length&&!s.writing);r===n.length?E(s):256<r?(n.splice(0,r),s.bufferedIndex=0):s.bufferedIndex=r}s.bufferProcessing=!1}}}function j(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(t,r){if(!r.prefinished&&!r.finalCalled){if("function"!=typeof t._final||r.destroyed)return r.prefinished=!0,void t.emit("prefinish");r.finalCalled=!0;{var n=t,i=r;let e=!1;function o(r){if(e)v(n,r??y());else if(e=!0,i.pendingcb--,r){let t=i[_].splice(0);for(let e=0;e<t.length;e++)t[e](r);v(n,r,i.sync)}else j(i)&&(i.prefinished=!0,n.emit("prefinish"),i.pendingcb++,u.nextTick(N,n,i))}i.sync=!0,i.pendingcb++;try{n._final(o)}catch(e){o(e)}void(i.sync=!1)}}}function B(e,t,r){j(t)&&($(e,t),0===t.pendingcb&&(r?(t.pendingcb++,u.nextTick((e,t)=>{j(t)?N(e,t):t.pendingcb--},e,t)):j(t)&&(t.pendingcb++,N(e,t))))}function N(e,t){t.pendingcb--,t.finished=!0;let r=t[_].splice(0);for(let e=0;e<r.length;e++)r[e]();e.emit("finish"),t.autoDestroy&&(!(t=e._readableState)||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}S.prototype.getBuffer=function(){return h(this.buffered,this.bufferedIndex)},t(S.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),t(k,l,{__proto__:null,value:function(e){return!!r(this,e)||this===k&&(e&&e._writableState instanceof S)}}),k.prototype.pipe=function(){v(this,new H)},k.prototype.write=function(e,t,r){return!0===O(this,e,t,r)},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||M(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=s(e)),f.isEncoding(e))return this._writableState.defaultEncoding=e,this;throw new m(e)},k.prototype._write=function(e,t,r){if(!this._writev)throw new q("_write()");this._writev([{chunk:e,encoding:t}],r)},k.prototype._writev=null,k.prototype.end=function(e,t,r){let n=this._writableState;"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null);let i;return null!=e&&(e=O(this,e,t))instanceof o&&(i=e),n.corked&&(n.corked=1,this.uncork()),i||(n.errored||n.ending?n.finished?i=new V("end"):n.destroyed&&(i=new b("end")):(n.ending=!0,B(this,n,!0),n.ended=!0)),"function"==typeof r&&(i||n.finished?u.nextTick(r,i):n[_].push(r)),this},n(k.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){var e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){var e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var D,Q=p.destroy;function U(){return D=void 0===D?{}:D}k.prototype.destroy=function(e,t){var r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[_].length)&&u.nextTick(C,r),Q.call(this,e,t),this},k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype[e.captureRejectionSymbol]=function(e){this.destroy(e)},k.fromWeb=function(e,t){return U().newStreamWritableFromWritableStream(e,t)},k.toWeb=function(e){return U().newWritableStreamFromStreamWritable(e)}}),Wd=D((e,t)=>{A(),x(),I();var l=tr(),r=(ke(),me(qe)),{isReadable:h,isWritable:f,isIterable:u,isNodeStream:n,isReadableNodeStream:i,isWritableNodeStream:o,isDuplexNodeStream:c,isReadableStream:p,isWritableStream:d}=mt(),g=Ut(),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=De(),v=Ar()["destroyer"],s=St(),w=Nn(),_=ro(),S=$e()["createDeferredPromise"],E=Us(),a=globalThis.Blob||r.Blob,k=typeof a<"u"?function(e){return e instanceof a}:function(e){return!1},O=globalThis.AbortController||Yr().AbortController,P=Ee()["FunctionPrototypeCall"],T=class extends s{constructor(e){super(e),!1===e?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};function R(e){let r=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable,t=!!h(r),i=!!f(n),o,s,a,l,u;function c(e){let t=l;l=null,t?t(e):e&&u.destroy(e)}return u=new T({readableObjectMode:!(null==r||!r.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:t,writable:i}),i&&(g(n,e=>{e&&v(r,e),c(e)}),u._write=function(e,t,r){n.write(e,t)?r():o=r},u._final=function(e){n.end(),s=e},n.on("drain",function(){if(o){let e=o;o=null,e()}}),n.on("finish",function(){if(s){let e=s;s=null,e()}})),t&&(g(r,e=>{e&&v(r,e),c(e)}),r.on("readable",function(){if(a){let e=a;a=null,e()}}),r.on("end",function(){u.push(null)}),u._read=function(){for(;;){var e=r.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,t){e||null===l||(e=new y),a=null,o=null,(s=null)===l?t(e):(l=t,v(n,e),v(r,e))},u}t.exports=function e(s,t){if(c(s))return s;if(i(s))return R({readable:s});if(o(s))return R({writable:s});if(n(s))return R({writable:!1,readable:!1});if(p(s))return R({readable:w.fromWeb(s)});if(d(s))return R({writable:_.fromWeb(s)});if("function"==typeof s){let{value:r,write:n,final:i,destroy:o}=function(e){let{promise:n,resolve:i}=S(),r=new O,o=r.signal;return{value:e(async function*(){for(;;){var e=n,{chunk:e,done:t,cb:r}=(n=null,await e);if(l.nextTick(r),t)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:n,resolve:i}=S()),yield e}}(),{signal:o}),write(e,t,r){let n=i;i=null,n({chunk:e,done:!1,cb:r})},final(e){let t=i;i=null,t({done:!0,cb:e})},destroy(e,t){r.abort(),t(e)}}}(s);if(u(r))return E(T,r,{objectMode:!0,write:n,final:i,destroy:o});var a=r?.then;if("function"!=typeof a)throw new m("Iterable, AsyncIterable or AsyncFunction",t,r);{let t,e=P(a,r,e=>{if(null!=e)throw new m("nully","body",e)},e=>{v(t,e)});return t=new T({objectMode:!0,readable:!1,write:n,final(t){i(async()=>{try{await e,l.nextTick(t,null)}catch(e){l.nextTick(t,e)}})},destroy:o})}}if(k(s))return e(s.arrayBuffer());if(u(s))return E(T,s,{objectMode:!0,writable:!1});if(p(s?.readable)&&d(s?.writable))return T.fromWeb(s);if("object"==typeof s?.writable||"object"==typeof s?.readable)return R({readable:null!=s&&s.readable?i(s?.readable)?s?.readable:e(s.readable):void 0,writable:null!=s&&s.writable?o(s?.writable)?s?.writable:e(s.writable):void 0});a=s?.then;if("function"!=typeof a)throw new b(t,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],s);{let t;return P(a,s,e=>{null!=e&&t.push(e),t.push(null)},e=>{v(t,e)}),t=new T({objectMode:!0,writable:!1,read(){}})}}}),St=D((e,t)=>{"use strict";A(),x(),I();var r,n,{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:s,ObjectSetPrototypeOf:a}=Ee(),l=(t.exports=f,Nn()),u=ro(),c=(a(f.prototype,l.prototype),a(f,l),s(u.prototype));for(let e=0;e<c.length;e++){var h=c[e];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(e){if(!(this instanceof f))return new f(e);l.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function p(){return r=void 0===r?{}:r}i(f.prototype,{writable:{__proto__:null,...o(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(u.prototype,"writableLength")},writableFinished:{__proto__:null,...o(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),f.fromWeb=function(e,t){return p().newStreamDuplexFromReadableWritablePair(e,t)},f.toWeb=function(e){return p().newReadableWritablePairFromDuplex(e)},f.from=function(e){return(n=n||Wd())(e,"body")}}),oa=D((e,t)=>{"use strict";A(),x(),I();var{ObjectSetPrototypeOf:r,Symbol:n}=Ee(),i=(t.exports=l,De().codes)["ERR_METHOD_NOT_IMPLEMENTED"],o=St(),s=Cn()["getHighWaterMark"],a=(r(l.prototype,o.prototype),r(l,o),n("kCallback"));function l(e){if(!(this instanceof l))return new l(e);var t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[a]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function u(r){"function"!=typeof this._flush||this.destroyed?(this.push(null),r&&r()):this._flush((e,t)=>{e?r?r(e):this.destroy(e):(null!=t&&this.push(t),this.push(null),r&&r())})}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,r){throw new i("_transform()")},l.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[a]=r)})},l.prototype._read=function(){if(this[a]){let e=this[a];this[a]=null,e()}}}),aa=D((e,t)=>{"use strict";A(),x(),I();var r=Ee()["ObjectSetPrototypeOf"],n=(t.exports=i,oa());function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(i.prototype,n.prototype),r(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}),so=D((l,e)=>{A(),x(),I();var _,t,S,E=tr(),{ArrayIsArray:k,Promise:c,SymbolAsyncIterator:r,SymbolDispose:O}=Ee(),P=Ut(),n=$e()["once"],i=Ar(),T=St(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:R,ERR_INVALID_RETURN_VALUE:C,ERR_MISSING_ARGS:M,ERR_STREAM_DESTROYED:o,ERR_STREAM_PREMATURE_CLOSE:j},AbortError:B}=De(),{validateFunction:s,validateAbortSignal:N}=Xr(),{isIterable:D,isReadable:U,isReadableNodeStream:L,isNodeStream:F,isTransformStream:W,isWebStream:q,isReadableStream:H,isReadableFinished:V}=mt(),z=globalThis.AbortController||Yr().AbortController;function G(t,e,r){let n=!1;return t.on("close",()=>{n=!0}),{destroy:e=>{n||(n=!0,i.destroyer(t,e||new o("pipe")))},cleanup:P(t,{readable:e,writable:r},e=>{n=!e})}}function K(e){if(D(e))return e;if(L(e))return async function*(e){yield*(t=t||Nn()).prototype[r].call(e)}(e);throw new R("val",["Readable","Iterable","AsyncIterable"],e)}async function $(e,t,r,{end:n}){let i,o=null,s=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},a=()=>new c((e,t)=>{i?t(i):o=()=>{i?t(i):e()}}),l=(t.on("drain",s),P(t,{readable:!1},s));try{t.writableNeedDrain&&await a();for await(var u of e)t.write(u)||await a();n&&(t.end(),await a()),r()}catch(e){r(i!==e?h(i,e):e)}finally{l(),t.off("drain",s)}}async function Q(e,t,r,{end:n}){let i=(t=W(t)?t.writable:t).getWriter();try{for await(var o of e)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function a(s,r,a){if((s=1===s.length&&k(s[0])?s[0]:s).length<2)throw new M("streams");let n=new z,l=n.signal,e=a?.signal,u=[];function t(){d(new B)}N(e,"options.signal"),S=S||$e().addAbortListener;let i;e&&(i=S(e,t));let o,c,h=[],f=0;function p(e){d(e,0==--f)}function d(e,t){if((o=!e||o&&"ERR_STREAM_PREMATURE_CLOSE"!==o.code?o:e)||t){for(;h.length;)h.shift()(o);null!=(e=i)&&e[O](),n.abort(),t&&(o||u.forEach(e=>e()),E.nextTick(r,o,c))}}let g;for(let e=0;e<s.length;e++){let t=s[e],r=e<s.length-1,n=0<e,i=r||!1!==a?.end,o=e===s.length-1;if(F(t)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&p(e)};e;i&&({destroy:y,cleanup:b}=G(t,r,n),h.push(y),U(t)&&o&&u.push(b)),t.on("error",e),U(t)&&o&&u.push(()=>{t.removeListener("error",e)})}if(0===e)if("function"==typeof t){if(g=t({signal:l}),!D(g))throw new C("Iterable, AsyncIterable or Stream","source",g)}else g=D(t)||L(t)||W(t)?t:T.from(t);else if("function"==typeof t){var y,b;if(g=W(g)?K(null==(y=g)?void 0:y.readable):K(g),g=t(g,{signal:l}),r){if(!D(g,!0))throw new C("AsyncIterable",`transform[${e-1}]`,g)}else{let t=new(_=_||aa())({objectMode:!0}),e=null==(b=g)?void 0:b.then;if("function"==typeof e)f++,e.call(g,e=>{null!=(c=e)&&t.write(e),i&&t.end(),E.nextTick(p)},e=>{t.destroy(e),E.nextTick(p,e)});else if(D(g,!0))f++,$(g,t,p,{end:i});else{if(!H(g)&&!W(g))throw new C("AsyncIterable or Promise","destination",g);var m=g.readable||g;f++,$(m,t,p,{end:i})}var{destroy:m,cleanup:v}=G(g=t,!1,!0);h.push(m),o&&u.push(v)}}else if(F(t)){if(L(g)){f+=2;v=function(r,e,n,{end:t}){let i=!1;e.on("close",()=>{i||n(new j)}),r.pipe(e,{end:!1}),t?(t=function(){i=!0,e.end()},V(r)?E.nextTick(t):r.once("end",t)):n();return P(r,{readable:!0,writable:!1},e=>{var t=r._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&t&&t.ended&&!t.errored&&!t.errorEmitted?r.once("end",n).once("error",n):n(e)}),P(e,{readable:!1,writable:!0},n)}(g,t,p,{end:i});U(t)&&o&&u.push(v)}else if(W(g)||H(g)){var w=g.readable||g;f++,$(w,t,p,{end:i})}else{if(!D(g))throw new R("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);f++,$(g,t,p,{end:i})}g=t}else if(q(t)){if(L(g))f++,Q(K(g),t,p,{end:i});else if(H(g)||D(g))f++,Q(g,t,p,{end:i});else{if(!W(g))throw new R("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],g);f++,Q(g.readable,t,p,{end:i})}g=t}else g=T.from(t)}return(null!=l&&l.aborted||null!=e&&e.aborted)&&E.nextTick(t),g}e.exports={pipelineImpl:a,pipeline:function(...e){return a(e,n((s((e=e)[e.length-1],"streams[stream.length - 1]"),e.pop())))}}}),wa=D((e,t)=>{"use strict";A(),x(),I();var f=so()["pipeline"],p=St(),d=Ar()["destroyer"],{isNodeStream:g,isReadable:y,isWritable:b,isWebStream:m,isTransformStream:v,isWritableStream:w,isReadableStream:_}=mt(),{AbortError:S,codes:{ERR_INVALID_ARG_VALUE:E,ERR_MISSING_ARGS:k}}=De(),O=Ut();t.exports=function(...t){if(0===t.length)throw new k("streams");if(1===t.length)return p.from(t[0]);var r=[...t];"function"==typeof t[0]&&(t[0]=p.from(t[0])),"function"==typeof t[t.length-1]&&(t[e=t.length-1]=p.from(t[e]));for(let e=0;e<t.length;++e)if(g(t[e])||m(t[e])){if(e<t.length-1&&!(y(t[e])||_(t[e])||v(t[e])))throw new E(`streams[${e}]`,r[e],"must be readable");if(0<e&&!(b(t[e])||w(t[e])||v(t[e])))throw new E(`streams[${e}]`,r[e],"must be writable")}let n,i,o,s,a;let l=t[0],u=f(t,function(e){let t=s;s=null,t?t(e):e?a.destroy(e):h||c||a.destroy()}),c=!!(b(l)||w(l)||v(l)),h=!!(y(u)||_(u)||v(u));if(a=new p({writableObjectMode:!(null==l||!l.writableObjectMode),readableObjectMode:!(null==u||!u.readableObjectMode),writable:c,readable:h}),c){if(g(l))a._write=function(e,t,r){l.write(e,t)?r():n=r},a._final=function(e){l.end(),i=e},l.on("drain",function(){if(n){let e=n;n=null,e()}});else if(m(l)){let n=(v(l)?l.writable:l).getWriter();a._write=async function(e,t,r){try{await n.ready,n.write(e).catch(()=>{}),r()}catch(e){r(e)}},a._final=async function(t){try{await n.ready,n.close().catch(()=>{}),i=t}catch(e){t(e)}}}var e=v(u)?u.readable:u;O(e,()=>{if(i){let e=i;i=null,e()}})}if(h)if(g(u))u.on("readable",function(){if(o){let e=o;o=null,e()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){var e=u.read();if(null===e)return void(o=a._read);if(!a.push(e))return}};else if(m(u)){let r=(v(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{var{value:e,done:t}=await r.read();if(!a.push(e))return;if(t)return void a.push(null)}catch{return}}}return a._destroy=function(e,t){e||null===s||(e=new S),o=null,n=null,(i=null)===s?t(e):(s=t,g(u)&&d(u,e))},a}}),gp=D((e,t)=>{"use strict";A(),x(),I();var c=globalThis.AbortController||Yr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:y}=De(),{validateAbortSignal:b,validateInteger:o,validateObject:m}=Xr(),f=Ee().Symbol("kWeak"),p=Ee().Symbol("kResistStopPropagation"),d=Ut()["finished"],s=wa(),a=kn()["addAbortSignalNoValidate"],{isWritable:l,isNodeStream:u}=mt(),g=$e()["deprecate"],{ArrayPrototypePush:v,Boolean:w,MathFloor:_,Number:S,NumberIsNaN:E,Promise:k,PromiseReject:O,PromiseResolve:P,PromisePrototypeThen:T,Symbol:R}=Ee(),C=R("kEmpty"),M=R("kEof");function j(f,p){if("function"!=typeof f)throw new h("fn",["Function","AsyncFunction"],f);null!=p&&m(p,"options"),null!=p?.signal&&b(p.signal,"options.signal");let d=1,g=(d=null!=p?.concurrency?_(p.concurrency):d)-1;return null!=p?.highWaterMark&&(g=_(p.highWaterMark)),o(d,"options.concurrency",1),o(g,"options.highWaterMark",0),g+=d,async function*(){let e=$e().AbortSignalAny([p?.signal].filter(w)),n=this,i=[],o={signal:e},s,a,l=!1,u=0;function c(){l=!0,h()}function h(){--u,t()}function t(){a&&!l&&u<d&&i.length<g&&(a(),a=null)}!async function(){try{for await(var t of n){if(l)return;if(e.aborted)throw new y;try{if((t=f(t,o))===C)continue;t=P(t)}catch(e){t=O(e)}u+=1,T(t,h,c),i.push(t),s&&(s(),s=null),!l&&(i.length>=g||u>=d)&&await new k(e=>{a=e})}i.push(M)}catch(e){var r=O(e);T(r,h,c),i.push(r)}finally{l=!0,s&&(s(),s=null)}}();try{for(;;){for(;0<i.length;){var r=await i[0];if(r===M)return;if(e.aborted)throw new y;r!==C&&(yield r),i.shift(),t()}await new k(e=>{s=e})}}finally{l=!0,a&&(a(),a=null)}}.call(this)}async function B(e,t=void 0){for await(var r of N.call(this,e,t))return!0;return!1}function N(r,e){if("function"!=typeof r)throw new h("fn",["Function","AsyncFunction"],r);return j.call(this,async function(e,t){return await r(e,t)?e:C},e)}var D=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function U(e){if(e=S(e),E(e))return 0;if(e<0)throw new i("number",">= 0",e);return e}t.exports.streamReturningOperators={asIndexedPairs:g(function(n=void 0){return null!=n&&m(n,"options"),null!=n?.signal&&b(n.signal,"options.signal"),async function*(){let e=0;for await(var t of this){var r;if(null!=n&&null!=(r=n.signal)&&r.aborted)throw new y({cause:n.signal.reason});yield[e++,t]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(n,i=void 0){return null!=i&&m(i,"options"),null!=i?.signal&&b(i.signal,"options.signal"),n=U(n),async function*(){var e,t,r;if(null!=i&&null!=(e=i.signal)&&e.aborted)throw new y;for await(t of this){if(null!=i&&null!=(r=i.signal)&&r.aborted)throw new y;n--<=0&&(yield t)}}.call(this)},filter:N,flatMap:function(e,t){let r=j.call(this,e,t);return async function*(){for await(var e of r)yield*e}.call(this)},map:j,take:function(n,i=void 0){return null!=i&&m(i,"options"),null!=i?.signal&&b(i.signal,"options.signal"),n=U(n),async function*(){var e,t,r;if(null!=i&&null!=(e=i.signal)&&e.aborted)throw new y;for await(t of this){if(null!=i&&null!=(r=i.signal)&&r.aborted)throw new y;if(0<n--&&(yield t),n<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&m(t,"options"),null!=t?.signal&&b(t.signal,"options.signal"),u(e)&&!l(e))throw new r("stream",e,"must be writable");return e=s(this,e),null!=t&&t.signal&&a(t.signal,e),e}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new h("fn",["Function","AsyncFunction"],t);return!await B.call(this,async(...e)=>!await t(...e),e)},forEach:async function(r,e){if("function"!=typeof r)throw new h("fn",["Function","AsyncFunction"],r);for await(var t of j.call(this,async function(e,t){return await r(e,t),C},e));},reduce:async function(e,t,r){var n,i;if("function"!=typeof e)throw new h("reducer",["Function","AsyncFunction"],e);null!=r&&m(r,"options"),null!=r?.signal&&b(r.signal,"options.signal");let o=1<arguments.length;if(null!=r&&null!=(n=r.signal)&&n.aborted)throw n=new y(void 0,{cause:r.signal.reason}),this.once("error",()=>{}),await d(this.destroy(n)),n;let s=new c,a=s.signal,l=(null!=r&&r.signal&&r.signal.addEventListener("abort",()=>s.abort(),{once:!0,[f]:this,[p]:!0}),!1);try{for await(var u of this){if(l=!0,null!=r&&null!=(i=r.signal)&&i.aborted)throw new y;o?t=await e(t,u,{signal:a}):(t=u,o=!0)}if(!l&&!o)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&m(e,"options"),null!=e?.signal&&b(e.signal,"options.signal");var t,r,n=[];for await(t of this){if(null!=e&&null!=(r=e.signal)&&r.aborted)throw new y(void 0,{cause:e.signal.reason});v(n,t)}return n},some:B,find:async function(e,t){for await(var r of N.call(this,e,t))return r}}}),Sa=D((e,t)=>{"use strict";A(),x(),I();var{ArrayPrototypePop:a,Promise:r}=Ee(),{isIterable:l,isNodeStream:u,isWebStream:c}=mt(),h=so()["pipelineImpl"],n=Ut()["finished"];Ea(),t.exports={finished:n,pipeline:function(...s){return new r((r,n)=>{let e,t,i=s[s.length-1];var o;!i||"object"!=typeof i||u(i)||l(i)||c(i)||(o=a(s),e=o.signal,t=o.end),h(s,(e,t)=>{e?n(e):r(t)},{signal:e,end:t})})}}}),Ea=D((e,t)=>{"use strict";A(),x(),I();var r,n,i=(ke(),me(qe))["Buffer"],{ObjectDefineProperty:o,ObjectKeys:s,ReflectApply:a}=Ee(),l=$e()["promisify"]["custom"],{streamReturningOperators:u,promiseReturningOperators:c}=gp(),h=De()["codes"]["ERR_ILLEGAL_CONSTRUCTOR"],f=wa(),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:d}=Cn(),g=so()["pipeline"],y=Ar()["destroyer"],b=Ut(),m=Sa(),v=mt(),w=t.exports=$i().Stream;w.isDestroyed=v.isDestroyed,w.isDisturbed=v.isDisturbed,w.isErrored=v.isErrored,w.isReadable=v.isReadable,w.isWritable=v.isWritable,w.Readable=Nn();for(r of s(u)){let e=function(...e){if(new.target)throw h();return w.Readable.from(a(t,this,e))},t=u[r];o(e,"name",{__proto__:null,value:t.name}),o(e,"length",{__proto__:null,value:t.length}),o(w.Readable.prototype,r,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}for(n of s(c)){let e=function(...e){if(new.target)throw h();return a(t,this,e)},t=c[n];o(e,"name",{__proto__:null,value:t.name}),o(e,"length",{__proto__:null,value:t.length}),o(w.Readable.prototype,n,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}w.Writable=ro(),w.Duplex=St(),w.Transform=oa(),w.PassThrough=aa(),w.pipeline=g;t=kn().addAbortSignal;w.addAbortSignal=t,w.finished=b,w.destroy=y,w.compose=f,w.setDefaultHighWaterMark=p,w.getDefaultHighWaterMark=d,o(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),o(g,l,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),o(b,l,{__proto__:null,enumerable:!0,get(){return m.finished}}),(w.Stream=w)._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}}),or=D((e,t)=>{"use strict";A(),x(),I();var r=Ea(),n=Sa(),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),Tp=D((e,t)=>{A(),x(),I(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}}),Rp=D((e,t)=>{"use strict";A(),x(),I();var h=(ke(),me(qe))["Buffer"],r=Symbol.for("BufferList");function n(e){if(!(this instanceof n))return new n(e);n._init.call(this,e)}n._init=function(e){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},n.prototype._new=function(e){return new n(e)},n.prototype._offset=function(t){if(0===t)return[0,0];let r=0;for(let e=0;e<this._bufs.length;e++){var n=r+this._bufs[e].length;if(t<n||e===this._bufs.length-1)return[e,t-r];r=n}},n.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},n.prototype.getBuffers=function(){return this._bufs},n.prototype.get=function(e){if(!(e>this.length||e<0))return e=this._offset(e),this._bufs[e[0]][e[1]]},n.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},n.prototype.copy=function(t,e,r,n){if(("number"!=typeof n||n>this.length)&&(n=this.length),(r="number"!=typeof r||r<0?0:r)>=this.length||n<=0)return t||h.alloc(0);let i=!!t,o=this._offset(r),s=n-r,a=s,l=i&&e||0,u=o[1];if(0===r&&n===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:h.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,l),l+=this._bufs[e].length;return t}if(a<=this._bufs[o[0]].length-u)return i?this._bufs[o[0]].copy(t,e,u,u+a):this._bufs[o[0]].slice(u,u+a);i||(t=h.allocUnsafe(s));for(let e=o[0];e<this._bufs.length;e++){var c=this._bufs[e].length-u;if(!(a>c)){this._bufs[e].copy(t,l,u,u+a),l+=c;break}this._bufs[e].copy(t,l,u),l+=c,a-=c,u=u&&0}return t.length>l?t.slice(0,l):t},n.prototype.shallowSlice=function(e,t){if(t="number"!=typeof t?this.length:t,(e=e||0)<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},n.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},n.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){let t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},n.prototype.append=function(e){return this._attach(e,n.prototype._appendBuffer)},n.prototype.prepend=function(e){return this._attach(e,n.prototype._prependBuffer,!0)},n.prototype._attach=function(t,r,n){if(null==t)return this;if(t.buffer)r.call(this,h.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t)){var[i,o]=n?[t.length-1,-1]:[0,1];for(let e=i;0<=e&&e<t.length;e+=o)this._attach(t[e],r,n)}else if(this._isBufferList(t)){var[i,s]=n?[t._bufs.length-1,-1]:[0,1];for(let e=i;0<=e&&e<t._bufs.length;e+=s)this._attach(t._bufs[e],r,n)}else"number"==typeof t&&(t=t.toString()),r.call(this,h.from(t));return this},n.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},n.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},n.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=h.from([t]):"string"==typeof t?t=h.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=h.from(t.buffer,t.byteOffset,t.byteLength):h.isBuffer(t)||(t=h.from(t)),e=Number(e||0),(e=(e=isNaN(e)?0:e)<0?this.length+e:e)<0&&(e=0),0===t.length)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let e=this._bufs[i];for(;o<e.length;)if(e.length-o>=t.length){var s=e.indexOf(t,o);if(-1!==s)return this._reverseOffset([i,s]);o=e.length-t.length+1}else{s=this._reverseOffset([i,o]);if(this._match(s,t))return s;o++}o=0}return-1},n.prototype._match=function(t,r){if(this.length-t<r.length)return!1;for(let e=0;e<r.length;e++)if(this.get(t+e)!==r[e])return!1;return!0};{let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var i in t)!function(r){null===t[r]?n.prototype[r]=function(e,t){return this.slice(e,e+t)[r](0,t)}:n.prototype[r]=function(e=0){return this.slice(e,e+t[r])[r](0)}}(i)}n.prototype._isBufferList=function(e){return e instanceof n||n.isBufferList(e)},n.isBufferList=function(e){return null!=e&&e[r]},t.exports=n}),kp=D((e,t)=>{"use strict";A(),x(),I();var r=or().Duplex,n=Tp(),i=Rp();function o(e){if(!(this instanceof o))return new o(e);if("function"==typeof e){this._callback=e;let t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}i._init.call(this,e),r.call(this)}n(o,r),Object.assign(o.prototype,i.prototype),o.prototype._new=function(e){return new o(e)},o.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},o.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},o.prototype._isBufferList=function(e){return e instanceof o||e instanceof i||o.isBufferList(e)},o.isBufferList=i.isBufferList,t.exports=o,t.exports.BufferListStream=o,t.exports.BufferList=i}),Bp=D((e,t)=>{A(),x(),I();t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}}),Pa=D((e,t)=>{A(),x(),I();var r,n,i,o=t.exports,s=(ke(),me(qe))["Buffer"];for(r in o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},o.requiredHeaderFlagsErrors={},o.requiredHeaderFlags){let e=o.requiredHeaderFlags[r];o.requiredHeaderFlagsErrors[r]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+o.types[r]+" packet"}for(n in o.codes={},o.types){var a=o.types[n];o.codes[a]=n}for(i in o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.VARBYTEINT_MASK=127,o.VARBYTEINT_FIN_MASK=128,o.VARBYTEINT_MAX=268435455,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=s.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=s.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=s.from([o.codes.connect<<o.CMD_SHIFT]),o.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o.propertiesCodes={},o.properties){var l=o.properties[i];o.propertiesCodes[l]=i}function u(i){return[0,1,2].map(n=>[0,1].map(r=>[0,1].map(e=>{let t=s.alloc(1);return t.writeUInt8(o.codes[i]<<o.CMD_SHIFT|(r?o.DUP_MASK:0)|n<<o.QOS_SHIFT|e,0,!0),t})))}o.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},o.PUBLISH_HEADER=u("publish"),o.SUBSCRIBE_HEADER=u("subscribe"),o.SUBSCRIBE_OPTIONS_QOS_MASK=3,o.SUBSCRIBE_OPTIONS_NL_MASK=1,o.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o.SUBSCRIBE_OPTIONS_RAP_MASK=1,o.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o.SUBSCRIBE_OPTIONS_RH_MASK=3,o.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o.SUBSCRIBE_OPTIONS_RH=[0,16,32],o.SUBSCRIBE_OPTIONS_NL=4,o.SUBSCRIBE_OPTIONS_RAP=8,o.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o.UNSUBSCRIBE_HEADER=u("unsubscribe"),o.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},o.SUBACK_HEADER=s.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=s.from([3]),o.VERSION4=s.from([4]),o.VERSION5=s.from([5]),o.VERSION131=s.from([131]),o.VERSION132=s.from([132]),o.QOS=[0,1,2].map(e=>s.from([e])),o.EMPTY={pingreq:s.from([o.codes.pingreq<<4,0]),pingresp:s.from([o.codes.pingresp<<4,0]),disconnect:s.from([o.codes.disconnect<<4,0])},o.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},o.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},o.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},o.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),qp=D((e,t)=>{A(),x(),I();var i=36e5,o=864e5;function s(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if(!("string"==r&&0<e.length)){if("number"==r&&isFinite(e))return t.long?(r=e,t=Math.abs(r),o<=t?s(r,t,o,"day"):i<=t?s(r,t,i,"hour"):6e4<=t?s(r,t,6e4,"minute"):1e3<=t?s(r,t,1e3,"second"):r+" ms"):(t=e,r=Math.abs(t),o<=r?Math.round(t/o)+"d":i<=r?Math.round(t/i)+"h":6e4<=r?Math.round(t/6e4)+"m":1e3<=r?Math.round(t/1e3)+"s":t+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}r=e;if(!(100<(r=String(r)).length)){r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(r){var n=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}}),Up=D((e,t)=>{A(),x(),I(),t.exports=function(t){function a(e){let r,t=null,n,i;function s(...o){if(s.enabled){let n=s,e=Number(new Date),t=e-(r||e),i=(n.diff=t,n.prev=r,n.curr=e,r=e,o[0]=a.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O"),0);o[0]=o[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";i++;let r=a.formatters[t];return"function"==typeof r&&(t=o[i],e=r.call(n,t),o.splice(i,1),i--),e}),a.formatArgs.call(n,o),(n.log||a.log).apply(n,o)}}return s.namespace=e,s.useColors=a.useColors(),s.color=a.selectColor(e),s.extend=o,s.destroy=a.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==t?t:(n!==a.namespaces&&(n=a.namespaces,i=a.enabled(e)),i),set:e=>{t=e}}),"function"==typeof a.init&&a.init(s),s}function o(e,t){let r=a(this.namespace+("u"<typeof t?":":t)+e);return r.log=this.log,r}function n(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return;n=i+1,o++,r=o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return((a.debug=a).default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){var e=[...a.names,...a.skips.map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){a.save(e),a.namespaces=e,a.names=[],a.skips=[];e=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(var t of e)"-"===t[0]?a.skips.push(t.slice(1)):a.names.push(t)},a.enabled=function(e){for(var t of a.skips)if(n(e,t))return!1;for(var r of a.names)if(n(e,r))return!0;return!1},a.humanize=qp(),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{a[e]=t[e]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return a.colors[Math.abs(r)%a.colors.length]},a.enable(a.load()),a}}),At=D((t,r)=>{A(),x(),I(),t.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return e=!e&&typeof M<"u"&&"env"in M?M.env.DEBUG:e},t.useColors=function(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&31<=parseInt(e[1],10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),r.exports=Up()(t);var e=r.exports["formatters"];e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),Fp=D((e,t)=>{A(),x(),I();var r=kp(),n=(er(),me(Zt))["EventEmitter"],i=Bp(),u=Pa(),c=At()("mqtt-packet:parser"),n=class o extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof o?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new o).parser(e)}_resetState(){c("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=r(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),c("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||0<this._list.length)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,c("parse: state complete. _stateCounter is now: %d",this._stateCounter),c("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return c("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){var e=this._list.readUInt8(0),t=e>>u.CMD_SHIFT,r=(this.packet.cmd=u.types[t],15&e),n=u.requiredHeaderFlags[t];return null!=n&&r!==n?this._emitError(new Error(u.requiredHeaderFlagsErrors[t])):(this.packet.retain=0!=(e&u.RETAIN_MASK),this.packet.qos=e>>u.QOS_SHIFT&u.QOS_MASK,2<this.packet.qos?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=0!=(e&u.DUP_MASK),c("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),c("_parseLength %d",e.value),!!e}_parsePayload(){c("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return c("_parsePayload complete result: %s",e),e}_parseConnect(){c("_parseConnect");let e,t,r,n,i={},o=this.packet,s=this._parseString();if(null===s)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==s&&"MQIsdp"!==s)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=s,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),128<=o.protocolVersion&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));i.username=this._list.readUInt8(this._pos)&u.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&u.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&u.WILL_FLAG_MASK;var a=!!(this._list.readUInt8(this._pos)&u.WILL_RETAIN_MASK),l=(this._list.readUInt8(this._pos)&u.WILL_QOS_MASK)>>u.WILL_QOS_SHIFT;if(i.will)o.will={},o.will.retain=a,o.will.qos=l;else{if(a)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(l)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(o.clean=0!=(this._list.readUInt8(this._pos)&u.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));5===o.protocolVersion&&(a=this._parseProperties(),Object.getOwnPropertyNames(a).length&&(o.properties=a));l=this._parseString();if(null===l)return this._emitError(new Error("Packet too short"));if(o.clientId=l,c("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion&&(a=this._parseProperties(),Object.getOwnPropertyNames(a).length&&(o.will.properties=a)),null===(e=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=e,c("_parseConnect: packet.will.topic: %s",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));o.will.payload=t,c("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse username"));o.username=n,c("_parseConnect: packet.username: %s",o.username)}if(i.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));o.password=r}return this.settings=o,c("_parseConnect: complete"),o}_parseConnack(){c("_parseConnack");let e=this.packet;if(this._list.length<1)return null;var t=this._list.readUInt8(this._pos++);if(1<t)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(t&u.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)2<=this._list.length?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));5===this.settings.protocolVersion&&(t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t)),c("_parseConnack: complete")}_parsePublish(){c("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));var t;0<e.qos&&!this._parseMessageId()||(5===this.settings.protocolVersion&&(t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t)),e.payload=this._list.slice(this._pos,e.length),c("_parsePublish: payload from buffer list: %o",e.payload))}_parseSubscribe(){c("_parseSubscribe");let e=this.packet,t,r,n,i,o,s,a;if(e.subscriptions=[],this._parseMessageId()){var l;if(5===this.settings.protocolVersion&&(l=this._parseProperties(),Object.getOwnPropertyNames(l).length&&(e.properties=l)),e.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<e.length;){if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(r=this._parseByte(),5===this.settings.protocolVersion){if(192&r)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&r)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(2<(n=r&u.SUBSCRIBE_OPTIONS_QOS_MASK))return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(s=0!=(r>>u.SUBSCRIBE_OPTIONS_NL_SHIFT&u.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(r>>u.SUBSCRIBE_OPTIONS_RAP_SHIFT&u.SUBSCRIBE_OPTIONS_RAP_MASK),2<(i=r>>u.SUBSCRIBE_OPTIONS_RH_SHIFT&u.SUBSCRIBE_OPTIONS_RH_MASK))return this._emitError(new Error("Invalid retain handling, must be <= 2"));a={topic:t,qos:n},5===this.settings.protocolVersion?(a.nl=s,a.rap=o,a.rh=i):this.settings.bridgeMode&&(a.rh=0,a.rap=!0,a.nl=!0),c("_parseSubscribe: push subscription `%s` to subscription",a),e.subscriptions.push(a)}}}_parseSuback(){c("_parseSuback");let e=this.packet;if(this.packet.granted=[],this._parseMessageId()){var t;if(5===this.settings.protocolVersion&&(t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t)),e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){var r=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!u.MQTT5_SUBACK_CODES[r])return this._emitError(new Error("Invalid suback code"))}else if(2<r&&128!==r)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(r)}}}_parseUnsubscribe(){c("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){var t;if(5===this.settings.protocolVersion&&(t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t)),e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){var r=this._parseString();if(null===r)return this._emitError(new Error("Cannot parse topic"));c("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),e.unsubscriptions.push(r)}}}_parseUnsuback(){c("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==e.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;){var r=this._list.readUInt8(this._pos++);if(!u.MQTT5_UNSUBACK_CODES[r])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(r)}}}_parseConfirmation(){c("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(2<e.length){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(u.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])break;return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));case"pubrel":case"pubcomp":if(u.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])break;return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"))}c("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else e.reasonCode=0;var t;3<e.length&&(t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t))}return!0}_parseDisconnect(){let e=this.packet;var t;return c("_parseDisconnect"),5===this.settings.protocolVersion&&(0<this._list.length?(e.reasonCode=this._parseByte(),u.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0,t=this._parseProperties(),Object.getOwnPropertyNames(t).length&&(e.properties=t)),c("_parseDisconnect result: true"),!0}_parseAuth(){c("_parseAuth");let e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!u.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),c("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(c("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){var t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;r=this._list.toString("utf8",this._pos,r);return this._pos+=t,c("_parseString: result: %s",r),r}_parseStringPair(){return c("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){var e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;t=this._list.slice(this._pos,t);return this._pos+=e,c("_parseBuffer: result: %o",t),t}_parseNum(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,c("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,c("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){c("_parseVarByteNum");let t=0,r=1,n=0,i=!1,o,s=this._pos||0;for(;t<4&&s+t<this._list.length;){if(o=this._list.readUInt8(s+t++),n+=r*(o&u.VARBYTEINT_MASK),r*=128,0==(o&u.VARBYTEINT_FIN_MASK)){i=!0;break}if(this._list.length<=t)break}return!i&&4===t&&this._list.length>=t&&this._emitError(new Error("Invalid variable byte integer")),s&&(this._pos+=t),i=!!i&&(e?{bytes:t,value:n}:n),c("_parseVarByteNum: result: %o",i),i}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),c("_parseByte: result: %o",e),e}_parseByType(e){switch(c("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){c("_parseProperties");let e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){var n=this._parseByte();if(!n)return this._emitError(new Error("Cannot parse property code type")),!1;var i,o,n=u.propertiesCodes[n];if(!n)return this._emitError(new Error("Unknown property")),!1;"userProperties"===n?(r[n]||(r[n]=Object.create(null)),i=this._parseByType(u.propertiesTypes[n]),r[n][i.name]?(Array.isArray(r[n][i.name])||(o=r[n][i.name],r[n][i.name]=[o]),r[n][i.name].push(i.value)):r[n][i.name]=i.value):r[n]?(Array.isArray(r[n])||(r[n]=[r[n]]),r[n].push(this._parseByType(u.propertiesTypes[n]))):r[n]=this._parseByType(u.propertiesTypes[n])}return r}_newPacket(){return c("_newPacket"),this.packet&&(this._list.consume(this.packet.length),c("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),c("_newPacket: new packet"),this.packet=new i,!(this._pos=0)}_emitError(e){c("_emitError",e),this.error=e,this.emit("error",e)}};t.exports=n}),Vp=D((e,t)=>{A(),x(),I();var i=(ke(),me(qe))["Buffer"],r={},o=i.isBuffer(i.from([1,2]).subarray(0,1));function n(e){let t=i.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}t.exports={cache:r,generateCache:function(){for(let e=0;e<65536;e++)r[e]=n(e)},generateNumber:n,genBufVariableByteInt:function(e){let t=0,r=0,n=i.allocUnsafe(4);for(;t=e%128|0,0<(e=e/128|0)&&(t|=128),n.writeUInt8(t,r++),0<e&&r<4;);return 0<e&&(r=0),o?n.subarray(0,r):n.slice(0,r)},generate4ByteBuffer:function(e){let t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}}}),Gp=D((e,t)=>{"use strict";A(),x(),I(),"u"<typeof M||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return M.nextTick(e);case 2:return M.nextTick(function(){e.call(null,t)});case 3:return M.nextTick(function(){e.call(null,t,r)});case 4:return M.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return M.nextTick(function(){e.apply(null,i)})}}}:t.exports=M}),Ba=D((e,t)=>{A(),x(),I();var P=Pa(),T=(ke(),me(qe))["Buffer"],R=T.allocUnsafe(0),C=T.from([0]),r=Vp(),n=Gp().nextTick,M=At()("mqtt-packet:writeToStream"),i=r.cache,o=r.generateNumber,j=r.generateCache,l=r.genBufVariableByteInt,s=r.generate4ByteBuffer,B=h,N=!0;function a(d,g,c){switch(M("generate called"),g.cork&&(g.cork(),n(D,g)),N&&(N=!1,j()),M("generate: packet.cmd: %s",d.cmd),d.cmd){case"connect":{var y=d;var b=g;let e=y||{},t=e.protocolId||"MQTT",r=e.protocolVersion||4,n=e.will,i=e.clean,o=e.keepalive||0,s=e.clientId||"",a=e.username,l=e.password,u=e.properties,c=(void 0===i&&(i=!0),0);if(!t||"string"!=typeof t&&!T.isBuffer(t))return b.destroy(new Error("Invalid protocolId")),!1;if(c+=t.length+2,3!==r&&4!==r&&5!==r)return b.destroy(new Error("Invalid protocol version")),!1;if(c+=1,("string"==typeof s||T.isBuffer(s))&&(s||4<=r)&&(s||i))c+=T.byteLength(s)+2;else{if(r<4)return b.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(0==+i)return b.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof o||o<0||65535<o||o%1!=0)return b.destroy(new Error("Invalid keepalive")),!1;c=c+2+1;let h,f;if(5===r){if(!(h=W(b,u)))return!1;c+=h.length}if(n){if("object"!=typeof n)return b.destroy(new Error("Invalid will")),!1;if(!n.topic||"string"!=typeof n.topic)return b.destroy(new Error("Invalid will topic")),!1;if(c=c+(T.byteLength(n.topic)+2)+2,n.payload){if(!(0<=n.payload.length))return b.destroy(new Error("Invalid will payload")),!1;"string"==typeof n.payload?c+=T.byteLength(n.payload):c+=n.payload.length}if(f={},5===r){if(!(f=W(b,n.properties)))return!1;c+=f.length}}let p=!1;if(null!=a){if(!V(a))return b.destroy(new Error("Invalid username")),!1;p=!0,c+=T.byteLength(a)+2}if(null!=l){if(!p)return b.destroy(new Error("Username is required to use password")),!1;if(!V(l))return b.destroy(new Error("Invalid password")),!1;c+=H(l)+2}b.write(P.CONNECT_HEADER),U(b,c),F(b,t),e.bridgeMode&&(r+=128),b.write(131===r?P.VERSION131:132===r?P.VERSION132:4===r?P.VERSION4:5===r?P.VERSION5:P.VERSION3);y=0;return y=(y=(y=(y=(y=(y|=null!=a?P.USERNAME_MASK:0)|(null!=l?P.PASSWORD_MASK:0))|(n&&n.retain?P.WILL_RETAIN_MASK:0))|(n&&n.qos?n.qos<<P.WILL_QOS_SHIFT:0))|(n?P.WILL_FLAG_MASK:0))|(i?P.CLEAN_SESSION_MASK:0),b.write(T.from([y])),B(b,o),5===r&&h.write(),F(b,s),n&&(5===r&&f.write(),L(b,n.topic),F(b,n.payload)),null!=a&&F(b,a),null!=l&&F(b,l),!0;return}case"connack":{y=d;b=g;var h=c;let e=h?h.protocolVersion:4,t=y||{},r=5===e?t.reasonCode:t.returnCode,n=t.properties,i=2;if("number"!=typeof r)return b.destroy(new Error("Invalid return code")),!1;let o=null;if(5===e){if(!(o=W(b,n)))return!1;i+=o.length}return b.write(P.CONNACK_HEADER),U(b,i),b.write(t.sessionPresent?P.SESSIONPRESENT_HEADER:C),b.write(T.from([r])),o?.write(),!0;return}case"publish":{h=d;var f=g;var p=c;M("publish: packet: %o",h);let e=p?p.protocolVersion:4,t=h||{},r=t.qos||0,n=t.retain?P.RETAIN_MASK:0,i=t.topic,o=t.payload||R,s=t.messageId,a=t.properties,l=0;if("string"==typeof i)l+=T.byteLength(i)+2;else{if(!T.isBuffer(i))return f.destroy(new Error("Invalid topic")),!1;l+=i.length+2}if(T.isBuffer(o)?l+=o.length:l+=T.byteLength(o),r&&"number"!=typeof s)return f.destroy(new Error("Invalid messageId")),!1;r&&(l+=2);let u=null;if(5===e){if(!(u=W(f,a)))return!1;l+=u.length}return f.write(P.PUBLISH_HEADER[r][t.dup?1:0][n?1:0]),U(f,l),B(f,H(i)),f.write(i),0<r&&B(f,s),u?.write(),M("publish: payload: %o",o),f.write(o);return}case"puback":case"pubrec":case"pubrel":case"pubcomp":{p=d;f=g;var m=c;let e=m?m.protocolVersion:4,t=p||{},r=t.cmd||"puback",n=t.messageId,i=t.dup&&"pubrel"===r?P.DUP_MASK:0,o=0,s=t.reasonCode,a=t.properties,l=5===e?3:2;if("pubrel"===r&&(o=1),"number"!=typeof n)return f.destroy(new Error("Invalid messageId")),!1;let u=null;if(5===e&&"object"==typeof a){if(!(u=q(f,a,m,l)))return!1;l+=u.length}return f.write(P.ACKS[r][o][i][0]),3===l&&(l+=0!==s?1:-1),U(f,l),B(f,n),5===e&&2!==l&&f.write(T.from([s])),null!==u?u.write():4===l&&f.write(T.from([0])),!0;return}case"subscribe":{m=d;var u=g;var v=c;M("subscribe: packet: ");let s=v?v.protocolVersion:4,e=m||{},t=e.dup?P.DUP_MASK:0,r=e.messageId,n=e.subscriptions,i=e.properties,o=0;if("number"!=typeof r)return u.destroy(new Error("Invalid messageId")),!1;o+=2;let a=null;if(5===s){if(!(a=W(u,i)))return!1;o+=a.length}{if("object"!=typeof n||!n.length)return u.destroy(new Error("Invalid subscriptions")),!1;for(let e=0;e<n.length;e+=1){var w=n[e].topic,_=n[e].qos;if("string"!=typeof w)return u.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof _)return u.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===s){if("boolean"!=typeof(n[e].nl||!1))return u.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(n[e].rap||!1))return u.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;_=n[e].rh||0;if("number"!=typeof _||2<_)return u.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}o+=T.byteLength(w)+2+1}}M("subscribe: writing to stream: %o",P.SUBSCRIBE_HEADER),u.write(P.SUBSCRIBE_HEADER[1][t?1:0][0]),U(u,o),B(u,r),null!==a&&a.write();let l=!0;for(var S of n){let e=S.topic,t=S.qos,r=+S.nl,n=+S.rap,i=S.rh,o;L(u,e),o=P.SUBSCRIBE_OPTIONS_QOS[t],5===s&&(o=(o=(o|=r?P.SUBSCRIBE_OPTIONS_NL:0)|(n?P.SUBSCRIBE_OPTIONS_RAP:0))|(i?P.SUBSCRIBE_OPTIONS_RH[i]:0)),l=u.write(T.from([o]))}return l;return}case"suback":{v=d;var a=g;var E=c;let e=E?E.protocolVersion:4,t=v||{},r=t.messageId,n=t.granted,i=t.properties,o=0;if("number"!=typeof r)return a.destroy(new Error("Invalid messageId")),!1;{if(o+=2,"object"!=typeof n||!n.length)return a.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<n.length;e+=1){if("number"!=typeof n[e])return a.destroy(new Error("Invalid qos vector")),!1;o+=1}}let s=null;if(5===e){if(!(s=q(a,i,E,o)))return!1;o+=s.length}return a.write(P.SUBACK_HEADER),U(a,o),B(a,r),null!==s&&s.write(),a.write(T.from(n));return}case"unsubscribe":{E=d;var A=g;var I=c;let e=I?I.protocolVersion:4,t=E||{},r=t.messageId,n=t.dup?P.DUP_MASK:0,i=t.unsubscriptions,o=t.properties,s=0;if("number"!=typeof r)return A.destroy(new Error("Invalid messageId")),!1;{if(s+=2,"object"!=typeof i||!i.length)return A.destroy(new Error("Invalid unsubscriptions")),!1;for(let e=0;e<i.length;e+=1){if("string"!=typeof i[e])return A.destroy(new Error("Invalid unsubscriptions")),!1;s+=T.byteLength(i[e])+2}}let a=null;if(5===e){if(!(a=W(A,o)))return!1;s+=a.length}A.write(P.UNSUBSCRIBE_HEADER[1][n?1:0][0]),U(A,s),B(A,r),null!==a&&a.write();let l=!0;for(let e=0;e<i.length;e++)l=L(A,i[e]);return l;return}case"unsuback":{I=d;var x=g;var k=c;let e=k?k.protocolVersion:4,t=I||{},r=t.messageId,n=t.dup?P.DUP_MASK:0,i=t.granted,o=t.properties,s=t.cmd,a=2;if("number"!=typeof r)return x.destroy(new Error("Invalid messageId")),!1;if(5===e){if("object"!=typeof i||!i.length)return x.destroy(new Error("Invalid qos vector")),!1;for(let e=0;e<i.length;e+=1){if("number"!=typeof i[e])return x.destroy(new Error("Invalid qos vector")),!1;a+=1}}let l=null;if(5===e){if(!(l=q(x,o,k,a)))return!1;a+=l.length}return x.write(P.ACKS[s][0][n][0]),U(x,a),B(x,r),null!==l&&l.write(),5===e&&x.write(T.from(i)),!0;return}case"pingreq":case"pingresp":return g.write(P.EMPTY[d.cmd]);case"disconnect":{k=d;var s=g;var l=c;let e=l?l.protocolVersion:4,t=k||{},r=t.reasonCode,n=t.properties,i=5===e?1:0,o=null;if(5===e){if(!(o=q(s,n,l,i)))return!1;i+=o.length}return s.write(T.from([P.codes.disconnect<<4])),U(s,i),5===e&&s.write(T.from([r])),null!==o&&o.write(),!0;return}case"auth":{l=d;s=g;var O=c;let e=O?O.protocolVersion:4,t=l||{},r=t.reasonCode,n=t.properties,i=5===e?1:0,o=(5!==e&&s.destroy(new Error("Invalid mqtt version for auth packet")),q(s,n,O,i));return!!o&&(i+=o.length,s.write(T.from([P.codes.auth<<4])),U(s,i),s.write(T.from([r])),null!==o&&o.write(),!0);return}default:return g.destroy(new Error("Unknown command")),!1}}function D(e){e.uncork()}Object.defineProperty(a,"cacheNumbers",{get(){return B===h},set(e){B=e?(i&&0!==Object.keys(i).length||(N=!0),h):(N=!1,f)}});var u={};function U(e,t){if(t>P.VARBYTEINT_MAX)return e.destroy(new Error("Invalid variable byte integer: "+t));let r=u[t];r||(r=l(t),t<16384&&(u[t]=r)),M("writeVarByteInt: writing to stream: %o",r),e.write(r)}function L(e,t){var r=T.byteLength(t);return B(e,r),M("writeString: %s",t),e.write(t,"utf8")}function c(e,t,r){L(e,t),L(e,r)}function h(e,t){return M("writeNumberCached: number: %d",t),M("writeNumberCached: %o",i[t]),e.write(i[t])}function f(e,t){t=o(t);return M("writeNumberGenerated: %o",t),e.write(t)}function F(e,t){"string"==typeof t?L(e,t):t?(B(e,t.length),e.write(t)):B(e,0)}function W(i,e){if("object"!=typeof e||null!=e.length)return{length:1,write(){d(i,{},0)}};let o=0;function s(e,n){let t=P.propertiesTypes[e],r=0;switch(t){case"byte":if("boolean"!=typeof n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=2;break;case"int8":if("number"!=typeof n||n<0||255<n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=2;break;case"binary":if(n&&null===n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=1+T.byteLength(n)+2;break;case"int16":if("number"!=typeof n||n<0||65535<n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=3;break;case"int32":if("number"!=typeof n||n<0||4294967295<n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=5;break;case"var":if("number"!=typeof n||n<0||268435455<n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=1+T.byteLength(l(n));break;case"string":if("string"!=typeof n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=3+T.byteLength(n.toString());break;case"pair":if("object"!=typeof n)return i.destroy(new Error(`Invalid ${e}: `+n)),!1;r+=Object.getOwnPropertyNames(n).reduce((e,r)=>{let t=n[r];return Array.isArray(t)?e+=t.reduce((e,t)=>e+=3+T.byteLength(r.toString())+2+T.byteLength(t.toString()),0):e+=3+T.byteLength(r.toString())+2+T.byteLength(n[r].toString()),e},0);break;default:return i.destroy(new Error(`Invalid property ${e}: `+n)),!1}return r}if(e)for(var a in e){let t=0,r=0,n=e[a];if(void 0!==n){if(Array.isArray(n))for(let e=0;e<n.length;e++){if(!(r=s(a,n[e])))return!1;t+=r}else{if(!(r=s(a,n)))return!1;t=r}if(!t)return!1;o+=t}}return{length:T.byteLength(l(o))+o,write(){d(i,e,o)}}}function q(e,t,r,n){let i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=W(e,t);if(o)for(;n+s.length>o;){var a=i.shift();if(!a||!t[a])return!1;delete t[a],s=W(e,t)}return s}function p(r,n,i){switch(P.propertiesTypes[n]){case"byte":r.write(T.from([P.properties[n]])),r.write(T.from([+i]));break;case"int8":r.write(T.from([P.properties[n]])),r.write(T.from([i]));break;case"binary":r.write(T.from([P.properties[n]])),F(r,i);break;case"int16":r.write(T.from([P.properties[n]])),B(r,i);break;case"int32":r.write(T.from([P.properties[n]])),e=r,t=s(t=i),M("write4ByteNumber: %o",t),e.write(t);break;case"var":r.write(T.from([P.properties[n]])),U(r,i);break;case"string":r.write(T.from([P.properties[n]])),L(r,i);break;case"pair":Object.getOwnPropertyNames(i).forEach(t=>{let e=i[t];Array.isArray(e)?e.forEach(e=>{r.write(T.from([P.properties[n]])),c(r,t.toString(),e.toString())}):(r.write(T.from([P.properties[n]])),c(r,t.toString(),e.toString()))});break;default:r.destroy(new Error(`Invalid property ${n} value: `+i))}var e,t}function d(t,e,r){for(var n in U(t,r),e)if(Object.prototype.hasOwnProperty.call(e,n)&&null!=e[n]){var i=e[n];if(Array.isArray(i))for(let e=0;e<i.length;e++)p(t,n,i[e]);else p(t,n,i)}}function H(e){return e?e instanceof T?e.length:T.byteLength(e):0}function V(e){return"string"==typeof e||e instanceof T}t.exports=a}),ny=D((e,t)=>{A(),x(),I();var n=Ba(),r=(er(),me(Zt))["EventEmitter"],s=(ke(),me(qe))["Buffer"];var i=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0,t=new Array(this._array.length),r=this._array,n=0,i;for(i=0;i<r.length&&void 0!==r[i];i++)"string"!=typeof r[i]?t[i]=r[i].length:t[i]=s.byteLength(r[i]),e+=t[i];let o=s.allocUnsafe(e);for(i=0;i<r.length&&void 0!==r[i];i++)"string"!=typeof r[i]?r[i].copy(o,n):o.write(r[i],n),n+=t[i];return o}destroy(e){e&&this.emit("error",e)}};t.exports=function(e,t){let r=new i;return n(e,r,t),r.concat()}}),iy=D(e=>{A(),x(),I(),e.parser=Fp().parser,e.generate=ny(),e.writeToStream=Ba()}),sy=D((e,t)=>{"use strict";function f(e){return e instanceof U?U.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}A(),x(),I(),t.exports=function(e){if((e=e||{}).circles)return function(e){let l=[],u=[],c=new Map;if(c.set(Date,e=>new Date(e)),c.set(Map,(e,t)=>new Map(o(Array.from(e),t))),c.set(Set,(e,t)=>new Set(o(Array.from(e),t))),e.constructorHandlers)for(var t of e.constructorHandlers)c.set(t[0],t[1]);let h=null;return e.proto?function r(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return o(e,r);if(e.constructor!==Object&&(h=c.get(e.constructor)))return h(e,r);let n={};l.push(e),u.push(n);for(var i in e){let t=e[i];if("object"!=typeof t||null===t)n[i]=t;else if(t.constructor!==Object&&(h=c.get(t.constructor)))n[i]=h(t,r);else if(ArrayBuffer.isView(t))n[i]=f(t);else{let e=l.indexOf(t);-1!==e?n[i]=u[e]:n[i]=r(t)}}return l.pop(),u.pop(),n}:function r(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return o(e,r);if(e.constructor!==Object&&(h=c.get(e.constructor)))return h(e,r);let n={};l.push(e),u.push(n);for(var i in e)if(!1!==Object.hasOwnProperty.call(e,i)){let t=e[i];if("object"!=typeof t||null===t)n[i]=t;else if(t.constructor!==Object&&(h=c.get(t.constructor)))n[i]=h(t,r);else if(ArrayBuffer.isView(t))n[i]=f(t);else{let e=l.indexOf(t);-1!==e?n[i]=u[e]:n[i]=r(t)}}return l.pop(),u.pop(),n};function o(t,r){let n=Object.keys(t),i=new Array(n.length);for(let e=0;e<n.length;e++){var o,s=n[e],a=t[s];"object"!=typeof a||null===a?i[s]=a:a.constructor!==Object&&(h=c.get(a.constructor))?i[s]=h(a,r):ArrayBuffer.isView(a)?i[s]=f(a):(o=l.indexOf(a),i[s]=-1!==o?u[o]:r(a))}return i}}(e);let a=new Map;if(a.set(Date,e=>new Date(e)),a.set(Map,(e,t)=>new Map(o(Array.from(e),t))),a.set(Set,(e,t)=>new Set(o(Array.from(e),t))),e.constructorHandlers)for(var t of e.constructorHandlers)a.set(t[0],t[1]);let l=null;return e.proto?function t(r){if("object"!=typeof r||null===r)return r;if(Array.isArray(r))return o(r,t);if(r.constructor!==Object&&(l=a.get(r.constructor)))return l(r,t);let n={};for(var i in r){let e=r[i];"object"!=typeof e||null===e?n[i]=e:e.constructor!==Object&&(l=a.get(e.constructor))?n[i]=l(e,t):ArrayBuffer.isView(e)?n[i]=f(e):n[i]=t(e)}return n}:function t(r){if("object"!=typeof r||null===r)return r;if(Array.isArray(r))return o(r,t);if(r.constructor!==Object&&(l=a.get(r.constructor)))return l(r,t);let n={};for(var i in r)if(!1!==Object.hasOwnProperty.call(r,i)){let e=r[i];"object"!=typeof e||null===e?n[i]=e:e.constructor!==Object&&(l=a.get(e.constructor))?n[i]=l(e,t):ArrayBuffer.isView(e)?n[i]=f(e):n[i]=t(e)}return n};function o(t,r){let n=Object.keys(t),i=new Array(n.length);for(let e=0;e<n.length;e++){var o=n[e],s=t[o];"object"!=typeof s||null===s?i[o]=s:s.constructor!==Object&&(l=a.get(s.constructor))?i[o]=l(s,r):ArrayBuffer.isView(s)?i[o]=f(s):i[o]=r(s)}return i}}}),uy=D((e,t)=>{"use strict";A(),x(),I(),t.exports=sy()()}),cy=D(e=>{"use strict";function r(e){let t=e.split("/");for(let e=0;e<t.length;e++)if("+"!==t[e]){if("#"===t[e])return e===t.length-1;if(-1!==t[e].indexOf("+")||-1!==t[e].indexOf("#"))return!1}return!0}A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=r,e.validateTopics=function(t){if(0===t.length)return"empty_topic_list";for(let e=0;e<t.length;e++)if(!r(t[e]))return t[e];return null}}),La=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});var i=or(),o={objectMode:!0},t={clean:!0};e.default=class{options;_inflights;constructor(e){this.options=e||{},this.options={...t,...e},this._inflights=new Map}put(e,t){return this._inflights.set(e.messageId,e),t&&t(),this}createStream(){let t=new i.Readable(o),r=[],n=!1,e=0;return this._inflights.forEach((e,t)=>{r.push(e)}),t._read=()=>{!n&&e<r.length?t.push(r[e++]):t.push(null)},t.destroy=e=>{if(!n)return n=!0,setTimeout(()=>{t.emit("close")},0),t},t}del(e,t){var r=this._inflights.get(e.messageId);return r?(this._inflights.delete(e.messageId),t(null,r)):t&&t(new Error("missing packet")),this}get(e,t){e=this._inflights.get(e.messageId);return e?t(null,e):t&&t(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}}}),hy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});var u=[0,16,128,131,135,144,145,151,153];e.default=(r,n,i)=>{r.log("handlePublish: packet %o",n),i=typeof i<"u"?i:r.noop;let o=n.topic.toString(),s=n.payload,e=n["qos"],a=n["messageId"],t=r["options"];if(5===r.options.protocolVersion){let e;if(typeof(e=n.properties?n.properties.topicAlias:e)<"u")if(0===o.length){if(!(0<e&&e<=65535))return r.log("handlePublish :: topic alias out of range. alias: %d",e),void r.emit("error",new Error("Received Topic Alias is out of range"));var l=r.topicAliasRecv.getTopicByAlias(e);if(!l)return r.log("handlePublish :: unregistered topic alias. alias: %d",e),void r.emit("error",new Error("Received unregistered Topic Alias"));o=l,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,e)}else{if(!r.topicAliasRecv.put(o,e))return r.log("handlePublish :: topic alias out of range. alias: %d",e),void r.emit("error",new Error("Received Topic Alias is out of range"));r.log("handlePublish :: registered topic: %s - alias: %d",o,e)}}switch(r.log("handlePublish: qos %d",e),e){case 2:t.customHandleAcks(o,s,n,(e,t)=>("number"==typeof e&&(t=e,e=null),e?r.emit("error",e):-1===u.indexOf(t)?r.emit("error",new Error("Wrong reason code for pubrec")):void(t?r._sendPacket({cmd:"pubrec",messageId:a,reasonCode:t},i):r.incomingStore.put(n,()=>{r._sendPacket({cmd:"pubrec",messageId:a},i)}))));break;case 1:t.customHandleAcks(o,s,n,(e,t)=>("number"==typeof e&&(t=e,e=null),e?r.emit("error",e):-1===u.indexOf(t)?r.emit("error",new Error("Wrong reason code for puback")):(t||r.emit("message",o,s,n),void r.handleMessage(n,e=>{if(e)return i&&i(e);r._sendPacket({cmd:"puback",messageId:a,reasonCode:t},i)}))));break;case 0:r.emit("message",o,s,n),r.handleMessage(n,i);break;default:r.log("handlePublish: unknown QoS. Doing nothing.")}}}),dy=D((e,t)=>{t.exports={version:"5.14.1"}}),Mr=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=function(e,t,r=!1){let n=[t];for(;;){var i=n[0],i=Object.getPrototypeOf(i);if(!i?.prototype)break;n.unshift(i)}for(var o of n)for(var s of Object.getOwnPropertyNames(o.prototype))!r&&"constructor"===s||Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(o.prototype,s)??Object.create(null))};var t=class r extends Error{code;constructor(e,t){super(e),this.code=t,Object.setPrototypeOf(this,r.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}},t=(e.ErrorWithReasonCode=t,class n extends Error{packet;constructor(e,t){super(e),this.packet=t,Object.setPrototypeOf(this,n.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}});e.ErrorWithSubackPacket=t,e.nextTick="function"==typeof M?.nextTick?M.nextTick:e=>{setTimeout(e,0)},e.MQTTJS_VERSION=dy().version}),zn=D(c=>{"use strict";A(),x(),I(),Object.defineProperty(c,"__esModule",{value:!0}),c.ReasonCodes=void 0;var h=Mr();c.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};c.default=(t,e)=>{let r=e["messageId"],n=e.cmd,i,o=t.outgoing[r]?t.outgoing[r].cb:null,s=null;if(o){switch(t.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":var a=e.reasonCode;a&&0<a&&16!==a?(s=new h.ErrorWithReasonCode("Publish error: "+c.ReasonCodes[a],a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e)})):t._removeOutgoingAndStoreMessage(r,o);break;case"pubrec":i={cmd:"pubrel",qos:2,messageId:r};a=e.reasonCode;a&&0<a&&16!==a?(s=new h.ErrorWithReasonCode("Publish error: "+c.ReasonCodes[a],a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e)})):t._sendPacket(i);break;case"suback":delete t.outgoing[r],t.messageIdProvider.deallocate(r);var l=e.granted;for(let e=0;e<l.length;e++){var u=l[e];if(0!=(128&u)){(s=new Error("Subscribe error: "+c.ReasonCodes[u])).code=u;let e=t.messageIdToTopic[r];e&&e.forEach(e=>{delete t._resubscribeTopics[e]})}}delete t.messageIdToTopic[r],t._invokeStoreProcessingQueue(),o(s,e);break;case"unsuback":delete t.outgoing[r],t.messageIdProvider.deallocate(r),t._invokeStoreProcessingQueue(),o(null,e);break;default:t.emit("error",new Error("unrecognized packet type"))}t.disconnecting&&0===Object.keys(t.outgoing).length&&t.emit("outgoingEmpty")}else t.log("_handleAck :: Server sent an ack in error. Ignoring.")}}),gy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});var s=Mr(),a=zn();e.default=(r,e)=>{let t=r["options"],n=t.protocolVersion,i=5===n?e.reasonCode:e.returnCode;var o;if(5!==n)return o=new s.ErrorWithReasonCode("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+n,i),void r.emit("error",o);r.handleAuth(e,(e,t)=>{e?r.emit("error",e):24===i?(r.reconnecting=!1,r._sendPacket(t)):(e=new s.ErrorWithReasonCode("Connection refused: "+a.ReasonCodes[i],i),r.emit("error",e))})}}),vy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var a="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,S=new Set,i="object"==typeof M&&M?M:{},E=(e,t,r,n)=>{"function"==typeof i.emitWarning?i.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: `+e)},f=globalThis.AbortController;globalThis.AbortSignal;if("u"<typeof f){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},f=class{constructor(){t()}signal=new r;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(var t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==i.env?.LRU_CACHE_IGNORE_AC_WARNING,t=()=>{e&&(e=!1,E("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");var k=e=>e&&e===Math.floor(e)&&0<e&&isFinite(e),O=e=>k(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?t:null:null,t=class extends Array{constructor(e){super(e),this.fill(0)}},P=class n{heap;length;static#u=!1;static create(e){var t=O(e);if(!t)return[];n.#u=!0;e=new n(e,t);return n.#u=!1,e}constructor(e,t){if(!n.#u)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},r=class T{#u;#f;#y;#g;#R;#k;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#b;#n;#r;#e;#l;#h;#a;#o;#w;#s;#m;#_;#d;#v;#x;#c;static unsafeExposeInternals(i){return{starts:i.#_,ttls:i.#d,sizes:i.#m,keyMap:i.#n,keyList:i.#r,valList:i.#e,next:i.#l,prev:i.#h,get head(){return i.#a},get tail(){return i.#o},free:i.#w,isBackgroundFetch:e=>i.#t(e),backgroundFetch:(e,t,r,n)=>i.#M(e,t,r,n),moveToTail:e=>i.#O(e),indexes:e=>i.#S(e),rindexes:e=>i.#E(e),isStale:e=>i.#p(e)}}get max(){return this.#u}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#i}get fetchMethod(){return this.#R}get memoMethod(){return this.#k}get dispose(){return this.#y}get disposeAfter(){return this.#g}constructor(e){var{max:e=0,ttl:t,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:i,updateAgeOnHas:o,allowStale:s,dispose:a,disposeAfter:l,noDisposeOnSet:u,noUpdateTTL:c,maxSize:h=0,maxEntrySize:f=0,sizeCalculation:p,fetchMethod:d,memoMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:m,allowStaleOnFetchAbort:v,ignoreFetchAbort:w}=e;if(0!==e&&!k(e))throw new TypeError("max option must be a nonnegative integer");let _=e?O(e):Array;if(!_)throw new Error("invalid max value: "+e);if(this.#u=e,this.#f=h,this.maxEntrySize=f||this.#f,this.sizeCalculation=p,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#k=g,void 0!==d&&"function"!=typeof d)throw new TypeError("fetchMethod must be a function if specified");if(this.#R=d,this.#x=!!d,this.#n=new Map,this.#r=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#l=new _(e),this.#h=new _(e),this.#a=0,this.#o=0,this.#w=P.create(e),this.#i=0,this.#b=0,"function"==typeof a&&(this.#y=a),"function"==typeof l?(this.#g=l,this.#s=[]):(this.#g=void 0,this.#s=void 0),this.#v=!!this.#y,this.#c=!!this.#g,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!c,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!m,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#f&&!k(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!k(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!s,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!o,this.ttlResolution=k(r)||0===r?r:1,this.ttlAutopurge=!!n,this.ttl=t||0,this.ttl){if(!k(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(0===this.#u&&0===this.ttl&&0===this.#f)throw new TypeError("At least one of max, maxSize, or ttl is required");this.ttlAutopurge||this.#u||this.#f||(S.has(h="LRU_CACHE_UNBOUNDED")||(S.add(h),E("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",h,T)))}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#N(){let n=new t(this.#u),i=new t(this.#u),o=(this.#d=n,this.#_=i,this.#q=(t,r,e=a.now())=>{if(i[t]=0!==r?e:0,0!==(n[t]=r)&&this.ttlAutopurge){let e=setTimeout(()=>{this.#p(t)&&this.#A(this.#r[t],"expire")},r+1);e.unref&&e.unref()}},this.#T=e=>{i[e]=0!==n[e]?a.now():0},this.#I=(e,t)=>{var r;n[t]&&(r=n[t],t=i[t],r&&t&&(e.ttl=r,e.start=t,e.now=o||s(),t=e.now-t,e.remainingTTL=r-t))},0),s=()=>{var t=a.now();if(0<this.ttlResolution){o=t;let e=setTimeout(()=>o=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=e=>{e=this.#n.get(e);if(void 0===e)return 0;var t=n[e],e=i[e];return t&&e?t-((o||s())-e):1/0},this.#p=e=>{var t=i[e],e=n[e];return!!e&&!!t&&(o||s())-t>e}}#T=()=>{};#I=()=>{};#q=()=>{};#p=()=>!1;#F(){let i=new t(this.#u);this.#b=0,this.#m=i,this.#P=e=>{this.#b-=i[e],i[e]=0},this.#L=(e,t,r,n)=>{if(this.#t(t))return 0;if(!k(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!k(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#C=(e,t,r)=>{if(i[e]=t,this.#f)for(var n=this.#f-i[e];this.#b>n;)this.#B(!0);this.#b+=i[e],r&&(r.entrySize=t,r.totalCalculatedSize=this.#b)}}#P=e=>{};#C=(e,t,r)=>{};#L=(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:t=this.allowStale}={}){if(this.#i)for(let e=this.#o;this.#U(e)&&(!t&&this.#p(e)||(yield e),e!==this.#a);)e=this.#h[e]}*#E({allowStale:t=this.allowStale}={}){if(this.#i)for(let e=this.#a;this.#U(e)&&(!t&&this.#p(e)||(yield e),e!==this.#o);)e=this.#l[e]}#U(e){return void 0!==e&&this.#n.get(this.#r[e])===e}*entries(){for(var e of this.#S())void 0===this.#e[e]||void 0===this.#r[e]||this.#t(this.#e[e])||(yield[this.#r[e],this.#e[e]])}*rentries(){for(var e of this.#E())void 0===this.#e[e]||void 0===this.#r[e]||this.#t(this.#e[e])||(yield[this.#r[e],this.#e[e]])}*keys(){for(var e of this.#S()){var t=this.#r[e];void 0===t||this.#t(this.#e[e])||(yield t)}}*rkeys(){for(var e of this.#E()){var t=this.#r[e];void 0===t||this.#t(this.#e[e])||(yield t)}}*values(){for(var e of this.#S())void 0===this.#e[e]||this.#t(this.#e[e])||(yield this.#e[e])}*rvalues(){for(var e of this.#E())void 0===this.#e[e]||this.#t(this.#e[e])||(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(var r of this.#S()){var n=this.#e[r],n=this.#t(n)?n.__staleWhileFetching:n;if(void 0!==n&&e(n,this.#r[r],this))return this.get(this.#r[r],t)}}forEach(e,t=this){for(var r of this.#S()){var n=this.#e[r],n=this.#t(n)?n.__staleWhileFetching:n;void 0!==n&&e.call(t,n,this.#r[r],this)}}rforEach(e,t=this){for(var r of this.#E()){var n=this.#e[r],n=this.#t(n)?n.__staleWhileFetching:n;void 0!==n&&e.call(t,n,this.#r[r],this)}}purgeStale(){let e=!1;for(var t of this.#E({allowStale:!0}))this.#p(t)&&(this.#A(this.#r[t],"expire"),e=!0);return e}info(t){t=this.#n.get(t);if(void 0!==t){var r,n=this.#e[t],n=this.#t(n)?n.__staleWhileFetching:n;if(void 0!==n){let e={value:n};return this.#d&&this.#_&&(n=this.#d[t],r=this.#_[t],n&&r&&(n=n-(a.now()-r),e.ttl=n,e.start=Date.now())),this.#m&&(e.size=this.#m[t]),e}}}dump(){let t=[];for(var r of this.#S({allowStale:!0})){var n=this.#r[r],i=this.#e[r],i=this.#t(i)?i.__staleWhileFetching:i;if(void 0!==i&&void 0!==n){let e={value:i};this.#d&&this.#_&&(e.ttl=this.#d[r],i=a.now()-this.#_[r],e.start=Math.floor(Date.now()-i)),this.#m&&(e.size=this.#m[r]),t.unshift([n,e])}}return t}load(e){this.clear();for(var[t,r]of e){var n;r.start&&(n=Date.now()-r.start,r.start=a.now()-n),this.set(t,r.value,r)}}set(t,r,n={}){if(void 0===r)return this.delete(t),this;let{ttl:e=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=n,{noUpdateTTL:l=this.noUpdateTTL}=n,u=this.#L(t,r,n.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#A(t,"set"),this;let c=0===this.#i?void 0:this.#n.get(t);if(void 0===c)c=0===this.#i?this.#o:0!==this.#w.length?this.#w.pop():this.#i===this.#u?this.#B(!1):this.#i,this.#r[c]=t,this.#e[c]=r,this.#n.set(t,c),this.#l[this.#o]=c,this.#h[c]=this.#o,this.#o=c,this.#i++,this.#C(c,u,a),a&&(a.set="add"),l=!1;else{this.#O(c);let e=this.#e[c];r!==e?(this.#x&&this.#t(e)?(e.__abortController.abort(new Error("replaced")),n=e["__staleWhileFetching"],void 0===n||o||(this.#v&&this.#y?.(n,t,"set"),this.#c&&this.#s?.push([n,t,"set"]))):o||(this.#v&&this.#y?.(e,t,"set"),this.#c&&this.#s?.push([e,t,"set"])),this.#P(c),this.#C(c,u,a),this.#e[c]=r,a&&(a.set="replace",void 0!==(n=e&&this.#t(e)?e.__staleWhileFetching:e)&&(a.oldValue=n))):a&&(a.set="update")}if(0===e||this.#d||this.#N(),this.#d&&(l||this.#q(c,e,i),a&&this.#I(a,c)),!o&&this.#c&&this.#s){let e=this.#s,t;for(;t=e?.shift();)this.#g?.(...t)}return this}pop(){try{for(;this.#i;){var e=this.#e[this.#a];if(this.#B(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#c&&this.#s){let e=this.#s,t;for(;t=e?.shift();)this.#g?.(...t)}}}#B(e){let t=this.#a,r=this.#r[t],n=this.#e[t];return this.#x&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#v||this.#c)&&(this.#v&&this.#y?.(n,r,"evict"),this.#c&&this.#s?.push([n,r,"evict"])),this.#P(t),e&&(this.#r[t]=void 0,this.#e[t]=void 0,this.#w.push(t)),1===this.#i?(this.#a=this.#o=0,this.#w.length=0):this.#a=this.#l[t],this.#n.delete(r),this.#i--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=this.#n.get(e);if(void 0!==i){t=this.#e[i];if(this.#t(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#p(i))return r&&this.#T(i),n&&(n.has="hit",this.#I(n,i)),!0;n&&(n.has="stale",this.#I(n,i))}else n&&(n.has="miss");return!1}peek(e,t={}){var{allowStale:t=this.allowStale}=t,e=this.#n.get(e);if(void 0!==e&&(t||!this.#p(e)))return t=this.#e[e],this.#t(t)?t.__staleWhileFetching:t}#M(o,s,a,e){let n=void 0===s?void 0:this.#e[s];if(this.#t(n))return n;let l=new f,t=a["signal"],i=(t?.addEventListener("abort",()=>l.abort(t.reason),{signal:l.signal}),{signal:l.signal,options:a,context:e}),u=(e,t=!1)=>{var r=l.signal["aborted"],n=a.ignoreFetchAbort&&void 0!==e;if(a.status&&(r&&!t?(a.status.fetchAborted=!0,a.status.fetchError=l.signal.reason,n&&(a.status.fetchAbortIgnored=!0)):a.status.fetchResolved=!0),r&&!n&&!t)return c(l.signal.reason);r=h;return this.#e[s]===h&&(void 0===e?r.__staleWhileFetching?this.#e[s]=r.__staleWhileFetching:this.#A(o,"fetch"):(a.status&&(a.status.fetchUpdated=!0),this.set(o,e,i.options))),e},c=e=>{var t=l.signal["aborted"],t=t&&a.allowStaleOnFetchAbort,r=t||a.allowStaleOnFetchRejection,n=r||a.noDeleteOnFetchRejection,i=h;if(this.#e[s]===h&&(n&&void 0!==i.__staleWhileFetching?t||(this.#e[s]=i.__staleWhileFetching):this.#A(o,"fetch")),r)return a.status&&void 0!==i.__staleWhileFetching&&(a.status.returnedStale=!0),i.__staleWhileFetching;if(i.__returned===i)throw e},h=(a.status&&(a.status.fetchDispatched=!0),new Promise((t,e)=>{let r=this.#R?.(o,n,i);r&&r instanceof Promise&&r.then(e=>t(void 0===e?void 0:e),e),l.signal.addEventListener("abort",()=>{a.ignoreFetchAbort&&!a.allowStaleOnFetchAbort||(t(void 0),a.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))})}).then(u,e=>(a.status&&(a.status.fetchRejected=!0,a.status.fetchError=e),c(e)))),r=Object.assign(h,{__abortController:l,__staleWhileFetching:n,__returned:void 0});return void 0===s?(this.set(o,r,{...i.options,status:void 0}),s=this.#n.get(o)):this.#e[s]=r,r}#t(e){if(!this.#x)return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof f}async fetch(n,i={}){let{allowStale:o=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,ttl:t=this.ttl,noDisposeOnSet:r=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:g=!1,status:y,signal:b}=i;if(!this.#x)return y&&(y.fetch="get"),this.get(n,{allowStale:o,updateAgeOnGet:s,noDeleteOnStaleGet:e,status:y});var i={allowStale:o,updateAgeOnGet:s,noDeleteOnStaleGet:e,ttl:t,noDisposeOnSet:r,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:y,signal:b},m=this.#n.get(n);if(void 0===m){y&&(y.fetch="miss");let e=this.#M(n,m,i,d);return e.__returned=e}{let e=this.#e[m];if(this.#t(e))return v=o&&void 0!==e.__staleWhileFetching,y&&(y.fetch="inflight",v&&(y.returnedStale=!0)),v?e.__staleWhileFetching:e.__returned=e;var v=this.#p(m);if(!g&&!v)return y&&(y.fetch="hit"),this.#O(m),s&&this.#T(m),y&&this.#I(y,m),e;let t=this.#M(n,m,i,d),r=void 0!==t.__staleWhileFetching&&o;return y&&(y.fetch=v?"stale":"refresh",r&&v&&(y.returnedStale=!0)),r?t.__staleWhileFetching:t.__returned=t}}async forceFetch(e,t={}){e=await this.fetch(e,t);if(void 0===e)throw new Error("fetch() returned undefined");return e}memo(e,t={}){let r=this.#k;if(!r)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:i,...o}=t,s=this.get(e,o);if(!i&&void 0!==s)return s;t=r(e,s,{options:o,context:n});return this.set(e,t,o),t}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=t,s=this.#n.get(e);var a;if(void 0!==s)return t=this.#e[s],a=this.#t(t),o&&this.#I(o,s),this.#p(s)?(o&&(o.get="stale"),a?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||this.#A(e,"expire"),o&&r&&(o.returnedStale=!0),r?t:void 0)):(o&&(o.get="hit"),a?t.__staleWhileFetching:(this.#O(s),n&&this.#T(s),t));o&&(o.get="miss")}#D(e,t){this.#h[t]=e,this.#l[e]=t}#O(e){e!==this.#o&&(e===this.#a?this.#a=this.#l[e]:this.#D(this.#h[e],this.#l[e]),this.#D(this.#o,e),this.#o=e)}delete(e){return this.#A(e,"delete")}#A(t,r){let e=!1;if(0!==this.#i){var n=this.#n.get(t);if(void 0!==n)if(e=!0,1===this.#i)this.#j(r);else{this.#P(n);let e=this.#e[n];this.#t(e)?e.__abortController.abort(new Error("deleted")):(this.#v||this.#c)&&(this.#v&&this.#y?.(e,t,r),this.#c&&this.#s?.push([e,t,r])),this.#n.delete(t),this.#r[n]=void 0,this.#e[n]=void 0,n===this.#o?this.#o=this.#h[n]:n===this.#a?this.#a=this.#l[n]:(r=this.#h[n],this.#l[r]=this.#l[n],t=this.#l[n],this.#h[t]=this.#h[n]),this.#i--,this.#w.push(n)}}if(this.#c&&this.#s?.length){let e=this.#s,t;for(;t=e?.shift();)this.#g?.(...t)}return e}clear(){return this.#j("delete")}#j(t){for(var r of this.#E({allowStale:!0})){let e=this.#e[r];this.#t(e)?e.__abortController.abort(new Error("deleted")):(r=this.#r[r],this.#v&&this.#y?.(e,r,t),this.#c&&this.#s?.push([e,r,t]))}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#d&&this.#_&&(this.#d.fill(0),this.#_.fill(0)),this.#m&&this.#m.fill(0),this.#a=0,this.#o=0,this.#w.length=0,this.#b=0,this.#i=0,this.#c&&this.#s){let e=this.#s,t;for(;t=e?.shift();)this.#g?.(...t)}}};e.LRUCache=r}),It=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;e.ContainerIterator=class{constructor(e=0){this.iteratorType=e}equals(e){return this.o===e.o}};var t=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return 0===this.i}};(class extends(e.Base=t){});e.Container=class extends t{}}),Sy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=class extends It().Base{constructor(e=[]){super(),this.S=[];let t=this;e.forEach(function(e){t.push(e)})}clear(){this.i=0,this.S=[]}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(0!==this.i)return--this.i,this.S.pop()}top(){return this.S[this.i-1]}};e.default=t}),Ey=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=class extends It().Base{constructor(e=[]){super(),this.j=0,this.q=[];let t=this;e.forEach(function(e){t.push(e)})}clear(){this.q=[],this.i=this.j=0}push(e){var t=this.q.length;if(.5<this.j/t&&this.j+this.i>=t&&4096<t){var r=this.i;for(let e=0;e<r;++e)this.q[e]=this.q[this.j+e];this.j=0,this.q[this.i]=e}else this.q[this.j+this.i]=e;return++this.i}pop(){var e;if(0!==this.i)return e=this.q[this.j++],--this.i,e}front(){if(0!==this.i)return this.q[this.j]}};e.default=t}),Ay=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=class extends It().Base{constructor(e=[],t=function(e,t){return t<e?-1:e<t?1:0},r=!0){if(super(),this.v=t,Array.isArray(e))this.C=r?[...e]:e;else{this.C=[];let t=this;e.forEach(function(e){t.C.push(e)})}this.i=this.C.length;var n=this.i>>1;for(let e=this.i-1>>1;0<=e;--e)this.k(e,n)}m(e){for(var t=this.C[e];0<e;){var r=e-1>>1,n=this.C[r];if(this.v(n,t)<=0)break;this.C[e]=n,e=r}this.C[e]=t}k(n,e){for(var i=this.C[n];n<e;){let e=n<<1|1,t=e+1,r=this.C[e];if(t<this.i&&0<this.v(r,this.C[t])&&(e=t,r=this.C[t]),0<=this.v(r,i))break;this.C[n]=r,n=e}this.C[n]=i}clear(){this.i=0,this.C.length=0}push(e){this.C.push(e),this.m(this.i),this.i+=1}pop(){var e,t;if(0!==this.i)return e=this.C[0],t=this.C.pop(),--this.i,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return 0<=this.C.indexOf(e)}remove(e){e=this.C.indexOf(e);return!(e<0)&&(0===e?this.pop():e===this.i-1?(this.C.pop(),--this.i):(this.C.splice(e,1,this.C.pop()),--this.i,this.m(e),this.k(e,this.i>>1)),!0)}updateItem(e){e=this.C.indexOf(e);return!(e<0)&&(this.m(e),this.k(e,this.i>>1),!0)}toArray(){return[...this.C]}};e.default=t}),xo=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=class extends It().Container{};e.default=t}),xt=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=function(){throw new RangeError("Iterator access denied!")}}),Za=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=It(),r=xt(),t=class extends t.ContainerIterator{constructor(e,t){super(t),this.o=e,0===this.iteratorType?(this.pre=function(){return 0===this.o&&(0,r.throwIteratorAccessError)(),--this.o,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return-1===this.o&&(0,r.throwIteratorAccessError)(),--this.o,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e)}};e.RandomIterator=t}),Iy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=(t=xo())&&t.t?t:{default:t};var r=class n extends Za().RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new n(this.o,this.container,this.iteratorType)}},t=class extends t.default{constructor(e=[],t=!0){if(super(),Array.isArray(e))this.J=t?[...e]:e,this.i=e.length;else{this.J=[];let t=this;e.forEach(function(e){t.pushBack(e)})}}clear(){this.i=0,this.J.length=0}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),--this.i,this.i}eraseElementByValue(t){let r=0;for(let e=0;e<this.i;++e)this.J[e]!==t&&(this.J[r++]=this.J[e]);return this.i=this.J.length=r,this.i}eraseElementByIterator(e){var t=e.o;return e=e.next(),this.eraseElementByPos(t),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(0!==this.i)return--this.i,this.J.pop()}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=t}insert(e,t,r=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(r).fill(t)),this.i+=r,this.i}find(t){for(let e=0;e<this.i;++e)if(this.J[e]===t)return new r(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let t=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[t++]=this.J[e]);return this.i=this.J.length=t,this.i}sort(e){this.J.sort(e)}forEach(t){for(let e=0;e<this.i;++e)t(this.J[e],e,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}};e.default=t}),xy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=(t=xo())&&t.t?t:{default:t},r=It(),i=xt();var n=class o extends r.ContainerIterator{constructor(e,t,r,n){super(n),this.o=e,this.h=t,this.container=r,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0,i.throwIteratorAccessError)(),this.o.l=e}copy(){return new o(this.o,this.h,this.container,this.iteratorType)}},r=class extends t.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let t=this;e.forEach(function(e){t.pushBack(e)})}V(e){let{L:t,B:r}=e;(t.B=r).L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),--this.i}G(e,t){let r=t.B,n={l:e,L:t,B:r};t.B=n,r.L=n,t===this.h&&(this.p=n),r===this.h&&(this._=n),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}eraseElementByValue(e){let t=this.p;for(;t!==this.h;)t.l===e&&this.V(t),t=t.B;return this.i}eraseElementByIterator(e){var t=e.o;return t===this.h&&(0,i.throwIteratorAccessError)(),e=e.next(),this.V(t),e}pushBack(e){return this.G(e,this._),this.i}popBack(){var e;if(0!==this.i)return e=this._.l,this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){var e;if(0!==this.i)return e=this.p.l,this.V(this.p),e}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;r.l=t}insert(r,n,i=1){if(r<0||r>this.i)throw new RangeError;if(i<=0)return this.i;if(0===r)for(;i--;)this.pushFront(n);else if(r===this.i)for(;i--;)this.pushBack(n);else{let t=this.p;for(let e=1;e<r;++e)t=t.B;let e=t.B;for(this.i+=i;i--;)t.B={l:n,L:t},t=(t.B.L=t).B;(t.B=e).L=t}return this.i}find(e){let t=this.p;for(;t!==this.h;){if(t.l===e)return new n(t,this.h,this);t=t.B}return this.end()}reverse(){if(!(this.i<=1)){let e=this.p,t=this._,r=0;for(;r<<1<this.i;){var n=e.l;e.l=t.l,t.l=n,e=e.B,t=t.L,r+=1}}}unique(){if(this.i<=1)return this.i;let t=this.p;for(;t!==this.h;){let e=t;for(;e.B!==this.h&&e.l===e.B.l;)e=e.B,--this.i;t.B=e.B,t=(t.B.L=t).B}return this.i}sort(e){if(!(this.i<=1)){let t=[],r=(this.forEach(function(e){t.push(e)}),t.sort(e),this.p);t.forEach(function(e){r.l=e,r=r.B})}}merge(e){let r=this;if(0===this.i)e.forEach(function(e){r.pushBack(e)});else{let t=this.p;e.forEach(function(e){for(;t!==r.h&&t.l<=e;)t=t.B;r.G(e,t.L)})}return this.i}forEach(e){let t=this.p,r=0;for(;t!==this.h;)e(t.l,r++,this),t=t.B}[Symbol.iterator](){return function*(){if(0!==this.i){let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}}.bind(this)()}};e.default=r}),Ty=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=(t=xo())&&t.t?t:{default:t};var r=class n extends Za().RandomIterator{constructor(e,t,r){super(e,r),this.container=t}copy(){return new n(this.o,this.container,this.iteratorType)}},t=class extends t.default{constructor(e=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];var r=(()=>{if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("function"==typeof e.size)return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(r/this.F),1);for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));t=Math.ceil(r/this.F);this.j=this.R=(this.P>>1)-(t>>1),this.D=this.N=this.F-r%this.F>>1;let n=this;e.forEach(function(e){n.pushBack(e)})}T(){let t=[],r=Math.max(this.P>>1,1);for(let e=0;e<r;++e)t[e]=new Array(this.F);for(let e=this.j;e<this.P;++e)t[t.length]=this.A[e];for(let e=0;e<this.R;++e)t[t.length]=this.A[e];t[t.length]=[...this.A[this.R]],this.j=r,this.R=t.length-1;for(let e=0;e<r;++e)t[t.length]=new Array(this.F);this.A=t,this.P=t.length}O(e){let t=this.D+e+1,r=t%this.F,n=r-1,i=this.j+(t-r)/this.F;return 0==r&&--i,i%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:i,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new r(0,this)}end(){return new r(this.i,this)}rBegin(){return new r(this.i-1,this,1)}rEnd(){return new r(-1,this,1)}front(){if(0!==this.i)return this.A[this.j][this.D]}back(){if(0!==this.i)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:(this.R<this.P-1?this.R+=1:this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){var e;if(0!==this.i)return e=this.A[this.R][this.N],1!==this.i&&(0<this.N?--this.N:(0<this.R?--this.R:this.R=this.P-1,this.N=this.F-1)),--this.i,e}pushFront(e){return this.i&&(0<this.D?--this.D:(0<this.j?--this.j:this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){var e;if(0!==this.i)return e=this.A[this.j][this.D],1!==this.i&&(this.D<this.F-1?this.D+=1:(this.j<this.P-1?this.j+=1:this.j=0,this.D=0)),--this.i,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;var{curNodeBucketIndex:e,curNodePointerIndex:t}=this.O(e);return this.A[e][t]}setElementByPos(e,t){if(e<0||e>this.i-1)throw new RangeError;var{curNodeBucketIndex:e,curNodePointerIndex:r}=this.O(e);this.A[e][r]=t}insert(r,n,i=1){if(r<0||r>this.i)throw new RangeError;if(0===r)for(;i--;)this.pushFront(n);else if(r===this.i)for(;i--;)this.pushBack(n);else{let t=[];for(let e=r;e<this.i;++e)t.push(this.getElementByPos(e));this.cut(r-1);for(let e=0;e<i;++e)this.pushBack(n);for(let e=0;e<t.length;++e)this.pushBack(t[e])}return this.i}cut(e){if(e<0)return this.clear(),0;var{curNodeBucketIndex:t,curNodePointerIndex:r}=this.O(e);return this.R=t,this.N=r,this.i=e+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(0===n)this.popFront();else if(n===this.i-1)this.popBack();else{let t=[];for(let e=n+1;e<this.i;++e)t.push(this.getElementByPos(e));this.cut(n),this.popBack();let r=this;t.forEach(function(e){r.pushBack(e)})}return this.i}eraseElementByValue(t){if(0===this.i)return 0;let r=[];for(let e=0;e<this.i;++e){var n=this.getElementByPos(e);n!==t&&r.push(n)}var i=r.length;for(let e=0;e<i;++e)this.setElementByPos(e,r[e]);return this.cut(i-1)}eraseElementByIterator(e){var t=e.o;return this.eraseElementByPos(t),e=e.next()}find(t){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===t)return new r(e,this);return this.end()}reverse(){let e=0,t=this.i-1;for(;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),e+=1,--t}}unique(){if(this.i<=1)return this.i;let t=1,r=this.getElementByPos(0);for(let e=1;e<this.i;++e){var n=this.getElementByPos(e);n!==r&&(r=n,this.setElementByPos(t++,n))}for(;this.i>t;)this.popBack();return this.i}sort(e){let t=[];for(let e=0;e<this.i;++e)t.push(this.getElementByPos(e));t.sort(e);for(let e=0;e<this.i;++e)this.setElementByPos(e,t[e])}shrinkToFit(){if(0!==this.i){let t=[];this.forEach(function(e){t.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<t.length;++e)this.pushBack(t[e])}}forEach(t){for(let e=0;e<this.i;++e)t(this.getElementByPos(e),e,this)}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e)}.bind(this)()}};e.default=t}),Py=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(e,t){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=t}L(){let t=this;if(1===t.ee&&t.tt.tt===t)t=t.W;else if(t.U)for(t=t.U;t.W;)t=t.W;else{let e=t.tt;for(;e.U===t;)e=(t=e).tt;t=e}return t}B(){let t=this;if(t.W){for(t=t.W;t.U;)t=t.U;return t}{let e=t.tt;for(;e.W===t;)e=(t=e).tt;return t.W!==e?e:t}}te(){let e=this.tt,t=this.W,r=t.U;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,(t.U=this).tt=t,(this.W=r)&&(r.tt=this),t}se(){let e=this.tt,t=this.U,r=t.W;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,(t.W=this).tt=t,(this.U=r)&&(r.tt=this),t}};(class extends(e.TreeNode=t){});e.TreeNodeEnableIndex=class extends t{constructor(){super(...arguments),this.rt=1}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}}),ou=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var r=Py(),t=It(),n=xt(),t=class extends t.Container{constructor(e=function(e,t){return e<t?-1:t<e?1:0},t=!1){super(),this.Y=void 0,this.v=e,t?(this.re=r.TreeNodeEnableIndex,this.M=function(t,n,e){t=this.ne(t,n,e);if(t){let e=t.tt;for(;e!==this.h;)e.rt+=1,e=e.tt;n=this.he(t);if(n){let{parentNode:e,grandParent:t,curNode:r}=n;e.ie(),t.ie(),r.ie()}}return this.i},this.V=function(e){let t=this.fe(e);for(;t!==this.h;)--t.rt,t=t.tt}):(this.re=r.TreeNode,this.M=function(e,t,r){e=this.ne(e,t,r);return e&&this.he(e),this.i},this.V=this.fe),this.h=new this.re}X(e,t){let r=this.h;for(;e;){var n=this.v(e.u,t);if(n<0)e=e.W;else{if(!(0<n))return e;e=(r=e).U}}return r}Z(e,t){let r=this.h;for(;e;)e=this.v(e.u,t)<=0?e.W:(r=e).U;return r}$(e,t){let r=this.h;for(;e;){var n=this.v(e.u,t);if(n<0)e=(r=e).W;else{if(!(0<n))return e;e=e.U}}return r}rr(e,t){let r=this.h;for(;e;)e=this.v(e.u,t)<0?(r=e).W:e.U;return r}ue(r){for(;;){let t=r.tt;if(t===this.h)return;if(1===r.ee)return void(r.ee=0);if(r===t.U){let e=t.W;if(1===e.ee)e.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else{if(e.W&&1===e.W.ee)return e.ee=t.ee,t.ee=0,e.W.ee=0,void(t===this.Y?this.Y=t.te():t.te());e.U&&1===e.U.ee?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,r=t)}}else{let e=t.U;if(1===e.ee)e.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else{if(e.U&&1===e.U.ee)return e.ee=t.ee,t.ee=0,e.U.ee=0,void(t===this.Y?this.Y=t.se():t.se());e.W&&1===e.W.ee?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,r=t)}}}}fe(e){if(1===this.i)return this.clear(),this.h;let t=e;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[e.u,t.u]=[t.u,e.u],[e.l,t.l]=[t.l,e.l],e=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let r=t.tt;return t===r.U?r.U=void 0:r.W=void 0,--this.i,this.Y.ee=0,r}oe(e,t){return void 0!==e&&(!(!this.oe(e.U,t)&&!t(e))||this.oe(e.W,t))}he(n){for(;;){let t=n.tt;if(0===t.ee)return;let r=t.tt;if(t===r.U){let e=r.W;if(e&&1===e.ee){if(e.ee=t.ee=0,r===this.Y)return;r.ee=1,n=r;continue}if(n===t.W){if(n.ee=0,n.U&&(n.U.tt=t),n.W&&(n.W.tt=r),t.W=n.U,r.U=n.W,n.U=t,(n.W=r)===this.Y)this.Y=n,this.h.tt=n;else{let e=r.tt;e.U===r?e.U=n:e.W=n}return n.tt=r.tt,t.tt=n,r.tt=n,r.ee=1,{parentNode:t,grandParent:r,curNode:n}}t.ee=0,r===this.Y?this.Y=r.se():r.se(),r.ee=1}else{let e=r.U;if(e&&1===e.ee){if(e.ee=t.ee=0,r===this.Y)return;r.ee=1,n=r;continue}if(n===t.U){if(n.ee=0,n.U&&(n.U.tt=r),n.W&&(n.W.tt=t),r.W=n.U,t.U=n.W,n.U=r,n.W=t,r===this.Y)this.Y=n,this.h.tt=n;else{let e=r.tt;e.U===r?e.U=n:e.W=n}return n.tt=r.tt,t.tt=n,r.tt=n,r.ee=1,{parentNode:t,grandParent:r,curNode:n}}t.ee=0,r===this.Y?this.Y=r.te():r.te(),r.ee=1}return}}ne(n,i,o){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(n,i),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);let s,e=this.h.U,t=this.v(e.u,n);if(0!==t){if(0<t)e.U=new this.re(n,i),e.U.tt=e,s=e.U,this.h.U=s;else{let e=this.h.W,t=this.v(e.u,n);if(0===t)return void(e.l=i);if(t<0)e.W=new this.re(n,i),e.W.tt=e,s=e.W,this.h.W=s;else{if(void 0!==o){let r=o.o;if(r!==this.h){o=this.v(r.u,n);if(0===o)return void(r.l=i);if(0<o){let e=r.L(),t=this.v(e.u,n);if(0===t)return void(e.l=i);t<0&&(s=new this.re(n,i),void 0===e.W?(e.W=s).tt=e:(r.U=s).tt=r)}}}if(void 0===s)for(s=this.Y;;){var r=this.v(s.u,n);if(0<r){if(void 0===s.U){s.U=new this.re(n,i),s=(s.U.tt=s).U;break}s=s.U}else{if(!(r<0))return void(s.l=i);if(void 0===s.W){s.W=new this.re(n,i),s=(s.W.tt=s).W;break}s=s.W}}}}return this.i+=1,s}e.l=i}I(e,t){for(;e;){var r=this.v(e.u,t);if(r<0)e=e.W;else{if(!(0<r))return e;e=e.U}}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,t){let r=e.o;if(r===this.h&&(0,n.throwIteratorAccessError)(),1===this.i)return r.u=t,!0;if(r===this.h.U)return 0<this.v(r.B().u,t)&&(r.u=t,!0);if(r===this.h.W)return this.v(r.L().u,t)<0&&(r.u=t,!0);e=r.L().u;if(0<=this.v(e,t))return!1;e=r.B().u;return!(this.v(e,t)<=0)&&(r.u=t,!0)}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let r=0,n=this;return this.oe(this.Y,function(e){return t===r?(n.V(e),!0):(r+=1,!1)}),this.i}eraseElementByKey(e){if(0===this.i)return!1;e=this.I(this.Y,e);return e!==this.h&&(this.V(e),!0)}eraseElementByIterator(e){var t=e.o,r=(t===this.h&&(0,n.throwIteratorAccessError)(),void 0===t.W);return 0===e.iteratorType?r&&e.next():r&&void 0!==t.U||e.next(),this.V(t),e}forEach(e){let t=0;for(var r of this)e(r,t++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t,r=0;for(var n of this){if(r===e){t=n;break}r+=1}return t}getHeight(){if(0===this.i)return 0;function t(e){return e?Math.max(t(e.U),t(e.W))+1:0}return t(this.Y)}};e.default=t}),au=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=It(),n=xt(),t=class extends t.ContainerIterator{constructor(e,t,r){super(r),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,t=this.h.tt;if(e===this.h)return t?t.rt-1:0;let r=0;for(e.U&&(r+=e.U.rt);e!==t;){var n=e.tt;e===n.W&&(r+=1,n.U&&(r+=n.U.rt)),e=n}return r}};e.default=t}),Cy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(ou()),r=i(au()),n=xt();function i(e){return e&&e.t?e:{default:e}}var o=class s extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new s(this.o,this.h,this.container,this.iteratorType)}},r=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach(function(e){n.insert(e)})}*K(e){void 0!==e&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,t){return this.M(e,void 0,t)}find(e){e=this.I(this.Y,e);return new o(e,this.h,this)}lowerBound(e){e=this.X(this.Y,e);return new o(e,this.h,this)}upperBound(e){e=this.Z(this.Y,e);return new o(e,this.h,this)}reverseLowerBound(e){e=this.$(this.Y,e);return new o(e,this.h,this)}reverseUpperBound(e){e=this.rr(this.Y,e);return new o(e,this.h,this)}union(e){let t=this;return e.forEach(function(e){t.insert(e)}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=r}),My=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(ou()),r=n(au()),i=xt();function n(e){return e&&e.t?e:{default:e}}var o=class s extends r.default{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let n=this;return new Proxy([],{get(e,t){return"0"===t?n.o.u:"1"===t?n.o.l:void 0},set(e,t,r){if("1"!==t)throw new TypeError("props must be 1");return n.o.l=r,!0}})}copy(){return new s(this.o,this.h,this.container,this.iteratorType)}},r=class extends t.default{constructor(e=[],t,r){super(t,r);let n=this;e.forEach(function(e){n.setElement(e[0],e[1])})}*K(e){void 0!==e&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){var e;if(0!==this.i)return e=this.h.U,[e.u,e.l]}back(){var e;if(0!==this.i)return e=this.h.W,[e.u,e.l]}lowerBound(e){e=this.X(this.Y,e);return new o(e,this.h,this)}upperBound(e){e=this.Z(this.Y,e);return new o(e,this.h,this)}reverseLowerBound(e){e=this.$(this.Y,e);return new o(e,this.h,this)}reverseUpperBound(e){e=this.rr(this.Y,e);return new o(e,this.h,this)}setElement(e,t,r){return this.M(e,t,r)}find(e){e=this.I(this.Y,e);return new o(e,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let t=this;return e.forEach(function(e){t.setElement(e[0],e[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}};e.default=r}),fu=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=function(e){var t=typeof e;return"object"==t&&null!==e||"function"==t}}),yu=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=It(),i=(r=fu())&&r.t?r:{default:r},n=xt();var r=class extends t.ContainerIterator{constructor(e,t,r){super(r),this.o=e,this.h=t,0===this.iteratorType?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}},r=(e.HashContainerIterator=r,class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(e){let{L:t,B:r}=e;(t.B=r).L=t,e===this.p&&(this.p=r),e===this._&&(this._=t),--this.i}M(t,r,e){let n;if(e=void 0===e?(0,i.default)(t):e){e=t[this.HASH_TAG];if(void 0!==e)return this.H[e].l=r,this.i;Object.defineProperty(t,this.HASH_TAG,{value:this.H.length,configurable:!0}),n={u:t,l:r,L:this._,B:this.h},this.H.push(n)}else{let e=this.g[t];if(e)return e.l=r,this.i;n={u:t,l:r,L:this._,B:this.h},this.g[t]=n}return 0===this.i?(this.p=n,this.h.B=n):this._.B=n,this._=n,this.h.L=n,++this.i}I(e,t){return(t=void 0===t?(0,i.default)(e):t)?void 0===(t=e[this.HASH_TAG])?this.h:this.H[t]:this.g[e]||this.h}clear(){let t=this.HASH_TAG;this.H.forEach(function(e){delete e.u[t]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(e,t){let r;if(t=void 0===t?(0,i.default)(e):t){t=e[this.HASH_TAG];if(void 0===t)return!1;delete e[this.HASH_TAG],r=this.H[t],delete this.H[t]}else{if(void 0===(r=this.g[e]))return!1;delete this.g[e]}return this.V(r),!0}eraseElementByIterator(e){var t=e.o;return t===this.h&&(0,n.throwIteratorAccessError)(),this.V(t),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return this.V(t),this.i}});e.HashContainer=r}),Ly=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=yu(),r=xt(),n=class i extends t.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new i(this.o,this.h,this.container,this.iteratorType)}},t=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach(function(e){t.insert(e)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,t){return this.M(e,void 0,t)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return t.u}find(e,t){e=this.I(e,t);return new n(e,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e(r.u,t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}.bind(this)()}};e.default=t}),Dy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=yu(),r=(o=fu())&&o.t?o:{default:o},i=xt();var n=class s extends t.HashContainerIterator{constructor(e,t,r,n){super(e,t,n),this.container=r}get pointer(){this.o===this.h&&(0,i.throwIteratorAccessError)();let n=this;return new Proxy([],{get(e,t){return"0"===t?n.o.u:"1"===t?n.o.l:void 0},set(e,t,r){if("1"!==t)throw new TypeError("props must be 1");return n.o.l=r,!0}})}copy(){return new s(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(e=[]){super();let t=this;e.forEach(function(e){t.setElement(e[0],e[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(0!==this.i)return[this.p.u,this.p.l]}back(){if(0!==this.i)return[this._.u,this._.l]}setElement(e,t,r){return this.M(e,t,r)}getElementByKey(e,t){if(t=void 0===t?(0,r.default)(e):t)return void 0!==(t=e[this.HASH_TAG])?this.H[t].l:void 0;t=this.g[e];return t?t.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let t=this.p;for(;e--;)t=t.B;return[t.u,t.l]}find(e,t){e=this.I(e,t);return new n(e,this.h,this)}forEach(e){let t=0,r=this.p;for(;r!==this.h;)e([r.u,r.l],t++,this),r=r.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}.bind(this)()}};e.default=o}),jy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=h(Sy()),r=h(Ey()),n=h(Ay()),i=h(Iy()),o=h(xy()),s=h(Ty()),a=h(Cy()),l=h(My()),u=h(Ly()),c=h(Dy());function h(e){return e&&e.t?e:{default:e}}}),Wy=D((e,t)=>{"use strict";A(),x(),I();var r=jy().OrderedSet,s=At()("number-allocator:trace"),a=At()("number-allocator:error");function l(e,t){this.low=e,this.high=t}function n(e,t){if(!(this instanceof n))return new n(e,t);this.min=e,this.max=t,this.ss=new r([],(e,t)=>e.compare(t)),s("Create"),this.clear()}l.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},l.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},n.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},n.prototype.alloc=function(){if(0===this.ss.size())return s("alloc():empty"),null;var e=this.ss.begin(),t=e.pointer.low,r=e.pointer.high,n=t;return n+1<=r?this.ss.updateKeyByIterator(e,new l(t+1,r)):this.ss.eraseElementByPos(0),s("alloc():"+n),n},n.prototype.use=function(e){let t=new l(e,e),r=this.ss.lowerBound(t);var n,i;return r.equals(this.ss.end())?(s("use():failed"),!1):(n=r.pointer.low,i=r.pointer.high,r.pointer.equals(t)?(this.ss.eraseElementByIterator(r),s("use():"+e),!0):!(e<n)&&(n===e?this.ss.updateKeyByIterator(r,new l(n+1,i)):i===e?this.ss.updateKeyByIterator(r,new l(n,i-1)):(this.ss.updateKeyByIterator(r,new l(e+1,i)),this.ss.insert(new l(n,e-1))),s("use():"+e),!0))},n.prototype.free=function(r){if(r<this.min||r>this.max)a("free():"+r+" is out of range");else{let e=new l(r,r),t=this.ss.upperBound(e);if(t.equals(this.ss.end())){if(t.equals(this.ss.begin()))return void this.ss.insert(e);t.pre();var n=t.pointer.high;t.pointer.high+1===r?this.ss.updateKeyByIterator(t,new l(n,r)):this.ss.insert(e)}else{var i,o;t.equals(this.ss.begin())?r+1===t.pointer.low?(n=t.pointer.high,this.ss.updateKeyByIterator(t,new l(r,n))):this.ss.insert(e):(n=t.pointer.low,i=t.pointer.high,t.pre(),o=t.pointer.low,t.pointer.high+1===r?r+1===n?(this.ss.eraseElementByIterator(t),this.ss.updateKeyByIterator(t,new l(o,i))):this.ss.updateKeyByIterator(t,new l(o,r)):r+1===n?(this.ss.eraseElementByIterator(t.next()),this.ss.insert(new l(r,i))):this.ss.insert(e))}s("free():"+r)}},n.prototype.clear=function(){s("clear()"),this.ss.clear(),this.ss.insert(new l(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(var e of this.ss)console.log(e)},t.exports=n}),wu=D((e,t)=>{A(),x(),I();var r=Wy();t.exports.NumberAllocator=r}),Hy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});var t=vy(),r=wu();e.default=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(e){0<e&&(this.aliasToTopic=new t.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,e),this.max=e,this.length=0)}put(e,t){if(0===t||t>this.max)return!1;var r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){e=this.topicToAlias[e];return typeof e<"u"&&this.aliasToTopic.get(e),e}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}}),Vy=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(e,"__esModule",{value:!0}),zn()),o=t(Hy()),s=Mr();e.default=(e,t)=>{e.log("_handleConnack");let r=e["options"],n=5===r.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(65535<t.properties.topicAliasMaximum)return void e.emit("error",new Error("topicAliasMaximum from broker is out of range"));0<t.properties.topicAliasMaximum&&(e.topicAliasSend=new o.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&r.keepalive&&(r.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(r.properties||(r.properties={}),r.properties.maximumPacketSize=t.properties.maximumPacketSize)}0===n?(e.reconnecting=!1,e._onConnect(t)):0<n&&(t=new s.ErrorWithReasonCode("Connection refused: "+i.ReasonCodes[n],n),e.emit("error",t),e.options.reconnectOnConnackError&&e._cleanUp(!0))}}),Gy=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});e.default=(r,e,t)=>{r.log("handling pubrel packet");let n=typeof t<"u"?t:r.noop,i=e["messageId"],o={cmd:"pubcomp",messageId:i};r.incomingStore.get(e,(e,t)=>{e?r._sendPacket(o,n):(r.emit("message",t.topic,t.payload,t),r.handleMessage(t,e=>{if(e)return n(e);r.incomingStore.del(t,r.noop),r._sendPacket(o,n)}))})}}),zy=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(e,"__esModule",{value:!0}),t(hy())),o=t(gy()),s=t(Vy()),a=t(zn()),l=t(Gy());e.default=(e,t,r)=>{var n=e["options"];if(5===n.protocolVersion&&n.properties&&n.properties.maximumPacketSize&&n.properties.maximumPacketSize<t.length)return e.emit("error",new Error("exceeding packets size "+t.cmd)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",t),t.cmd){case"publish":(0,i.default)(e,t,r);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,a.default)(e,t),r();break;case"pubrel":e.reschedulePing(),(0,l.default)(e,t,r);break;case"connack":(0,s.default)(e,t),r();break;case"auth":e.reschedulePing(),(0,o.default)(e,t),r();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),r();break;case"disconnect":e.emit("disconnect",t),r();break;default:e.log("_handlePacket :: unknown command"),r()}}}),Au=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});e.default=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}}}),Ky=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});e.default=class{aliasToTopic;max;length;constructor(e){this.aliasToTopic={},this.max=e}put(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}}}),Qy=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t=(Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0,t((er(),me(Zt)))),r=Mr(),n=class{};e.TypedEventEmitter=n,(0,r.applyMixin)(n,t.default)}),Xn=D((e,t)=>{function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}A(),x(),I(),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),Jy=D((e,t)=>{A(),x(),I();var n=Xn().default;t.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if(r=r.call(e,t||"default"),"object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")},t.exports.__esModule=!0,t.exports.default=t.exports}),Xy=D((e,t)=>{A(),x(),I();var r=Xn().default,n=Jy();t.exports=function(e){return e=n(e,"string"),"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports}),Zy=D((e,t)=>{A(),x(),I();var n=Xy();t.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.exports.__esModule=!0,t.exports.default=t.exports}),eg=D((e,t)=>{A(),x(),I(),t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports}),tg=D((e,t)=>{A(),x(),I(),t.exports=function(e,t){var r=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports}),rg=D((e,t)=>{A(),x(),I(),t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports}),ig=D((e,t)=>{A(),x(),I();var n=rg();t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}),og=D((e,t)=>{A(),x(),I(),t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports}),sg=D((e,t)=>{A(),x(),I();var r=eg(),n=tg(),i=ig(),o=og();t.exports=function(e,t){return r(e)||n(e,t)||i(e,t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports}),Pu=D((e,t)=>{var r,n;A(),x(),I(),n=function(e){"use strict";function t(e){var t=o.get(e),r=void 0===t?e.size:t<1073741824?t+1:0;if(!e.has(r))return i(e,r);if(e.size<536870912){for(;e.has(r);)r=Math.floor(1073741824*Math.random());return i(e,r)}if(e.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;e.has(r);)r=Math.floor(Math.random()*a);return i(e,r)}function r(e){var t=n(e);return e.add(t),t}var n,i,o,s,a=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,l=new WeakMap;i=function(e,t){return s.set(e,t),t},o=s=l,n=t;e.addUniqueNumber=r,e.generateUniqueNumber=t},"object"==typeof(r=e)&&typeof t<"u"?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).fastUniqueNumbers={})}),lg=D((e,t)=>{function l(e,t,r,n,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return r(e)}a.done?t(l):Promise.resolve(l).then(n,i)}A(),x(),I(),t.exports=function(a){return function(){var e=this,s=arguments;return new Promise(function(t,r){var n=a.apply(e,s);function i(e){l(n,t,r,i,o,"next",e)}function o(e){l(n,t,r,i,o,"throw",e)}i(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports}),Ou=D((e,t)=>{A(),x(),I(),t.exports=function(e,t){this.v=e,this.k=t},t.exports.__esModule=!0,t.exports.default=t.exports}),Ru=D((e,i)=>{function s(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch{o=0}i.exports=s=function(e,t,r,n){function i(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},i.exports.__esModule=!0,i.exports.default=i.exports,s(e,t,r,n)}A(),x(),I(),i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports}),ku=D((e,l)=>{A(),x(),I();var m=Ru();function t(){var d,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var i,o,s,a,l,u,c,h,f,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype);return m(t,"_invoke",(i=e,o=r,c=n||[],h=!1,f={p:u=0,n:0,v:d,a:p,f:p.bind(d,4),d:function(e,t){return s=e,a=0,l=d,f.n=t,g}},function(e,t,r){if(1<u)throw TypeError("Generator is already running");for(h&&1===t&&p(t,r),a=t,l=r;(b=a<2?d:l)||!h;){s||(a?a<3?(1<a&&(f.n=-1),p(a,l)):f.n=l:f.v=l);try{if(u=2,s){if(b=s[e=a?e:"next"]){if(!(b=b.call(s,l)))throw TypeError("iterator result is not an object");if(!b.done)return b;l=b.value,a<2&&(a=0)}else 1===a&&(b=s.return)&&b.call(s),a<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),a=1);s=d}else if((b=(h=f.n<0)?l:i.call(o,f))!==g)break}catch(e){s=d,a=1,l=e}finally{u=1}}return{value:b,done:h}}),!0),t;function p(e,t){for(a=e,l=t,b=0;!h&&u&&!r&&b<c.length;b++){var r,n=c[b],i=f.p,o=n[2];3<e?(r=o===t)&&(l=n[(a=n[4])?5:a=3],n[4]=n[5]=d):n[0]<=i&&((r=e<2&&i<n[1])?(a=0,f.v=t,f.n=n[1]):i<o&&(r=e<3||n[0]>t||o<t)&&(n[4]=e,n[5]=t,f.n=o,a=0))}if(r||1<e)return g;throw h=!0,t}}var g={};function y(){}function i(){}function o(){}var b=Object.getPrototypeOf,e=[][t]?b(b([][t]())):(m(b={},t,function(){return this}),b),s=o.prototype=y.prototype=Object.create(e);function a(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,m(e,r,"GeneratorFunction")),e.prototype=Object.create(s),e}return m(s,"constructor",i.prototype=o),m(o,"constructor",i),m(o,r,i.displayName="GeneratorFunction"),m(s),m(s,r,"Generator"),m(s,t,function(){return this}),m(s,"toString",function(){return"[object Generator]"}),l.exports=function(){return{w:n,m:a}},l.exports.__esModule=!0,(l.exports.default=l.exports)()}l.exports=t,l.exports.__esModule=!0,l.exports.default=l.exports}),Mu=D((e,t)=>{A(),x(),I();var u=Ou(),r=Ru();t.exports=function e(a,l){var i;this.next||(r(e.prototype),r(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(r,e,n){function t(){return new l(function(e,t){!function t(e,r,n,i){try{var o=a[e](r),s=o.value;return s instanceof u?l.resolve(s.v).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):l.resolve(s).then(function(e){o.value=e,n(o)},function(e){return t("throw",e,n,i)})}catch(e){i(e)}}(r,n,e,t)})}return i=i?i.then(t,t):t()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports}),Nu=D((e,t)=>{A(),x(),I();var o=ku(),s=Mu();t.exports=function(e,t,r,n,i){return new s(o().w(e,t,r,n),i||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports}),fg=D((e,t)=>{A(),x(),I();var s=Nu();t.exports=function(e,t,r,n,i){var o=s(e,t,r,n,i);return o.next().then(function(e){return e.done?e.value:o.next()})},t.exports.__esModule=!0,t.exports.default=t.exports}),hg=D((e,t)=>{A(),x(),I(),t.exports=function(e){var t,r=Object(e),n=[];for(t in r)n.unshift(t);return function e(){for(;n.length;)if((t=n.pop())in r)return e.value=t,e.done=!1,e;return e.done=!0,e}},t.exports.__esModule=!0,t.exports.default=t.exports}),dg=D((e,t)=>{A(),x(),I();var n=Xn().default;t.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports}),yg=D((e,n)=>{A(),x(),I();var a=Ou(),l=ku(),u=fg(),c=Nu(),h=Mu(),f=hg(),p=dg();function d(){"use strict";var i=l(),e=i.m(d),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function o(e){e="function"==typeof e&&e.constructor;return!!e&&(e===t||"GeneratorFunction"===(e.displayName||e.name))}var r={throw:1,return:2,break:3,continue:3};function s(e){var i,o;return function(n){i||(i={stop:function(){return o(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return o(n.a,r[e],t)},delegateYield:function(e,t,r){return i.resultName=t,o(n.d,p(e),r)},finish:function(e){return o(n.f,e)}},o=function(e,t,r){n.p=i.prev,n.n=i.next;try{return e(t,r)}finally{i.next=n.n}}),i.resultName&&(i[i.resultName]=n.v,i.resultName=void 0),i.sent=n.v,i.next=n.n;try{return e.call(this,i)}finally{n.p=i.prev,n.n=i.next}}}return n.exports=d=function(){return{wrap:function(e,t,r,n){return i.w(s(e),t,r,n&&n.reverse())},isGeneratorFunction:o,mark:i.m,awrap:function(e,t){return new a(e,t)},AsyncIterator:h,async:function(e,t,r,n,i){return(o(t)?c:u)(s(e),t,r,n,i)},keys:f,values:p}},n.exports.__esModule=!0,(n.exports.default=n.exports)()}n.exports=d,n.exports.__esModule=!0,n.exports.default=n.exports}),bg=D((e,t)=>{A(),x(),I();var r=yg()();t.exports=r;try{regeneratorRuntime=r}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}),mg=D((e,t)=>{var r,n;A(),x(),I(),n=function(e,c,h,f,r,i){"use strict";var o=new WeakMap;function n(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(e){return t(t({},e),{},{connect:function(e){var n=e.call;return r(i.mark(function e(){var t,r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new MessageChannel,r=t.port1,t=t.port2,e.next=1,n("connect",{port:r},[r]);case 1:return r=e.sent,o.set(t,r),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))},disconnect:function(e){var t,n=e.call;return t=r(i.mark(function e(t){var r;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=o.get(t)))throw new Error("The given port is not connected.");e.next=1;break;case 1:return e.next=2,n("disconnect",{portId:r});case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},isSupported:function(e){var t=e.call;return function(){return t("isSupported")}}})}function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d=new WeakMap;e.createBroker=function(e){var u=s(e);return function(s){var a=function(e){if(d.has(e))return d.get(e);var t=new Map;return d.set(e,t),t}(s);s.addEventListener("message",function(e){var t,r,e=e.data,n=e.id;null!==n&&a.has(n)&&(t=(r=a.get(n)).reject,r=r.resolve,a.delete(n),void 0===e.error?r(e.result):t(new Error(e.error.message)))}),"function"==typeof s.start&&s.start();for(var e=function(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(e,t){var r=f.generateUniqueNumber(a);a.set(r,{reject:t,resolve:e}),null===i?s.postMessage({id:r,method:n},o):s.postMessage({id:r,method:n,params:i},o)})},t=function(e,t){s.postMessage({id:null,method:e,params:t},2<arguments.length&&void 0!==arguments[2]?arguments[2]:[])},r={},n=0,i=Object.entries(u);n<i.length;n++)var o=h(i[n],2),l=o[0],o=o[1],r=p(p({},r),{},c({},l,o({call:e,notify:t})));return p({},r)}}},"object"==typeof(r=e)&&typeof t<"u"?n(e,Zy(),sg(),Pu(),lg(),bg()):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],n):n((r=typeof globalThis<"u"?globalThis:r||self).brokerFactory={},r._defineProperty,r._slicedToArray,r.fastUniqueNumbers,r._asyncToGenerator,r._regeneratorRuntime)}),vg=D((e,t)=>{var r,n;A(),x(),I(),n=function(e,r,t,u){"use strict";var c=new Map([[0,null]]),l=new Map([[0,null]]),n=t.createBroker({clearInterval:function(e){var t=e.call;return function(e){"symbol"===r(c.get(e))&&(c.set(e,null),t("clear",{timerId:e,timerType:"interval"}).then(function(){c.delete(e)}))}},clearTimeout:function(e){var t=e.call;return function(e){"symbol"===r(l.get(e))&&(l.set(e,null),t("clear",{timerId:e,timerType:"timeout"}).then(function(){l.delete(e)}))}},setInterval:function(e){var l=e.call;return function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];function o(){l("set",{delay:e,now:performance.timeOrigin+performance.now(),timerId:a,timerType:"interval"}).then(function(){var e=c.get(a);if(void 0===e)throw new Error("The timer is in an undefined state.");e===s&&(t.apply(void 0,n),c.get(a)===s&&o())})}var s=Symbol(),a=u.generateUniqueNumber(c);c.set(a,s);return o(),a}},setTimeout:function(e){var a=e.call;return function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=Symbol(),s=u.generateUniqueNumber(l);return l.set(s,o),a("set",{delay:e,now:performance.timeOrigin+performance.now(),timerId:s,timerType:"timeout"}).then(function(){var e=l.get(s);if(void 0===e)throw new Error("The timer is in an undefined state.");e===o&&(l.delete(s),t.apply(void 0,n))}),s}}});e.load=function(e){e=new Worker(e);return n(e)},e.wrap=n},"object"==typeof(r=e)&&typeof t<"u"?n(e,Xn(),mg(),Pu()):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],n):n((r=typeof globalThis<"u"?globalThis:r||self).workerTimersBroker={},r._typeof,r.brokerFactory,r.fastUniqueNumbers)}),Eg=D((e,t)=>{var r,n;A(),x(),I(),n=function(e,t){"use strict";r=t.load,n=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,i=null;var r,n,i,o=function(){if(null!==i)return i;var e=new Blob([n],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return i=r(t),setTimeout(function(){return URL.revokeObjectURL(t)}),i};e.clearInterval=function(e){return o().clearInterval(e)},e.clearTimeout=function(e){return o().clearTimeout(e)},e.setInterval=function(){var e;return(e=o()).setInterval.apply(e,arguments)},e.setTimeout=function(){var e;return(e=o()).setTimeout.apply(e,arguments)}},"object"==typeof(r=e)&&typeof t<"u"?n(e,vg()):"function"==typeof define&&define.amd?define(["exports","worker-timers-broker"],n):n((r=typeof globalThis<"u"?globalThis:r||self).workerTimers={},r.workerTimersBroker)}),yi=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>!!("object"==typeof self&&self?.constructor?.name?.includes("WorkerGlobalScope")&&"u"<typeof Deno),r=()=>typeof navigator<"u"&&"ReactNative"===navigator.product,n=typeof window<"u"&&(typeof navigator<"u"&&-1<navigator.userAgent?.toLowerCase().indexOf(" electron/")&&M?.versions?!Object.prototype.hasOwnProperty.call(M.versions,"electron"):typeof window.document<"u")||t()||r();e.isWebWorker=t(),e.isReactNativeBrowser=r(),e.default=n}),Og=D(e=>{"use strict";A(),x(),I();var i,o=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),s=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=e&&e.__importStar||(i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),n=0;n<r.length;n++)"default"!==r[n]&&o(t,e,r[n]);return s(t,e),t}),r=(Object.defineProperty(e,"__esModule",{value:!0}),Eg()),n=t(yi()),a={set:r.setInterval,clear:r.clearInterval},l={set:(e,t)=>setInterval(e,t),clear:e=>clearInterval(e)};e.default=e=>{switch(e){case"native":return l;case"worker":return a;default:return!n.default||n.isWebWorker||n.isReactNativeBrowser?l:a}}}),Du=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(e,"__esModule",{value:!0}),t(Og()));e.default=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(e,t){this.client=e,this.timer="object"==typeof t&&"set"in t&&"clear"in t?t:(0,r.default)(t),this.setKeepalive(e.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(e){if(e*=1e3,isNaN(e)||e<=0||2147483647<e)throw new Error("Keepalive value must be an integer between 0 and 2147483647. Provided value is "+e);this._keepalive=e,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${e}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){var e;this.destroyed||(this.clear(),this.counter=0,e=Math.ceil(1.5*this._keepalive),this._keepaliveTimeoutTimestamp=Date.now()+e,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,2===this.counter?this.client.sendPing():2<this.counter&&this.client.onKeepaliveTimeout())},this._intervalEvery))}}}),zo=D(e=>{"use strict";A(),x(),I();var i,o=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),s=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=e&&e.__importStar||(i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),n=0;n<r.length;n++)"default"!==r[n]&&o(t,e,r[n]);return s(t,e),t}),r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=(Object.defineProperty(e,"__esModule",{value:!0}),r(iy())),u=or(),a=r(uy()),n=r(At()),p=t(cy()),c=r(La()),h=r(zy()),f=r(Au()),d=r(Ky()),g=Mr(),y=Qy(),b=r(Du()),m=t(yi()),v=globalThis.setImmediate||((...e)=>{let t=e.shift();(0,g.nextTick)(()=>{t(...e)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},r=class _ extends y.TypedEventEmitter{static VERSION=g.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}constructor(e,t){for(var r in super(),this.options=t||{},w)"u"<typeof this.options[r]?this.options[r]=w[r]:this.options[r]=t[r];this.log=this.options.log||(0,n.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",_.VERSION),m.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",m.default?"browser":"node"),this.log("MqttClient :: options.protocol",t.protocol),this.log("MqttClient :: options.protocolVersion",t.protocolVersion),this.log("MqttClient :: options.username",t.username),this.log("MqttClient :: options.keepalive",t.keepalive),this.log("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",t.properties?t.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof t.clientId?t.clientId:_.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:(...e)=>{e[3](null,0)},this.options.writeCache||(l.default.writeToStream.cacheNumbers=!1),this.streamBuilder=e,this.messageIdProvider="u"<typeof this.options.messageIdProvider?new f.default:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new c.default,this.incomingStore=t.incomingStore||new c.default,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.properties&&0<t.properties.topicAliasMaximum&&(65535<t.properties.topicAliasMaximum?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new d.default(t.properties.topicAliasMaximum)),this.on("connect",()=>{let e=this["queue"],n=()=>{let t=e.shift();this.log("deliver :: entry %o",t);var r;if(t){r=t.packet,this.log("deliver :: call _sendPacket for %o",r);let e=!0;(e=r.messageId&&0!==r.messageId&&!this.messageIdProvider.register(r.messageId)?!1:e)?this._sendPacket(r,e=>{t.cb&&t.cb(e),n()}):(this.log("messageId: %d has already used. The message is skipped and removed.",r.messageId),n())}else this._resubscribe()};this.log("connect :: sending queued packets"),n()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(e,t){t()}handleMessage(e,t){t()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let e=new u.Writable,n=l.default.parser(this.options),i=null,t=[],o=(this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),n.on("packet",e=>{this.log("parser :: on packet push to packets array."),t.push(e)}),()=>{this.log("work :: getting next packet in queue");var e=t.shift();if(e)this.log("work :: packet pulled from queue"),(0,h.default)(this,e,r);else{this.log("work :: no packets in queue");let e=i;i=null,this.log("work :: done flag is %s",!!e),e&&e()}}),r=()=>{if(t.length)(0,g.nextTick)(o);else{let e=i;i=null,e()}};e._write=(e,t,r)=>{i=r,this.log("writable stream :: parsing buffer"),n.parse(e),o()};var s;this.log("connect :: pipe stream to writable stream"),this.stream.pipe(e),this.stream.on("error",e=>{this.log("streamErrorHandler :: error",e.message),e.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",e)):this.noop(e)}),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let a={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(a.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(a.properties||(a.properties={}),this.topicAliasRecv&&(a.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(a),n.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&(s={cmd:"auth",reasonCode:0,...this.options.authPacket},this._writePacket(s))}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(r,n,e,i){this.log("publish :: message `%s` to topic `%s`",n,r);let o=this["options"],{qos:s,retain:a,dup:l,properties:u,cbStorePut:c}=("function"==typeof e&&(i=e,e=null),e={qos:0,retain:!1,dup:!1,...e=e||{}});if(this._checkDisconnecting(i))return this;var t=()=>{let e=0;if((1===s||2===s)&&null===(e=this._nextId()))return this.log("No messageId left"),!1;let t={cmd:"publish",topic:r,payload:n,qos:s,retain:a,messageId:e,dup:l};switch(5===o.protocolVersion&&(t.properties=u),this.log("publish :: qos",s),s){case 1:case 2:this.outgoing[t.messageId]={volatile:!1,cb:i||this.noop},this.log("MqttClient:publish: packet cmd: %s",t.cmd),this._sendPacket(t,void 0,c);break;default:this.log("MqttClient:publish: packet cmd: %s",t.cmd),this._sendPacket(t,i,c)}return!0};return(this._storeProcessing||0<this._storeProcessingQueue.length||!t())&&this._storeProcessingQueue.push({invoke:t,cbStorePut:e.cbStorePut,callback:i}),this}publishAsync(e,t,i){return new Promise((r,n)=>{this.publish(e,t,i,(e,t)=>{e?n(e):r(t)})})}subscribe(t,e,o){let n=this.options.protocolVersion,i=(o=(o="function"==typeof e?e:o)||this.noop,!1),r=[];"string"==typeof t?(t=[t],r=t):Array.isArray(t)?r=t:"object"==typeof t&&(i=t.resubscribe,delete t.resubscribe,r=Object.keys(t));var s=p.validateTopics(r);if(null!==s)return v(o,new Error("Invalid topic "+s)),this;if(this._checkDisconnecting(o))return this.log("subscribe: discconecting true"),this;let a={qos:0},l=(5===n&&(a.nl=!1,a.rap=!1,a.rh=0),e={...a,...e})["properties"],u=[],c=(t,r)=>{if(r=r||e,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,t)||this._resubscribeTopics[t].qos<r.qos||i){let e={topic:t,qos:r.qos};5===n&&(e.nl=r.nl,e.rap=r.rap,e.rh=r.rh,e.properties=l),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",e.topic,e.qos),u.push(e)}};if(Array.isArray(t)?t.forEach(e=>{this.log("subscribe: array topic %s",e),c(e)}):Object.keys(t).forEach(e=>{this.log("subscribe: object topic %s, %o",e,t[e]),c(e,t[e])}),!u.length)return o(null,[]),this;let h=(o,e)=>{let t={cmd:"subscribe",subscriptions:o,messageId:e};if(l&&(t.properties=l),this.options.resubscribe){this.log("subscribe :: resubscribe true");let r=[];o.forEach(t=>{if(0<this.options.reconnectPeriod){let e={qos:t.qos};5===n&&(e.nl=t.nl||!1,e.rap=t.rap||!1,e.rh=t.rh||0,e.properties=t.properties),this._resubscribeTopics[t.topic]=e,r.push(t.topic)}}),this.messageIdToTopic[t.messageId]=r}e=new Promise((n,i)=>{this.outgoing[t.messageId]={volatile:!0,cb(e,t){if(!e){var r=t["granted"];for(let e=0;e<r.length;e+=1)o[e].qos=r[e]}e?i(new g.ErrorWithSubackPacket(e.message,t)):n(t)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(t),e},f=()=>{let t=this.options.subscribeBatchSize??u.length,r=[];for(let e=0;e<u.length;e+=t){var n=u.slice(e,e+t),i=this._nextId();if(null===i)return this.log("No messageId left"),!1;r.push(h(n,i))}return Promise.all(r).then(e=>{o(null,u,e.at(-1))}).catch(e=>{o(e,u,e.packet)}),!0};return(this._storeProcessing||0<this._storeProcessingQueue.length||!f())&&this._storeProcessingQueue.push({invoke:f,callback:o}),this}subscribeAsync(e,t){return new Promise((r,n)=>{this.subscribe(e,t,(e,t)=>{e?n(e):r(t)})})}unsubscribe(r,n,i){"string"==typeof r&&(r=[r]),i=(i="function"==typeof n?n:i)||this.noop;var e=p.validateTopics(r);if(null!==e)return v(i,new Error("Invalid topic "+e)),this;if(this._checkDisconnecting(i))return this;e=()=>{var e=this._nextId();if(null===e)return this.log("No messageId left"),!1;let t={cmd:"unsubscribe",messageId:e,unsubscriptions:[]};return"string"==typeof r?t.unsubscriptions=[r]:Array.isArray(r)&&(t.unsubscriptions=r),this.options.resubscribe&&t.unsubscriptions.forEach(e=>{delete this._resubscribeTopics[e]}),"object"==typeof n&&n.properties&&(t.properties=n.properties),this.outgoing[t.messageId]={volatile:!0,cb:i},this.log("unsubscribe: call _sendPacket"),this._sendPacket(t),!0};return(this._storeProcessing||0<this._storeProcessingQueue.length||!e())&&this._storeProcessingQueue.push({invoke:e,callback:i}),this}unsubscribeAsync(e,t){return new Promise((r,n)=>{this.unsubscribe(e,t,(e,t)=>{e?n(e):r(t)})})}end(e,t,r){this.log("end :: (%s)",this.options.clientId),null!=e&&"boolean"==typeof e||(r=r||t,t=e,e=!1),"object"!=typeof t&&(r=r||t,t=null),this.log("end :: cb? %s",!!r),r&&"function"==typeof r||(r=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(t=>{this.outgoingStore.close(e=>{this.log("end :: closeStores: emitting end"),this.emit("end"),r&&(e=t||e,this.log("end :: closeStores: invoking callback with args"),r(e))})}),this._deferredReconnect?this._deferredReconnect():0!==this.options.reconnectPeriod&&!this.options.manualConnect||(this.disconnecting=!1)},i=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(n)},t)};return this.disconnecting?r():(this._clearReconnect(),this.disconnecting=!0,!e&&0<Object.keys(this.outgoing).length?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,i,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),i())),this}endAsync(e,n){return new Promise((t,r)=>{this.end(e,n,e=>{e?r(e):t()})})}removeOutgoingMessage(t){if(this.outgoing[t]){let e=this.outgoing[t]["cb"];this._removeOutgoingAndStoreMessage(t,()=>{e(new Error("Message removed"))})}return this}reconnect(e){this.log("client reconnect");var t=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=t:t(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(e=>{this.outgoing[e].volatile&&"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(e=>{"function"==typeof this.outgoing[e].cb&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e])}))}_removeTopicAliasAndRecoverTopicName(e){let t;e.properties&&(t=e.properties.topicAlias);var r=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",t,r),0===r.length){if("u"<typeof t)return new Error("Unregistered Topic Alias");if("u"<typeof(r=this.topicAliasSend.getTopicByAlias(t)))return new Error("Unregistered Topic Alias");e.topic=r}t&&delete e.properties.topicAlias}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&0<this.options.reconnectPeriod?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(e,t,r={}){t&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),this.log("_cleanUp :: forced? %s",e),e?(0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy()):(e={cmd:"disconnect",...r},this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),v(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})),this.disconnecting||this.reconnecting||(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),t&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())}_storeAndSend(t,r,n){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd);let e=t,i;if("publish"===e.cmd&&(e=(0,a.default)(t),i=this._removeTopicAliasAndRecoverTopicName(e)))return r&&r(i);this.outgoingStore.put(e,e=>{if(e)return r&&r(e);n(),this._writePacket(t,r)})}_applyTopicAlias(t){if(5===this.options.protocolVersion&&"publish"===t.cmd){let e;t.properties&&(e=t.properties.topicAlias);var r=t.topic.toString();if(this.topicAliasSend)if(e){if(0!==r.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",r,e),!this.topicAliasSend.put(r,e)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,e),new Error("Sending Topic Alias out of range")}else 0!==r.length&&(this.options.autoAssignTopicAlias?(e=this.topicAliasSend.getAliasByTopic(r))?(t.topic="",t.properties={...t.properties,topicAlias:e},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",r,e)):(e=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(r,e),t.properties={...t.properties,topicAlias:e},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",r,e)):this.options.autoUseTopicAlias&&((e=this.topicAliasSend.getAliasByTopic(r))&&(t.topic="",t.properties={...t.properties,topicAlias:e},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",r,e))));else if(e)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,e),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e)}_writePacket(e,t){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");e=l.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",e),!e&&t&&t!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",t)):t&&(this.log("_writePacket :: invoking cb"),t())}_sendPacket(e,t,r,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||this.noop,t=t||this.noop;var i=this._applyTopicAlias(e);if(i)t(i);else{if(!this.connected)return"auth"===e.cmd?void this._writePacket(e,t):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));if(n)this._writePacket(e,t);else{switch(e.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(e,t,r);default:return void this._writePacket(e,t)}switch(e.qos){case 2:case 1:this._storeAndSend(e,t,r);break;default:this._writePacket(e,t)}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}_storePacket(e,t,r){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!t),r=r||this.noop;let n=e;if("publish"===n.cmd){n=(0,a.default)(e);e=this._removeTopicAliasAndRecoverTopicName(n);if(e)return t&&t(e)}e=n.qos||0;0===e&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:t}):0<e?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,e=>{if(e)return t&&t(e);r()})):t&&t(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new b.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(e=!1){this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");var r=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||4<=this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&0<r.length)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let t=0;t<r.length;t++){let e={};e[r[t]]=this._resubscribeTopics[r[t]],e.resubscribe=!0,this.subscribe(e,{properties:e[r[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(s){if(this.disconnected)this.emit("connect",s);else{this.connackPacket=s,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let o=()=>{let t=this.outgoingStore.createStream(),r=()=>{t.destroy(),t=null,this._flushStoreProcessingQueue(),n()},n=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}},i=(this.once("close",r),t.on("error",e=>{n(),this._flushStoreProcessingQueue(),this.removeListener("close",r),this.emit("error",e)}),()=>{if(t){let e=t.read(1),r;e?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[e.messageId]?i():this.disconnecting||this.reconnectTimer?t.destroy&&t.destroy():(r=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoing[e.messageId]={volatile:!1,cb(e,t){r&&r(e,t),i()}},this._packetIdsDuringStoreProcessing[e.messageId]=!0,this.messageIdProvider.register(e.messageId)?this._sendPacket(e,void 0,void 0,!0):this.log("messageId: %d has already used.",e.messageId))):t.once("readable",i)}});t.on("end",()=>{let e=!0;for(var t in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[t]){e=!1;break}this.removeListener("close",r),e?(n(),this._invokeAllStoreProcessingQueue(),this.emit("connect",s)):o()}),i()};o()}}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&0<this._storeProcessingQueue.length){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(var e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(r,n){delete this.outgoing[r],this.outgoingStore.del({messageId:r},(e,t)=>{n(e,t),this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue()})}};e.default=r}),Ng=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});var t=wu();e.default=class{numberAllocator;lastId;constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e)}clear(){this.numberAllocator.clear()}}});function JA(){if(qg)return Vu;qg=!0;let g=2147483647,y=36,b=26,i=38,o=700,t=/^xn--/,r=/[^\0-\x7F]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,n={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a=y-1,m=Math.floor,v=String.fromCharCode;function w(e){throw new RangeError(n[e])}function l(e,t){let r=e.split("@"),n="";1<r.length&&(n=r[0]+"@",e=r[1]);e=function(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r}((e=e.replace(s,".")).split("."),t).join(".");return n+e}function _(e){let t=[],r=0,n=e.length;for(;r<n;){var i,o=e.charCodeAt(r++);55296<=o&&o<=56319&&r<n?56320==(64512&(i=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--):t.push(o)}return t}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){let n=0;for(e=r?m(e/o):e>>1,e+=m(e/t);e>a*b>>1;n+=y)e=m(e/a);return m(n+(a+1)*e/(e+i))}function u(n){let t=[],i=n.length,o=0,e=128,s=72,a=n.lastIndexOf("-");a<0&&(a=0);for(let e=0;e<a;++e)128<=n.charCodeAt(e)&&w("not-basic"),t.push(n.charCodeAt(e));for(let r=0<a?a+1:0;r<i;){var l=o;for(let e=1,t=y;;t+=y){r>=i&&w("invalid-input");var u=48<=(u=n.charCodeAt(r++))&&u<58?u-48+26:65<=u&&u<91?u-65:97<=u&&u<123?u-97:y,c=(u>=y&&w("invalid-input"),u>m((g-o)/e)&&w("overflow"),o+=u*e,t<=s?1:t>=s+b?b:t-s);if(u<c)break;u=y-c;e>m(g/u)&&w("overflow"),e*=u}var h=t.length+1;s=E(o-l,h,0==l),m(o/h)>g-e&&w("overflow"),e+=m(o/h),o%=h,t.splice(o++,0,e)}return String.fromCodePoint(...t)}function c(t){let r=[],e=(t=_(t)).length,n=128,i=0,o=72;for(var s of t)s<128&&r.push(v(s));let a=r.length,l=a;for(a&&r.push("-");l<e;){let e=g;for(var u of t)u>=n&&u<e&&(e=u);var c,h=l+1;e-n>m((g-i)/h)&&w("overflow"),i+=(e-n)*h,n=e;for(c of t)if(c<n&&++i>g&&w("overflow"),c===n){let t=i;for(let e=y;;e+=y){var f=e<=o?1:e>=o+b?b:e-o;if(t<f)break;var p=t-f,d=y-f;r.push(v(S(f+p%d,0))),t=m(p/d)}r.push(v(S(t,0))),o=E(i,h,l===a),i=0,++l}++i,++n}return r.join("")}return Vu={version:"2.3.1",ucs2:{decode:_,encode:e=>String.fromCodePoint(...e)},decode:u,encode:c,toASCII:function(e){return l(e,function(e){return r.test(e)?"xn--"+c(e):e})},toUnicode:function(e){return l(e,function(e){return t.test(e)?u(e.slice(4).toLowerCase()):e})}}}var Vu,qg,hr,w5,m5,_5,v5,S5,E5,Lg=ze(()=>{A(),x(),I(),qg=!(Vu={}),hr=JA(),w5=hr.decode,m5=hr.encode,_5=hr.toASCII,v5=hr.toUnicode,S5=hr.ucs2,E5=hr.version});function XA(){return Ug||(Ug=!0,Gu=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}),Gu}function ZA(){return Dg||(Dg=!0,zu=Error),zu}function eI(){return jg||(jg=!0,Ku=EvalError),Ku}function tI(){return Fg||(Fg=!0,Qu=RangeError),Qu}function rI(){return Wg||(Wg=!0,Yu=ReferenceError),Yu}function ob(){return $g||($g=!0,Ju=SyntaxError),Ju}function Sn(){return Hg||(Hg=!0,Xu=TypeError),Xu}function nI(){return Vg||(Vg=!0,Zu=URIError),Zu}function iI(){if(Gg)return el;Gg=!0;var e=typeof Symbol<"u"&&Symbol,t=XA();return el=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()}}function oI(){if(zg)return tl;zg=!0;var e={__proto__:null,foo:{}},t=Object;return tl=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)}}function sI(){if(Kg)return rl;Kg=!0;var l="Function.prototype.bind called on incompatible ",u=Object.prototype.toString,c=Math.max,h="[object Function]",f=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},p=function(e,t){for(var r=[],n=t,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},d=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};return rl=function(t){var r=this;if("function"!=typeof r||u.apply(r)!==h)throw new TypeError(l+r);for(var n=p(arguments,1),e=c(0,r.length-n.length),i=[],o=0;o<e;o++)i[o]="$"+o;var s,a=Function("binder","return function ("+d(i,",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof a?(e=r.apply(this,f(n,arguments)),Object(e)===e?e:this):r.apply(t,f(n,arguments))});return r.prototype&&((s=function(){}).prototype=r.prototype,a.prototype=new s,s.prototype=null),a}}function hl(){if(Qg)return nl;Qg=!0;var e=sI();return nl=Function.prototype.bind||e}function aI(){if(Yg)return il;Yg=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=hl();return il=r.call(e,t)}function Wr(){if(Jg)return ol;Jg=!0;function n(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch{}}var e,t=ZA(),r=eI(),i=tI(),o=rI(),f=ob(),p=Sn(),s=nI(),a=Function,d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}function l(){throw new p}var u=d?function(){try{return l}catch{try{return d(arguments,"callee").get}catch{return l}}}():l,c=iI()(),h=oI()(),g=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),y={},h="u"<typeof Uint8Array||!g?e:g(Uint8Array),b={__proto__:null,"%AggregateError%":"u"<typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"u"<typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":c&&g?g([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"u"<typeof Atomics?e:Atomics,"%BigInt%":"u"<typeof BigInt?e:BigInt,"%BigInt64Array%":"u"<typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"u"<typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"u"<typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":"u"<typeof Float32Array?e:Float32Array,"%Float64Array%":"u"<typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"u"<typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":y,"%Int8Array%":"u"<typeof Int8Array?e:Int8Array,"%Int16Array%":"u"<typeof Int16Array?e:Int16Array,"%Int32Array%":"u"<typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&g?g(g([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":"u"<typeof Map?e:Map,"%MapIteratorPrototype%":"u"<typeof Map||!c||!g?e:g((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"u"<typeof Promise?e:Promise,"%Proxy%":"u"<typeof Proxy?e:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":"u"<typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"u"<typeof Set?e:Set,"%SetIteratorPrototype%":"u"<typeof Set||!c||!g?e:g((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":"u"<typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&g?g(""[Symbol.iterator]()):e,"%Symbol%":c?Symbol:e,"%SyntaxError%":f,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":p,"%Uint8Array%":"u"<typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"u"<typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"u"<typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"u"<typeof Uint32Array?e:Uint32Array,"%URIError%":s,"%WeakMap%":"u"<typeof WeakMap?e:WeakMap,"%WeakRef%":"u"<typeof WeakRef?e:WeakRef,"%WeakSet%":"u"<typeof WeakSet?e:WeakSet};if(g)try{null.error}catch(e){t=g(g(e));b["%Error.prototype%"]=t}function m(e){var t,r;return"%AsyncFunction%"===e?t=n("async function () {}"):"%GeneratorFunction%"===e?t=n("function* () {}"):"%AsyncGeneratorFunction%"===e?t=n("async function* () {}"):"%AsyncGenerator%"===e?(r=m("%AsyncGeneratorFunction%"))&&(t=r.prototype):"%AsyncIteratorPrototype%"===e&&(r=m("%AsyncGenerator%"))&&g&&(t=g(r.prototype)),b[e]=t}var v={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},r=hl(),w=aI(),_=r.call(Function.call,Array.prototype.concat),S=r.call(Function.apply,Array.prototype.splice),E=r.call(Function.call,String.prototype.replace),A=r.call(Function.call,String.prototype.slice),I=r.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new f("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new f("invalid intrinsic syntax, expected opening `%`");var i=[];return E(e,x,function(e,t,r,n){i[i.length]=r?E(n,k,"$1"):t||e}),i},P=function(e,t){var r,n=e;if(w(v,n)&&(n="%"+(r=v[n])[0]+"%"),w(b,n)){var i=b[n];if("u"<typeof(i=i===y?m(n):i)&&!t)throw new p("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new f("intrinsic "+e+" does not exist!")};return ol=function(e,t){if("string"!=typeof e||0===e.length)throw new p("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new p('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=O(e),n=0<r.length?r[0]:"",i=P("%"+n+"%",t),o=(i.name,i.value),s=!1,i=i.alias;i&&(n=i[0],S(r,_([0,1],i)));for(var a=1,l=!0;a<r.length;a+=1){var u=r[a],c=A(u,0,1),h=A(u,-1);if(('"'===c||"'"===c||"`"===c||'"'===h||"'"===h||"`"===h)&&c!==h)throw new f("property names with quotes must have matching quotes");if("constructor"!==u&&l||(s=!0),w(b,c="%"+(n+="."+u)+"%"))o=b[c];else if(null!=o){if(!(u in o)){if(t)return;throw new p("base intrinsic for "+e+" exists, but the property is not available.")}o=d&&a+1>=r.length?(l=!!(h=d(o,u)))&&"get"in h&&!("originalValue"in h.get)?h.get:o[u]:(l=w(o,u),o[u]),l&&!s&&(b[c]=o)}}return o}}function dl(){if(Xg)return sl;Xg=!0;var e=Wr()("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return sl=e}function sb(){if(Zg)return al;Zg=!0;var e=Wr()("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return al=e}function uI(){if(eb)return ul;eb=!0;var l=dl(),u=ob(),c=Sn(),h=sb();return ul=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new c("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new c("`property` must be a string or a symbol`");if(3<arguments.length&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new c("`nonEnumerable`, if provided, must be a boolean or null");if(4<arguments.length&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new c("`nonWritable`, if provided, must be a boolean or null");if(5<arguments.length&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new c("`nonConfigurable`, if provided, must be a boolean or null");if(6<arguments.length&&"boolean"!=typeof arguments[6])throw new c("`loose`, if provided, must be a boolean");var n=3<arguments.length?arguments[3]:null,i=4<arguments.length?arguments[4]:null,o=5<arguments.length?arguments[5]:null,s=6<arguments.length&&arguments[6],a=!!h&&h(e,t);if(l)l(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===n&&a?a.enumerable:!n,value:r,writable:null===i&&a?a.writable:!i});else{if(!s&&(n||i||o))throw new u("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}}function lI(){if(tb)return ll;tb=!0;function e(){return!!t}var t=dl();return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return 1!==t([],"length",{value:1}).length}catch{return!0}},ll=e}function cI(){if(rb)return cl;rb=!0;var e=Wr(),s=uI(),a=lI()(),l=sb(),u=Sn(),c=e("%Math.floor%");return cl=function(e,t){if("function"!=typeof e)throw new u("`fn` is not a function");if("number"!=typeof t||t<0||4294967295<t||c(t)!==t)throw new u("`length` must be a positive 32-bit integer");var r,n=2<arguments.length&&!!arguments[2],i=!0,o=!0;return"length"in e&&l&&((r=l(e,"length"))&&!r.configurable&&(i=!1),r&&!r.writable&&(o=!1)),!i&&!o&&n||(a?s(e,"length",t,!0,!0):s(e,"length",t)),e}}function fI(){if(nb)return wi;nb=!0;function e(){return a(r,o,arguments)}var r=hl(),t=Wr(),n=cI(),i=Sn(),o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||r.call(s,o),l=dl(),u=t("%Math.max%");wi=function(e){if("function"!=typeof e)throw new i("a function is required");var t=a(r,s,arguments);return n(t,1+u(0,e.length-(arguments.length-1)),!0)};return l?l(wi,"apply",{value:e}):wi.apply=e,wi}function ab(){if(ib)return fl;ib=!0;var r=Wr(),n=fI(),i=n(r("String.prototype.indexOf"));return fl=function(e,t){t=r(e,!!t);return"function"==typeof t&&-1<i(e,".prototype.")?n(t):t}}var Gu,Ug,zu,Dg,Ku,jg,Qu,Fg,Yu,Wg,Ju,$g,Xu,Hg,Zu,Vg,el,Gg,tl,zg,rl,Kg,nl,Qg,il,Yg,ol,Jg,sl,Xg,al,Zg,ul,eb,ll,tb,cl,rb,wi,nb,fl,ib,ub=ze(()=>{A(),x(),I(),Ug=!(Gu={}),Dg=!(zu={}),jg=!(Ku={}),Fg=!(Qu={}),Wg=!(Yu={}),$g=!(Ju={}),Hg=!(Xu={}),Vg=!(Zu={}),Gg=!(el={}),zg=!(tl={}),Kg=!(rl={}),Qg=!(nl={}),Yg=!(il={}),Jg=!(ol={}),Xg=!(sl={}),Zg=!(al={}),eb=!(ul={}),tb=!(ll={}),rb=!(cl={}),nb=!(wi={}),ib=!(fl={})});function bl(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function hI(){En&&$r&&(En=!1,$r.length?zt=$r.concat(zt):Ko=-1,zt.length&&lb())}function lb(){if(!En){var e=setTimeout(hI,0);En=!0;for(var t=zt.length;t;){for($r=zt,zt=[];++Ko<t;)$r&&$r[Ko].run();Ko=-1,t=zt.length}$r=null,En=!1,clearTimeout(e)}}function dI(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];zt.push(new cb(e,t)),1!==zt.length||En||setTimeout(lb,0)}function cb(e,t){this.fun=e,this.array=t}function We(){}function RI(e){bl("_linkedBinding")}function MI(e){bl("dlopen")}function NI(){return[]}function qI(){return[]}function VI(e,t){if(!e)throw new Error(t||"assertion error")}function QI(){return!1}function hx(){return dr.now()/1e3}function gl(e){var t=Math.floor(.001*(Date.now()-dr.now())),r=.001*dr.now(),t=Math.floor(r)+t,r=Math.floor(r%1*1e9);return e&&(t-=e[0],(r-=e[1])<0&&(t--,r+=yl)),[t,r]}function pr(){return ml}function Ix(e){return[]}var zt,En,$r,Ko,pI,yI,gI,bI,wI,mI,_I,vI,SI,EI,AI,II,xI,TI,PI,OI,kI,CI,BI,LI,UI,wl,DI,jI,FI,WI,$I,HI,GI,zI,KI,YI,JI,XI,ZI,ex,tx,rx,nx,ix,ox,sx,ax,ux,lx,cx,fx,dr,pl,yl,dx,px,yx,gx,bx,mx,_x,vx,Sx,Ex,Ax,ml,_l=ze(()=>{A(),x(),I(),En=!(zt=[]),Ko=-1,cb.prototype.run=function(){this.fun.apply(null,this.array)},yI="x64",gI=pI="browser",bI={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},wI=["/usr/bin/node"],mI=[],_I="v16.8.0",vI={},SI=function(e,t){console.warn((t?t+": ":"")+e)},EI=function(e){bl("binding")},jI=DI=wl=function(){return{}},GI={inspector:!(HI={}),debug:!(BI={}),uv:CI=!(kI={}),ipv6:!(OI=[]),tls_alpn:!(TI={name:"node",sourceUrl:"",headersUrl:"",libUrl:""}),tls_sni:!(xI=function(e){}),tls_ocsp:!(II=function(){return"/"}),tls:!(AI=function(e){return 0}),cached_builtins:!0},ox=2,sx=1,ax="/bin/usr/node",ux=9229,lx="node",cx=[],fx=ix=ex=ZI=XI=JI=YI=KI=zI=$I=WI=FI=UI=LI=PI=We,(nx=rx=tx=void 0)===(dr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0}).now&&(pl=Date.now(),dr.timing&&dr.timing.navigationStart&&(pl=dr.timing.navigationStart),dr.now=()=>Date.now()-pl),yl=1e9,gl.bigint=function(e){e=gl(e);return"u"<typeof BigInt?e[0]*yl+e[1]:BigInt(e[0]*yl)+BigInt(e[1])},ml={version:_I,versions:vI,arch:yI,platform:gI,release:TI,_rawDebug:PI,moduleLoadList:OI,binding:EI,_linkedBinding:RI,_events:px={},_eventsCount:yx=0,_maxListeners:dx=10,on:Ax=Ex=vx=_x=mx=bx=gx=pr,addListener:gx,once:bx,off:mx,removeListener:_x,removeAllListeners:vx,emit:Sx=We,prependListener:Ex,prependOnceListener:Ax,listeners:Ix,domain:kI,_exiting:CI,config:BI,dlopen:MI,uptime:hx,_getActiveRequests:NI,_getActiveHandles:qI,reallyExit:LI,_kill:UI,cpuUsage:wl,resourceUsage:DI,memoryUsage:jI,kill:FI,exit:WI,openStdin:$I,allowedNodeEnvironmentFlags:HI,assert:VI,features:GI,_fatalExceptions:zI,setUncaughtExceptionCaptureCallback:KI,hasUncaughtExceptionCaptureCallback:QI,emitWarning:SI,nextTick:dI,_tickCallback:YI,_debugProcess:JI,_debugEnd:XI,_startProfilerIdleNotifier:ZI,_stopProfilerIdleNotifier:ex,stdout:tx,stdin:nx,stderr:rx,abort:ix,umask:AI,chdir:xI,cwd:II,env:bI,title:pI,argv:wI,execArgv:mI,pid:ox,ppid:sx,execPath:ax,debugPort:ux,hrtime:gl,argv0:lx,_preload_modules:cx,setSourceMapsEnabled:fx}});function xx(){if(fb)return vl;fb=!0;var o=ml;function f(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function s(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){var l=n.lastIndexOf("/");if(l!==n.length-1){i=-1===l?(n="",0):(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",o=a,s=i=0;continue}t&&(0<n.length?n+="/..":n="..",i=2)}else 0<n.length?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var p={resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){var i=0<=n?arguments[n]:e=void 0===e?o.cwd():e;f(i),0!==i.length&&(t=i+"/"+t,r=47===i.charCodeAt(0))}return t=s(t,!r),r?0<t.length?"/"+t:"/":0<t.length?t:"."},normalize:function(e){if(f(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0<(e=0!==(e=s(e,!t)).length||t?e:".").length&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return f(e),0<e.length&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];f(r),0<r.length&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":p.normalize(e)},relative:function(e,t){if(f(e),f(t),e===t||(e=p.resolve(e))===(t=p.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,i=n-r,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var s=t.length-o,a=i<s?i:s,l=-1,u=0;u<=a;++u){if(u===a){if(a<s){if(47===t.charCodeAt(o+u))return t.slice(o+u+1);if(0===u)return t.slice(o+u)}else a<i&&(47===e.charCodeAt(r+u)?l=u:0===u&&(l=0));break}var c=e.charCodeAt(r+u);if(c!==t.charCodeAt(o+u))break;47===c&&(l=u)}for(var h="",u=r+l+1;u<=n;++u)u!==n&&47!==e.charCodeAt(u)||(0===h.length?h+="..":h+="/..");return 0<h.length?h+t.slice(o+l):(47===t.charCodeAt(o+=l)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(f(e),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!n){r=i;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');f(e);var r=0,n=-1,i=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t.length===e.length&&t===e)return"";for(var o=t.length-1,s=-1,a=e.length-1;0<=a;--a){var l=e.charCodeAt(a);if(47===l){if(!i){r=a+1;break}}else-1===s&&(i=!1,s=a+1),0<=o&&(l===t.charCodeAt(o)?-1==--o&&(n=a):(o=-1,n=s))}return r===n?n=s:-1===n&&(n=e.length),e.slice(r,n)}for(a=e.length-1;0<=a;--a)if(47===e.charCodeAt(a)){if(!i){r=a+1;break}}else-1===n&&(i=!1,n=a+1);return-1===n?"":e.slice(r,n)},extname:function(e){f(e);for(var t=-1,r=0,n=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47===a){if(i)continue;r=s+1;break}-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t="/",r=(e=e).dir||e.root,n=e.base||(e.name||"")+(e.ext||""),r?r===e.root?r+n:r+t+n:n;var t,r,n},parse:function(e){f(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;for(var r,n=47===e.charCodeAt(0),i=n?(t.root="/",1):0,o=-1,s=0,a=-1,l=!0,u=e.length-1,c=0;i<=u;--u){if(47===(r=e.charCodeAt(u))){if(l)continue;s=u+1;break}-1===a&&(l=!1,a=u+1),46===r?-1===o?o=u:1!==c&&(c=1):-1!==o&&(c=-1)}return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(t.base=t.name=0===s&&n?e.slice(1,a):e.slice(s,a)):(0===s&&n?(t.name=e.slice(1,o),t.base=e.slice(1,a)):(t.name=e.slice(s,o),t.base=e.slice(s,a)),t.ext=e.slice(o,a)),0<s?t.dir=e.slice(0,s-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return p.posix=p,vl=p}var vl,fb,Sl,hb=ze(()=>{A(),x(),I(),_l(),fb=!(vl={}),Sl=xx()}),Ab={};function Px(){if(db)return El;db=!0;var e="function"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,w=e&&t&&"function"==typeof t.get?t.get:null,_=e&&Map.prototype.forEach,t="function"==typeof Set&&Set.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=t&&e&&"function"==typeof e.get?e.get:null,E=t&&Set.prototype.forEach,A="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,I="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,x="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,J=Boolean.prototype.valueOf,r=Object.prototype.toString,X=Function.prototype.toString,Z=String.prototype.match,k=String.prototype.slice,O=String.prototype.replace,n=String.prototype.toUpperCase,P=String.prototype.toLowerCase,c=RegExp.prototype.test,T=Array.prototype.concat,R=Array.prototype.join,ee=Array.prototype.slice,i=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,h=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,j="function"==typeof Symbol&&"object"==typeof Symbol.iterator,B="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function U(e,t){if(e===1/0||e===-1/0||e!=e||e&&-1e3<e&&e<1e3||c.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-i(-e):i(e);if(n!==e)return e=String(n),n=k.call(t,e.length+1),O.call(e,r,"$&_")+"."+O.call(O.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}return O.call(t,r,"$&_")}var L=Tx,e=L.custom,F=V(e)?e:null;function W(e,t,r){r="double"===(r.quoteStyle||t)?'"':"'";return r+e+r}function q(e){return!("[object Array]"!==G(e)||B&&"object"==typeof e&&B in e)}function H(e){return!("[object RegExp]"!==G(e)||B&&"object"==typeof e&&B in e)}function V(e){if(j)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return 1;if(e&&"object"==typeof e&&M)try{return M.call(e),1}catch{}}El=function n(r,e,i,o){var s=e||{};if(z(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');e=!z(s,"customInspect")||s.customInspect;if("boolean"!=typeof e&&"symbol"!==e)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&0<s.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var t=s.numericSeparator;if("u"<typeof r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function e(t,r){if(t.length>r.maxStringLength)return n=t.length-r.maxStringLength,n="... "+n+" more character"+(1<n?"s":""),e(k.call(t,0,r.maxStringLength),r)+n;var n=O.call(O.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,re);return W(n,"single",r)}(r,s);if("number"==typeof r){if(0===r)return 0<1/0/r?"0":"-0";var a=String(r);return t?U(r,a):a}if("bigint"==typeof r)return a=String(r)+"n",t?U(r,a):a;t="u"<typeof s.depth?5:s.depth;if(t<=(i="u"<typeof i?0:i)&&0<t&&"object"==typeof r)return q(r)?"[Array]":"[Object]";var l,u,c,h,f,p,d,a=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&0<e.indent))return null;r=R.call(Array(e.indent+1)," ")}return{base:r,prev:R.call(Array(t+1),r)}}(s,i);if("u"<typeof o)o=[];else if(0<=te(o,r))return"[Circular]";function g(e,t,r){return t&&(o=ee.call(o)).push(t),r?(t={depth:s.depth},z(s,"quoteStyle")&&(t.quoteStyle=s.quoteStyle),n(e,t,i+1,o)):n(e,s,i+1,o)}if("function"==typeof r&&!H(r))return"[Function"+((u=function(e){if(e.name)return e.name;e=Z.call(X.call(e),/^function\s*([\w$]+)/);return e?e[1]:null}(r))?": "+u:" (anonymous)")+"]"+(0<(u=Y(r,g)).length?" { "+R.call(u,", ")+" }":"");if(V(r))return u=j?O.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(r),"object"!=typeof r||j?u:K(u);if((u=r)&&"object"==typeof u&&(typeof HTMLElement<"u"&&u instanceof HTMLElement||"string"==typeof u.nodeName&&"function"==typeof u.getAttribute)){for(var y="<"+P.call(String(r.nodeName)),b=r.attributes||[],m=0;m<b.length;m++)y+=" "+b[m].name+"="+W((l=b[m].value,O.call(String(l),/"/g,"&quot;")),"double",s);return y+=">",r.childNodes&&r.childNodes.length&&(y+="..."),y+="</"+P.call(String(r.nodeName))+">"}if(q(r)){if(0===r.length)return"[]";var v=Y(r,g);return a&&!function(e){for(var t=0;t<e.length;t++)if(0<=te(e[t],`
`))return;return 1}(v)?"["+Q(v,a)+"]":"[ "+R.call(v,", ")+" ]"}if(!("[object Error]"!==G(v=r)||B&&"object"==typeof v&&B in v))return f=Y(r,g),"cause"in Error.prototype||!("cause"in r)||N.call(r,"cause")?0===f.length?"["+String(r)+"]":"{ ["+String(r)+"] "+R.call(f,", ")+" }":"{ ["+String(r)+"] "+R.call(T.call("[cause]: "+g(r.cause),f),", ")+" }";if("object"==typeof r&&e){if(F&&"function"==typeof r[F]&&L)return L(r,{depth:t-i});if("symbol"!==e&&"function"==typeof r.inspect)return r.inspect()}return function(e){if(!w||!e||"object"!=typeof e)return;try{w.call(e);try{S.call(e)}catch{return 1}return e instanceof Map}catch{}return}(r)?(c=[],_&&_.call(r,function(e,t){c.push(g(t,r,!0)+" => "+g(e,r))}),ne("Map",w.call(r),c,a)):function(e){if(!S||!e||"object"!=typeof e)return;try{S.call(e);try{w.call(e)}catch{return 1}return e instanceof Set}catch{}return}(r)?(h=[],E&&E.call(r,function(e){h.push(g(e,r))}),ne("Set",S.call(r),h,a)):function(e){if(!A||!e||"object"!=typeof e)return;try{A.call(e,A);try{I.call(e,I)}catch{return 1}return e instanceof WeakMap}catch{}return}(r)?$("WeakMap"):function(e){if(!I||!e||"object"!=typeof e)return;try{I.call(e,I);try{A.call(e,A)}catch{return 1}return e instanceof WeakSet}catch{}return}(r)?$("WeakSet"):function(e){if(!x||!e||"object"!=typeof e)return;try{return x.call(e),1}catch{}return}(r)?$("WeakRef"):"[object Number]"!==G(f=r)||B&&"object"==typeof f&&B in f?function(e){if(!e||"object"!=typeof e||!C)return;try{return C.call(e),1}catch{}return}(r)?K(g(C.call(r))):"[object Boolean]"!==G(t=r)||B&&"object"==typeof t&&B in t?"[object String]"!==G(e=r)||B&&"object"==typeof e&&B in e?typeof window<"u"&&r===window?"{ [object Window] }":typeof globalThis<"u"&&r===globalThis||typeof Al<"u"&&r===Al?"{ [object globalThis] }":("[object Date]"!==G(t=r)||B&&"object"==typeof t&&B in t)&&!H(r)?(e=Y(r,g),t=D?D(r)===Object.prototype:r instanceof Object||r.constructor===Object,p=r instanceof Object?"":"null prototype",d=!t&&B&&Object(r)===r&&B in r?k.call(G(r),8,-1):p?"Object":"",t=(!t&&"function"==typeof r.constructor&&r.constructor.name?r.constructor.name+" ":"")+(d||p?"["+R.call(T.call([],d||[],p||[]),": ")+"] ":""),0===e.length?t+"{}":a?t+"{"+Q(e,a)+"}":t+"{ "+R.call(e,", ")+" }"):String(r):K(g(String(r))):K(J.call(r)):K(g(Number(r)))};var o=Object.prototype.hasOwnProperty||function(e){return e in(this||Al)};function z(e,t){return o.call(e,t)}function G(e){return r.call(e)}function te(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function re(e){var e=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+n.call(e.toString(16))}function K(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function ne(e,t,r,n){return e+" ("+t+") {"+(n?Q(r,n):R.call(r,", "))+"}"}function Q(e,t){if(0===e.length)return"";var r=`
`+t.prev+t.base;return r+R.call(e,","+r)+`
`+t.prev}function Y(e,t){var r=q(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=z(e,i)?t(e[i],e):""}var o,s="function"==typeof h?h(e):[];if(j)for(var a={},l=0;l<s.length;l++)a["$"+s[l]]=s[l];for(o in e)!z(e,o)||r&&String(Number(o))===o&&o<e.length||j&&a["$"+o]instanceof Symbol||(c.call(/[^\w$]/,o)?n.push(t(o,e)+": "+t(e[o],e)):n.push(o+": "+t(e[o],e)));if("function"==typeof h)for(var u=0;u<s.length;u++)N.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}return El}function Ox(){if(pb)return Il;pb=!0;function i(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r}var e=Wr(),t=ab(),o=Px(),s=Sn(),a=e("%WeakMap%",!0),l=e("%Map%",!0),u=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),h=t("WeakMap.prototype.has",!0),f=t("Map.prototype.get",!0),p=t("Map.prototype.set",!0),d=t("Map.prototype.has",!0),g=function(e,t){e=i(e,t);return e&&e.value},y=function(e,t,r){var n=i(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},b=function(e,t){return!!i(e,t)};return Il=function(){var r,n,i,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+o(e))},get:function(e){if(a&&e&&("object"==typeof e||"function"==typeof e)){if(r)return u(r,e)}else if(l){if(n)return f(n,e)}else if(i)return g(i,e)},has:function(e){if(a&&e&&("object"==typeof e||"function"==typeof e)){if(r)return h(r,e)}else if(l){if(n)return d(n,e)}else if(i)return b(i,e);return!1},set:function(e,t){a&&e&&("object"==typeof e||"function"==typeof e)?(r=r||new a,c(r,e,t)):l?(n=n||new l,p(n,e,t)):y(i=i||{key:{},next:null},e,t)}};return t}}function Cl(){if(yb)return xl;yb=!0;var t=String.prototype.replace,r=/%20/g,e="RFC3986";return xl={default:e,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:e}}function vb(){if(gb)return Tl;gb=!0;function t(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r}var f=Cl(),a=Object.prototype.hasOwnProperty,g=Array.isArray,p=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();return Tl={arrayToObject:t,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}for(var c=t;1<c.length;){var h=c.pop(),f=h.obj[h.prop];if(g(f)){for(var p=[],d=0;d<f.length;++d)typeof f[d]<"u"&&p.push(f[d]);h.obj[h.prop]=p}}return e},decode:function(e,t,r){e=e.replace(/\+/g," ");if("iso-8859-1"===r)return e.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(e)}catch{return e}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",a=0;a<o.length;a+=1024){for(var l=1024<=o.length?o.slice(a,a+1024):o,u=[],c=0;c<l.length;++c){var h=l.charCodeAt(c);45===h||46===h||95===h||126===h||48<=h&&h<=57||65<=h&&h<=90||97<=h&&h<=122||i===f.RFC1738&&(40===h||41===h)?u[u.length]=l.charAt(c):h<128?u[u.length]=p[h]:h<2048?u[u.length]=p[192|h>>6]+p[128|63&h]:h<55296||57344<=h?u[u.length]=p[224|h>>12]+p[128|h>>6&63]+p[128|63&h]:(c+=1,h=65536+((1023&h)<<10|1023&l.charCodeAt(c)),u[u.length]=p[240|h>>18]+p[128|h>>12&63]+p[128|h>>6&63]+p[128|63&h])}s+=u.join("")}return s},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(g(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,o,s){if(!o)return i;if("object"!=typeof o){if(g(i))i.push(o);else{if(!i||"object"!=typeof i)return[i,o];(s&&(s.plainObjects||s.allowPrototypes)||!a.call(Object.prototype,o))&&(i[o]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(o);var e=i;return g(i)&&!g(o)&&(e=t(i,s)),g(i)&&g(o)?(o.forEach(function(e,t){var r;a.call(i,t)?(r=i[t])&&"object"==typeof r&&e&&"object"==typeof e?i[t]=n(r,e,s):i.push(e):i[t]=e}),i):Object.keys(o).reduce(function(e,t){var r=o[t];return a.call(e,t)?e[t]=n(e[t],r,s):e[t]=r,e},e)}}}function Rx(){if(bb)return Pl;bb=!0;var C=Ox(),M=vb(),a=Cl(),l=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},j=Array.isArray,r=Array.prototype.push,B=function(e,t){r.apply(e,j(t)?t:[t])},t=Date.prototype.toISOString,e=a.default,N={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:M.encode,encodeValuesOnly:!1,format:e,formatter:a.formatters[e],indices:!1,serializeDate:function(e){return t.call(e)},skipNulls:!1,strictNullHandling:!1},D={},f=function e(t,r,n,i,o,s,a,l,u,c,h,f,p,d,g,y,b,m){for(var v=t,w=m,_=0,S=!1;void 0!==(w=w.get(D))&&!S;){var E=w.get(t);if(_+=1,typeof E<"u"){if(E===_)throw new RangeError("Cyclic object value");S=!0}"u"<typeof w.get(D)&&(_=0)}if("function"==typeof c?v=c(r,v):v instanceof Date?v=p(v):"comma"===n&&j(v)&&(v=M.maybeMap(v,function(e){return e instanceof Date?p(e):e})),null===v){if(s)return u&&!y?u(r,N.encoder,b,"key",d):r;v=""}if("string"==typeof(x=v)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||M.isBuffer(v))return u?[g(y?r:u(r,N.encoder,b,"key",d))+"="+g(u(v,N.encoder,b,"value",d))]:[g(r)+"="+g(String(v))];var A,I=[];if("u"<typeof v)return I;A="comma"===n&&j(v)?[{value:0<(v=y&&u?M.maybeMap(v,u):v).length?v.join(",")||null:void 0}]:j(c)?c:(x=Object.keys(v),h?x.sort(h):x);var x=l?r.replace(/\./g,"%2E"):r,k=i&&j(v)&&1===v.length?x+"[]":x;if(o&&j(v)&&0===v.length)return k+"[]";for(var O=0;O<A.length;++O){var P,T=A[O],R="object"==typeof T&&typeof T.value<"u"?T.value:v[T];a&&null===R||(T=f&&l?T.replace(/\./g,"%2E"):T,T=j(v)?"function"==typeof n?n(k,T):k:k+(f?"."+T:"["+T+"]"),m.set(t,_),(P=C()).set(D,m),B(I,e(R,T,n,i,o,s,a,l,"comma"===n&&y&&j(v)?null:u,c,h,f,p,d,g,y,b,P)))}return I},p=function(e){if(!e)return N;if(typeof e.allowEmptyArrays<"u"&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&typeof e.encoder<"u"&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||N.charset;if(typeof e.charset<"u"&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(typeof e.format<"u"){if(!l.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n,i=a.formatters[r],o=N.filter;if("function"!=typeof e.filter&&!j(e.filter)||(o=e.filter),n=e.arrayFormat in h?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":N.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s="u"<typeof e.allowDots?!0===e.encodeDotInKeys||N.allowDots:!!e.allowDots;return{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:N).addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:N.allowEmptyArrays,arrayFormat:n,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:N).charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:("u"<typeof e.delimiter?N:e).delimiter,encode:("boolean"==typeof e.encode?e:N).encode,encodeDotInKeys:("boolean"==typeof e.encodeDotInKeys?e:N).encodeDotInKeys,encoder:("function"==typeof e.encoder?e:N).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:N).encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:("function"==typeof e.serializeDate?e:N).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:N).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:N).strictNullHandling}};return Pl=function(e,t){var r=e,n=p(t),i=("function"==typeof n.filter?r=(0,n.filter)("",r):j(n.filter)&&(a=n.filter),[]);if("object"!=typeof r||null===r)return"";var o=h[n.arrayFormat],s="comma"===o&&n.commaRoundTrip,a=a||Object.keys(r);n.sort&&a.sort(n.sort);for(var l=C(),u=0;u<a.length;++u){var c=a[u];n.skipNulls&&null===r[c]||B(i,f(r[c],c,o,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}e=i.join(n.delimiter),t=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?t+="utf8=%26%2310003%3B&":t+="utf8=%E2%9C%93&"),0<e.length?t+e:""}}function kx(){if(wb)return Ol;wb=!0;function b(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}var h=vb(),m=Object.prototype.hasOwnProperty,f=Array.isArray,p={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:h.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l=function(e,t){var r,n,i,o,s={__proto__:null},e=(e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e).replace(/%5B/gi,"[").replace(/%5D/gi,"]"),a=t.parameterLimit===1/0?void 0:t.parameterLimit,l=e.split(t.delimiter,a),u=-1,c=t.charset;if(t.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?c="utf-8":"utf8=%26%2310003%3B"===l[r]&&(c="iso-8859-1"),u=r,r=l.length);for(r=0;r<l.length;++r)r!==u&&(i=-1===(i=(o=l[r]).indexOf("]="))?o.indexOf("="):i+1,(i=-1===i?(n=t.decoder(o,p.decoder,c,"key"),t.strictNullHandling?null:""):(n=t.decoder(o.slice(0,i),p.decoder,c,"key"),h.maybeMap(b(o.slice(i+1),t),function(e){return t.decoder(e,p.decoder,c,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===c&&(i=i.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<o.indexOf("[]=")&&(i=f(i)?[i]:i),(o=m.call(s,n))&&"combine"===t.duplicates?s[n]=h.combine(s[n],i):o&&"last"!==t.duplicates||(s[n]=i));return s},u=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=0<r.depth&&/(\[[^[\]]*])/.exec(i),e=s?i.slice(0,s.index):i,a=[];if(e){if(!r.plainObjects&&m.call(Object.prototype,e)&&!r.allowPrototypes)return;a.push(e)}for(var l=0;0<r.depth&&null!==(s=o.exec(i))&&l<r.depth;){if(l+=1,!r.plainObjects&&m.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;a.push(s[1])}if(s){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");a.push("["+i.slice(s.index)+"]")}for(var u=a,e=t,c=r,h=n?e:b(e,c),f=u.length-1;0<=f;--f){var p,d,g,y=u[f];"[]"===y&&c.parseArrays?p=c.allowEmptyArrays&&(""===h||c.strictNullHandling&&null===h)?[]:[].concat(h):(p=c.plainObjects?Object.create(null):{},d="["===y.charAt(0)&&"]"===y.charAt(y.length-1)?y.slice(1,-1):y,d=c.decodeDotInKeys?d.replace(/%2E/g,"."):d,g=parseInt(d,10),c.parseArrays||""!==d?!isNaN(g)&&y!==d&&String(g)===d&&0<=g&&c.parseArrays&&g<=c.arrayLimit?(p=[])[g]=h:"__proto__"!==d&&(p[d]=h):p={0:h}),h=p}return h}},c=function(e){if(!e)return p;if(typeof e.allowEmptyArrays<"u"&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&typeof e.decoder<"u"&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=("u"<typeof e.charset?p:e).charset,r=("u"<typeof e.duplicates?p:e).duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:"u"<typeof e.allowDots?!0===e.decodeDotInKeys||p.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:p).allowPrototypes,allowSparse:("boolean"==typeof e.allowSparse?e:p).allowSparse,arrayLimit:("number"==typeof e.arrayLimit?e:p).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:p).charsetSentinel,comma:("boolean"==typeof e.comma?e:p).comma,decodeDotInKeys:("boolean"==typeof e.decodeDotInKeys?e:p).decodeDotInKeys,decoder:("function"==typeof e.decoder?e:p).decoder,delimiter:("string"==typeof e.delimiter||h.isRegExp(e.delimiter)?e:p).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:p.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:p).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:p).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:p).plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:p.strictDepth,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:p).strictNullHandling}};return Ol=function(e,t){var r=c(t);if(""===e||null===e||"u"<typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?l(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s)var a=o[s],a=u(a,n[a],r,"string"==typeof e),i=h.merge(i,a,r);return!0===r.allowSparse?i:h.compact(i)}}function Cx(){if(mb)return Rl;mb=!0;var e=Rx(),t=kx(),r=Cl();return Rl={formats:r,parse:t,stringify:e}}function Bx(){if(_b)return Hr;_b=!0;var E=hr;function _(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var A=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"\t"]),x=["'"].concat(e),k=["%","/","?",";","#"].concat(x),O=["/","?","#"],P=/^[+a-z0-9A-Z_-]{0,63}$/,T=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=Cx();function n(e,t,r){if(e&&"object"==typeof e&&e instanceof _)return e;var n=new _;return n.parse(e,t,r),n}return _.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),n=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(n);i[0]=i[0].replace(/\\/g,"/");var o=(o=e=i.join(n)).trim();if(!r&&1===e.split("#").length){i=I.exec(o);if(i)return this.path=o,this.href=o,this.pathname=i[1],i[2]?(this.search=i[2],this.query=t?j.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var s,n=A.exec(o);if(n&&(s=(n=n[0]).toLowerCase(),this.protocol=s,o=o.substr(n.length)),!(r||n||o.match(/^\/\/[^@/]+@[^@/]+/))||!(w="//"===o.substr(0,2))||n&&C[n]||(o=o.substr(2),this.slashes=!0),!C[n]&&(w||n&&!M[n])){for(var a=-1,l=0;l<O.length;l++)-1!==(u=o.indexOf(O[l]))&&(-1===a||u<a)&&(a=u);-1!==(e=-1===a?o.lastIndexOf("@"):o.lastIndexOf("@",a))&&(i=o.slice(0,e),o=o.slice(e+1),this.auth=decodeURIComponent(i));for(var u,a=-1,l=0;l<k.length;l++)-1!==(u=o.indexOf(k[l]))&&(-1===a||u<a)&&(a=u);-1===a&&(a=o.length),this.host=o.slice(0,a),o=o.slice(a),this.parseHost(),this.hostname=this.hostname||"";r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r)for(var c=this.hostname.split(/\./),l=0,h=c.length;l<h;l++){var f=c[l];if(f&&!f.match(P)){for(var p="",d=0,g=f.length;d<g;d++)127<f.charCodeAt(d)?p+="x":p+=f[d];if(!p.match(P)){var y=c.slice(0,l),b=c.slice(l+1),m=f.match(T);m&&(y.push(m[1]),b.unshift(m[2])),b.length&&(o="/"+b.join(".")+o),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),r||(this.hostname=E.toASCII(this.hostname));var v=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+v,this.href+=this.host,r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!R[s])for(l=0,h=x.length;l<h;l++){var _,S=x[l];-1!==o.indexOf(S)&&((_=encodeURIComponent(S))===S&&(_=escape(S)),o=o.split(S).join(_))}n=o.indexOf("#"),-1!==n&&(this.hash=o.substr(n),o=o.slice(0,n)),e=o.indexOf("?");return-1!==e?(this.search=o.substr(e),this.query=o.substr(e+1),t&&(this.query=j.parse(this.query)),o=o.slice(0,e)):t&&(this.search="",this.query={}),o&&(this.pathname=o),M[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(v=this.pathname||"",i=this.search||"",this.path=v+i),this.href=this.format(),this},_.prototype.format=function(){var e=this.auth||"",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@"),this.protocol||""),r=this.pathname||"",n=this.hash||"",i=!1,o="",e=(this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=j.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1})),this.search||o&&"?"+o||"");return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||M[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i=i||"",n&&"#"!==n.charAt(0)&&(n="#"+n),e&&"?"!==e.charAt(0)&&(e="?"+e),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace("#","%23"))+n},_.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},_.prototype.resolveObject=function(e){"string"==typeof e&&((f=new _).parse(e,!1,!0),e=f);for(var t=new _,r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(t[a]=e[a])}return M[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!M[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];t[c]=e[c]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||C[e.protocol])t.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),t.pathname=h.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(f=t.pathname||"",p=t.search||"",t.path=f+p),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var f=t.pathname&&"/"===t.pathname.charAt(0),p=e.host||e.pathname&&"/"===e.pathname.charAt(0),f=p||f||t.host&&e.pathname,d=f,g=t.pathname&&t.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],y=t.protocol&&!M[t.protocol];if(y&&(t.hostname="",t.port=null,t.host&&(""===g[0]?g[0]=t.host:g.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),f=f&&(""===h[0]||""===g[0])),p)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,g=h;else if(h.length)(g=g||[]).pop(),g=g.concat(h),t.search=e.search,t.query=e.query;else if(null!=e.search)return y&&(t.host=g.shift(),t.hostname=t.host,(w=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=w.shift(),t.hostname=w.shift(),t.host=t.hostname)),t.search=e.search,t.query=e.query,null===t.pathname&&null===t.search||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!g.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var b=g.slice(-1)[0],p=(t.host||e.host||1<g.length)&&("."===b||".."===b)||""===b,m=0,v=g.length;0<=v;v--)"."===(b=g[v])?g.splice(v,1):".."===b?(g.splice(v,1),m++):m&&(g.splice(v,1),m--);if(!f&&!d)for(;m--;)g.unshift("..");!f||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),p&&"/"!==g.join("/").substr(-1)&&g.push("");var w,d=""===g[0]||g[0]&&"/"===g[0].charAt(0);return y&&(t.hostname=!d&&g.length?g.shift():"",t.host=t.hostname,(w=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=w.shift(),t.hostname=w.shift(),t.host=t.hostname)),(f=f||t.host&&g.length)&&!d&&g.unshift(""),0<g.length?t.pathname=g.join("/"):(t.pathname=null,t.path=null),null===t.pathname&&null===t.search||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},_.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Hr.parse=n,Hr.resolve=function(e,t){return n(e,!1,!0).resolve(t)},Hr.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},Hr.format=function(e){return(e="string"==typeof e?n(e):e)instanceof _?e.format():_.prototype.format.call(e)},Hr.Url=_,Hr}function Sb(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return(kl?Jx:Xx)(e)}function Jx(e){let t=e.hostname,r=e.pathname;for(let e=0;e<r.length;e++)if("%"===r[e]){var n=r.codePointAt(e+2)||32;if("2"===r[e+1]&&102===n||"5"===r[e+1]&&99===n)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Vx,"\\"),r=decodeURIComponent(r),""!==t)return"\\\\"+t+r;var e=32|r.codePointAt(1),i=r[2];if(e<$x||Hx<e||":"!==i)throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}function Xx(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){var r=t.codePointAt(e+2)||32;if("2"===t[e+1]&&102===r)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Eb(e){let t=Sl.resolve(e),r=e.charCodeAt(e.length-1),n=((r===Wx||kl&&r===Fx)&&t[t.length-1]!==Sl.sep&&(t+="/"),new URL("file://"));return t.includes("%")&&(t=t.replace(Gx,"%25")),(t=(t=(t=!kl&&t.includes("\\")?t.replace(zx,"%5C"):t).includes(`
`)?t.replace(Kx,"%0A"):t).includes("\r")?t.replace(Qx,"%0D"):t).includes("\t")&&(t=t.replace(Yx,"%09")),n.pathname=t,n}Kr(Ab,{URL:()=>jx,Url:()=>Nx,default:()=>Ge,fileURLToPath:()=>Sb,format:()=>qx,parse:()=>Dx,pathToFileURL:()=>Eb,resolve:()=>Lx,resolveObject:()=>Ux});var Tx,El,db,Al,Il,pb,xl,yb,Tl,gb,Pl,bb,Ol,wb,Rl,mb,Hr,_b,Ge,Mx,Nx,qx,Lx,Ux,Dx,jx,Fx,Wx,$x,Hx,kl,Vx,Gx,zx,Kx,Qx,Yx,Ib=ze(()=>{A(),x(),I(),Lg(),ub(),hb(),_l(),Tx=Object.freeze(Object.create(null)),db=!(El={}),Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,pb=!(Il={}),yb=!(xl={}),gb=!(Tl={}),bb=!(Pl={}),wb=!(Ol={}),mb=!(Rl={}),_b=!(Hr={}),(Ge=Bx()).parse,Ge.resolve,Ge.resolveObject,Ge.format,Ge.Url,Mx=typeof Deno<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,Ge.URL=typeof URL<"u"?URL:null,Ge.pathToFileURL=Eb,Ge.fileURLToPath=Sb,Nx=Ge.Url,qx=Ge.format,Lx=Ge.resolve,Ux=Ge.resolveObject,Dx=Ge.parse,jx=Ge.URL,Fx=92,Wx=47,$x=97,Hx=122,kl="win32"===Mx,Vx=/\//g,Gx=/%/g,zx=/\\/g,Kx=/\n/g,Qx=/\r/g,Yx=/\t/g}),Tb=D((e,t)=>{"use strict";A(),x(),I(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Qo=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=i;var t=or(),n=(ke(),me(qe));function i(t,e){let r=new Array(t.length);for(let e=0;e<t.length;e++)"string"==typeof t[e].chunk?r[e]=n.Buffer.from(t[e].chunk,"utf8"):r[e]=t[e].chunk;this._write(n.Buffer.concat(r),"binary",e)}t=class extends t.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(e,t,r){super({objectMode:!0}),this.proxy=t,this.socket=r,this.writeQueue=[],e.objectMode||(this._writev=i.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(e){this.proxy.read(e)}_write(e,t,r){this.isSocketOpen?this.writeToProxy(e,t,r):this.writeQueue.push({chunk:e,encoding:t,cb:r})}_final(e){this.writeQueue=[],this.proxy.end(e)}_destroy(e,t){this.writeQueue=[],this.proxy.destroy(),t(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,t,r){!1===this.proxy.write(e,t)?this.proxy.once("drain",r):r()}processWriteQueue(){for(;0<this.writeQueue.length;){var{chunk:e,encoding:t,cb:r}=this.writeQueue.shift();this.writeToProxy(e,t,r)}}};e.BufferedDuplex=t}),_i=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},f=(Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0,ke(),me(qe)),s=t(Tb()),r=t(At()),p=or(),n=t(yi()),d=Qo(),g=(0,r.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function y(e,t){let r=`${e.protocol}://${e.hostname}:`+e.port+e.path;return r="function"==typeof e.transformWsUrl?e.transformWsUrl(r,e,t):r}function b(t){let r=t;return t.port||("wss"===t.protocol?r.port=443:r.port=80),t.path||(r.path="/"),t.wsOptions||(r.wsOptions={}),n.default||t.forceNativeWebSocket||"wss"!==t.protocol||i.forEach(e=>{Object.prototype.hasOwnProperty.call(t,e)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,e)&&(r.wsOptions[e]=t[e])}),r}e.streamBuilder=(e,t)=>{g("streamBuilder");let r=b(t),n=(r.hostname=r.hostname||r.host||"localhost",y(r,e)),i=function(e,t){g("createWebSocket"),g(`protocol: ${t.protocolId} `+t.protocolVersion);var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";g(`creating new Websocket for url: ${e} and protocol: `+r);let n;return n=t.createWebsocket?t.createWebsocket(e,[r],t):new s.default(e,[r],t.wsOptions)}(n,r),o=s.default.createWebSocketStream(i,r.wsOptions);return o.url=n,i.on("close",()=>{o.destroy()}),o};e.browserStreamBuilder=(e,t)=>{g("browserStreamBuilder");let r,i=function(e){let t=b(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("u"<typeof document)throw new Error("Could not determine host. Specify host manually.");e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=Number(e.port))}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,o=t.browserBufferTimeout||1e3,s=!t.objectMode,a=function(e,t){let r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",n=y(t,e),i;return(i=t.createWebsocket?t.createWebsocket(n,[r],t):new WebSocket(n,[r])).binaryType="arraybuffer",i}(e,t),n=function(e,t,r){let n=new p.Transform({objectMode:e.objectMode});return n._write=t,n._flush=r,n}(t,function e(t,r,n){if(a.bufferedAmount>i)return void setTimeout(e,o,t,r,n);s&&"string"==typeof t&&(t=f.Buffer.from(t,"utf8"));try{a.send(t)}catch(e){return n(e)}n()},function(e){a.close(),e()});t.objectMode||(n._writev=d.writev.bind(n)),n.on("close",()=>{a.close()});e=typeof a.addEventListener<"u";function l(){g("WebSocket onOpen"),r instanceof d.BufferedDuplex&&r.socketReady()}function u(e){g("WebSocket onClose",e),r.end(),r.destroy()}function c(e){g("WebSocket onError",e);let t=new Error("WebSocket error");t.event=e,r.destroy(t)}async function h(t){if(n&&n.readable&&n.writable){let e=t["data"];e=e instanceof ArrayBuffer?f.Buffer.from(e):e instanceof Blob?f.Buffer.from(await new Response(e).arrayBuffer()):f.Buffer.from(e,"utf8"),n.push(e)}}return a.readyState===a.OPEN?(r=n).socket=a:(r=new d.BufferedDuplex(t,n,a),e?a.addEventListener("open",l):a.onopen=l),e?(a.addEventListener("close",u),a.addEventListener("error",c),a.addEventListener("message",h)):(a.onclose=u,a.onerror=c,a.onmessage=h),r}}),ql={};function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}Kr(ql,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>lT,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});var lT,Ll=ze(()=>{A(),x(),I(),lT={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),Ul=D((e,t)=>{A(),x(),I(),t.exports={}}),jl=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(e,"__esModule",{value:!0}),t((Ll(),me(ql)))),r=t(At()),o=t(Ul()),s=(0,r.default)("mqttjs:tcp");e.default=(e,t)=>{if(t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",t.socksProxy)return(0,o.default)(t.hostname,t.port,t.socksProxy,{timeout:t.socksTimeout});var{port:r,path:n}=t,t=t.hostname;return s("port %d and host %s",r,t),i.default.createConnection({port:r,host:t,path:n})}}),Mb={};Kr(Mb,{default:()=>yT});var yT,Nb=ze(()=>{A(),x(),I(),yT={}}),Wl=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(e,"__esModule",{value:!0}),Nb(),me(Mb)),i=t((Ll(),me(ql))),r=t(At()),a=t(Ul()),o=(0,r.default)("mqttjs:tls");e.default=(t,r)=>{r.port=r.port||8883,r.host=r.hostname||r.host||"localhost",0===i.default.isIP(r.host)&&(r.servername=r.host),r.rejectUnauthorized=!1!==r.rejectUnauthorized,delete r.path,o("port %d host %s rejectUnauthorized %b",r.port,r.host,r.rejectUnauthorized);let n=function(e){let{host:t,port:r,socksProxy:n,...i}=e;var o;return void 0!==n?(o=(0,a.default)(t,r,n,{timeout:e.socksTimeout}),(0,s.connect)({...i,socket:o})):(0,s.connect)(e)}(r);function e(e){r.rejectUnauthorized&&t.emit("error",e),n.end()}return n.on("secureConnect",()=>{r.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",e)}),n.on("error",e),n}}),Vl=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});ke();var o,s,a,l=me(qe),u=or(),c=Qo();e.default=(e,t)=>{if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",n=((n=t).hostname||(n.hostname="localhost"),n.path||(n.path="/"),n.wsOptions||(n.wsOptions={}),function(e,t){let r="wxs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+`://${e.hostname}:`+e.port+e.path),n="function"==typeof e.transformWsUrl?e.transformWsUrl(n,e,t):n}(t,e));o=wx.connectSocket({url:n,protocols:[r]}),s=function(){let e=new u.Transform;return e._write=(e,t,r)=>{o.send({data:e.buffer,success(){r()},fail(e){r(new Error(e))}})},e._flush=e=>{o.close({success(){e()}})},e}(),(a=new c.BufferedDuplex(t,s,o))._destroy=(e,t)=>{o.close({success(){t&&t(e)}})};let i=a.destroy;return a.destroy=(e,t)=>(a.destroy=i,setTimeout(()=>{o.close({fail(){a._destroy(e,t)}})},0),a),o.onOpen(()=>{a.socketReady()}),o.onMessage(e=>{let t=e["data"];t=t instanceof ArrayBuffer?l.Buffer.from(t):l.Buffer.from(t,"utf8"),s.push(t)}),o.onClose(()=>{a.emit("close"),a.end(),a.destroy()}),o.onError(e=>{e=new Error(e.errMsg);a.destroy(e)}),a}}),Kl=D(e=>{"use strict";A(),x(),I(),Object.defineProperty(e,"__esModule",{value:!0});ke();var i,o,s,a=me(qe),l=or(),u=Qo(),c=!1;e.default=(e,t)=>{if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",n=((n=t).hostname||(n.hostname="localhost"),n.path||(n.path="/"),n.wsOptions||(n.wsOptions={}),function(e,t){let r="alis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+`://${e.hostname}:`+e.port+e.path),n="function"==typeof e.transformWsUrl?e.transformWsUrl(n,e,t):n}(t,e));return(i=t.my).connectSocket({url:n,protocols:r}),o=function(){let e=new l.Transform;return e._write=(e,t,r)=>{i.sendSocketMessage({data:e.buffer,success(){r()},fail(){r(new Error)}})},e._flush=e=>{i.closeSocket({success(){e()}})},e}(),s=new u.BufferedDuplex(t,o,i),c||(c=!0,i.onSocketOpen(()=>{s.socketReady()}),i.onSocketMessage(t=>{if("string"==typeof t.data){var e=a.Buffer.from(t.data,"base64");o.push(e)}else{let e=new FileReader;e.addEventListener("load",()=>{e.result instanceof ArrayBuffer?o.push(a.Buffer.from(e.result)):o.push(a.Buffer.from(e.result,"utf-8"))}),e.readAsArrayBuffer(t.data)}}),i.onSocketClose(()=>{s.end(),s.destroy()}),i.onSocketError(e=>{s.destroy(e)})),s}}),Wb=D(e=>{"use strict";A(),x(),I();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=function(e,s,a=!0){return new Promise((t,r)=>{let n=c(e,s),i={connect:e=>{o(),t(n)},end:()=>{o(),t(n)},error:e=>{o(),n.end(),r(e)}};function o(){Object.keys(i).forEach(e=>{n.off(e,i[e])})}!1===a&&(i.close=()=>{i.error(new Error("Couldn't connect to server"))}),Object.keys(i).forEach(e=>{n.on(e,i[e])})})},t(At())),o=t((Ib(),me(Ab))),s=t(zo()),a=t(yi()),l=("function"!=typeof M?.nextTick&&(M.nextTick=setImmediate),(0,r.default)("mqttjs")),u=null;function c(r,n){if(l("connecting to an MQTT broker..."),"object"!=typeof r||n||(n=r,r=""),n=n||{},r&&"string"==typeof r){let e=o.default.parse(r,!0),t={};if(null!=e.port&&(t.port=Number(e.port)),t.host=e.hostname,t.query=e.query,t.auth=e.auth,t.protocol=e.protocol,t.path=e.path,!(n={...t,...n}).protocol)throw new Error("Missing protocol");n.protocol=n.protocol.replace(/:$/,"")}if(n.unixSocket=n.unixSocket||n.protocol?.includes("+unix"),n.unixSocket?n.protocol=n.protocol.replace("+unix",""):n.protocol?.startsWith("ws")||n.protocol?.startsWith("wx")||delete n.path,(r=n).auth&&((e=r.auth.match(/^(.+):(.+)$/))?([,e,t]=e,r.username=e,r.password=t):r.username=r.auth),n.query&&"string"==typeof n.query.clientId&&(n.clientId=n.query.clientId),a.default||n.unixSocket?n.socksProxy=void 0:void 0===n.socksProxy&&typeof M<"u"&&(n.socksProxy=M.env.MQTTJS_SOCKS_PROXY),n.cert&&n.key){if(!n.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(n.protocol))switch(n.protocol){case"mqtt":n.protocol="mqtts";break;case"ws":n.protocol="wss";break;case"wx":n.protocol="wxs";break;case"ali":n.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${n.protocol}"!`)}}var e,t;if(u||(u={},a.default||n.forceNativeWebSocket?(u.ws=_i().browserStreamBuilder,u.wss=_i().browserStreamBuilder,u.wx=Vl().default,u.wxs=Vl().default,u.ali=Kl().default,u.alis=Kl().default):(u.ws=_i().streamBuilder,u.wss=_i().streamBuilder,u.mqtt=jl().default,u.tcp=jl().default,u.ssl=Wl().default,u.tls=u.ssl,u.mqtts=Wl().default)),!u[n.protocol]){let r=-1!==["mqtts","wss"].indexOf(n.protocol);n.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((e,t)=>(!r||t%2!=0)&&"function"==typeof u[e])[0]}if(!1===n.clean&&!n.clientId)throw new Error("Missing clientId for unclean clients");n.protocol&&(n.defaultProtocol=n.protocol);let i=new s.default(function(e){return n.servers&&(e._reconnectCount&&e._reconnectCount!==n.servers.length||(e._reconnectCount=0),n.host=n.servers[e._reconnectCount].host,n.port=n.servers[e._reconnectCount].port,n.protocol=n.servers[e._reconnectCount].protocol||n.defaultProtocol,n.hostname=n.host,e._reconnectCount++),l("calling streambuilder for",n.protocol),u[n.protocol](e,n)},n);return i.on("error",()=>{}),i}e.default=c}),Ql=D(e=>{"use strict";A(),x(),I();var i,o=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),s=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=e&&e.__importStar||(i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),n=0;n<r.length;n++)"default"!==r[n]&&o(t,e,r[n]);return s(t,e),t}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0,n(zo())),l=(e.MqttClient=a.default,n(Au())),l=(e.DefaultMessageIdProvider=l.default,n(Ng())),l=(e.UniqueMessageIdProvider=l.default,n(La())),u=(e.Store=l.default,t(Wb())),l=(e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}}),n(Du())),c=(e.KeepaliveManager=l.default,e.Client=a.default,r(zo(),e),r(Mr(),e),zn());Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return c.ReasonCodes}})}),XT=D(e=>{A(),x(),I();var i,o=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),s=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=e&&e.__importStar||(i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),n=0;n<r.length;n++)"default"!==r[n]&&o(t,e,r[n]);return s(t,e),t}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)},t=(Object.defineProperty(e,"__esModule",{value:!0}),t(Ql()));e.default=t,r(Ql(),e)});export default XT();